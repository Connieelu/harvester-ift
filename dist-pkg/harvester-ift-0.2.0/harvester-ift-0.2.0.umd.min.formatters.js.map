{"version":3,"sources":["webpack://harvester-ift-0.2.0/./formatters/NetworkRouteConnectivity.vue","webpack://harvester-ift-0.2.0/formatters/NetworkRouteConnectivity.vue","webpack://harvester-ift-0.2.0/./formatters/NetworkRouteConnectivity.vue?0110","webpack://harvester-ift-0.2.0/./formatters/NetworkRouteConnectivity.vue?1278","webpack://harvester-ift-0.2.0/./formatters/HarvesterVolumeState.vue?2672","webpack://harvester-ift-0.2.0/./formatters/HarvesterVmState.vue?ff6d","webpack://harvester-ift-0.2.0/./formatters/HarvesterMigrationState.vue?4f75","webpack://harvester-ift-0.2.0/./formatters/HarvesterVmState.vue","webpack://harvester-ift-0.2.0/formatters/HarvesterVmState.vue","webpack://harvester-ift-0.2.0/./formatters/HarvesterVmState.vue?9a58","webpack://harvester-ift-0.2.0/./formatters/HarvesterVmState.vue?668b","webpack://harvester-ift-0.2.0/./formatters/HarvesterVmState.vue?3112","webpack://harvester-ift-0.2.0/./mixins/harvester-vm/impl.js","webpack://harvester-ift-0.2.0/./formatters/NetworkRouteConnectivity.vue?2780","webpack://harvester-ift-0.2.0/./formatters/NetworkRouteConnectivity.vue?0ea6","webpack://harvester-ift-0.2.0/./formatters/HarvesterVolumeState.vue?8266","webpack://harvester-ift-0.2.0/./config/settings.js","webpack://harvester-ift-0.2.0/./mixins/harvester-vm/index.js","webpack://harvester-ift-0.2.0/./formatters/HarvesterNodeName.vue","webpack://harvester-ift-0.2.0/formatters/HarvesterNodeName.vue","webpack://harvester-ift-0.2.0/./formatters/HarvesterNodeName.vue?9226","webpack://harvester-ift-0.2.0/./formatters/HarvesterNodeName.vue?1536","webpack://harvester-ift-0.2.0/./formatters/CloudInitType.vue","webpack://harvester-ift-0.2.0/formatters/CloudInitType.vue","webpack://harvester-ift-0.2.0/./formatters/CloudInitType.vue?4b3b","webpack://harvester-ift-0.2.0/./formatters/CloudInitType.vue?5532","webpack://harvester-ift-0.2.0/./formatters/HarvesterVmState.vue?e241","webpack://harvester-ift-0.2.0/./formatters/RelatedVolumeSnapshotCounts.vue","webpack://harvester-ift-0.2.0/formatters/RelatedVolumeSnapshotCounts.vue","webpack://harvester-ift-0.2.0/./formatters/RelatedVolumeSnapshotCounts.vue?bffc","webpack://harvester-ift-0.2.0/./formatters/RelatedVolumeSnapshotCounts.vue?26e5","webpack://harvester-ift-0.2.0/./formatters/GpuDescription.vue","webpack://harvester-ift-0.2.0/formatters/GpuDescription.vue","webpack://harvester-ift-0.2.0/./formatters/GpuDescription.vue?8f20","webpack://harvester-ift-0.2.0/./formatters/GpuDescription.vue?ddc6","webpack://harvester-ift-0.2.0/./formatters/AttachedVM.vue","webpack://harvester-ift-0.2.0/formatters/AttachedVM.vue","webpack://harvester-ift-0.2.0/./formatters/AttachedVM.vue?8117","webpack://harvester-ift-0.2.0/./formatters/AttachedVM.vue?3973","webpack://harvester-ift-0.2.0/./formatters/AttachVMWithName.vue","webpack://harvester-ift-0.2.0/formatters/AttachVMWithName.vue","webpack://harvester-ift-0.2.0/./formatters/AttachVMWithName.vue?fdb0","webpack://harvester-ift-0.2.0/./formatters/AttachVMWithName.vue?7163","webpack://harvester-ift-0.2.0/./formatters/HarvesterMigrationState.vue","webpack://harvester-ift-0.2.0/formatters/HarvesterMigrationState.vue","webpack://harvester-ift-0.2.0/./formatters/HarvesterMigrationState.vue?8f4b","webpack://harvester-ift-0.2.0/./formatters/HarvesterMigrationState.vue?59bd","webpack://harvester-ift-0.2.0/./formatters/HarvesterIpAddress.vue","webpack://harvester-ift-0.2.0/formatters/HarvesterIpAddress.vue","webpack://harvester-ift-0.2.0/./formatters/HarvesterIpAddress.vue?ce89","webpack://harvester-ift-0.2.0/./formatters/HarvesterIpAddress.vue?c935","webpack://harvester-ift-0.2.0/./formatters/HarvesterMigrationState.vue?afeb","webpack://harvester-ift-0.2.0/./formatters/HarvesterVolumeState.vue","webpack://harvester-ift-0.2.0/formatters/HarvesterVolumeState.vue","webpack://harvester-ift-0.2.0/./formatters/HarvesterVolumeState.vue?5d3a","webpack://harvester-ift-0.2.0/./formatters/HarvesterVolumeState.vue?c9de","webpack://harvester-ift-0.2.0/./formatters/HarvesterMigrationState.vue?e1fa","webpack://harvester-ift-0.2.0/./formatters/NetworkRouteConnectivity.vue?8126","webpack://harvester-ift-0.2.0/./formatters/HarvesterVolumeState.vue?4395"],"names":["render","_vm","this","_c","_self","value","staticClass","attrs","arbitrary","row","_v","_s","staticRenderFns","components","BadgeStateFormatter","props","type","String","default","Object","required","col","Boolean","data","component","___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","locals","add","directives","name","rawName","isMigrating","expression","on","migrationStateChanged","warningMessage","length","slot","_l","message","index","key","_e","VMState","HarvesterMigrationState","allNodeNetwork","Array","allClusterNetwork","computed","_this$row$warningMess","_this$row","_this$row$warningMess2","_this$row2","out","pod","_pod$metadata","_pod$metadata2","_pod$metadata3","metadata","state","error","test","_this$row$warningMess3","_this$row3","actualState","migrationMessage","methods","neu","QGA_JSON","package_update","packages","runcmd","QGA_MAP","USB_TABLET","bus","SSH_EXISTING_TYPE","EXISTING_ALL","EXISTING_ONLY_ANNOTATION","EXISTING_ONLY_CLOUD","hasCloudConfigComment","userScript","_userDataDoc$contents","_userDataDoc$comment","_userDataDoc$commentB","userDataDoc","YAML","parseDocument","items","contents","exist","comment","includes","commentBefore","map","item","_key$commentBefore","getSSHValue","id","_sshs$find","sshs","$store","getters","PRODUCT_NAME","HCI","SSH","find","O","spec","publicKey","undefined","getOsType","vm","_vm$metadata","labels","HCI_ANNOTATIONS","OS","getMatchQGA","osType","_QGA_JSON","clone","hasCustomQGA","forEach","match","getSimilarRuncmd","hasInstallAgent","oldValue","_dataFormat","_dataFormat2","dataFormat","jsyaml","load","e","Error","S","isArray","join","isInstallUSBTablet","_spec$template","inputs","template","domain","devices","isEqual","isEfiEnabled","_spec$template2","_spec$template3","features","smm","firmware","bootloader","efi","isSecureBoot","_spec$template4","secureBoot","getCloudInitNoCloud","_secret$decodedData","_secret$decodedData2","_spec$template5","secret","getSecret","userData","decodedData","userdata","networkData","networkdata","cloudInitNoCloud","volumes","V","saveUserDataAsClearText","saveNetworkDataAsClearText","_spec$template6","_cloudInitNoCloud$sec","_cloudInitNoCloud$net","secrets","SECRET","secretName","secretRef","networkDataSecretRef","s","getAccessCredentials","_spec$template7","_spec$template$metada","credentials","accessCredentials","annotations","JSON","parse","DYNAMIC_SSHKEYS_NAMES","c","_c$source","source","userPassword","username","newPassword","users","sshkeys","keys","propagationMethod","qemuGuestAgent","getVolumeClaimTemplates","VOLUME_CLAIM_TEMPLATE","getRootImageId","_volume$","volume","IMAGE_ID","getSSHFromAnnotation","_spec$template8","ids","SSH_NAMES","convertToJson","script","getSSHFromUserData","_this$convertToJson","ssh_authorized_keys","compareSSHValue","a","b","r","replace","mergeAllSSHs","allSSHs","hasSSHResource","ssh","_userDataSSH","sshValue","_ssh$spec","HCI_SETTING","BACKUP_TARGET","CONTAINERD_REGISTRY","LOG_LEVEL","SERVER_VERSION","UI_INDEX","UI_PLUGIN_INDEX","UPGRADE_CHECKER_ENABLED","UPGRADE_CHECKER_URL","VLAN","UI_SOURCE","HTTP_PROXY","ADDITIONAL_CA","OVERCOMMIT_CONFIG","CLUSTER_REGISTRATION_URL","DEFAULT_STORAGE_CLASS","VIP","SUPPORT_BUNDLE_TIMEOUT","SUPPORT_BUNDLE_IMAGE","STORAGE_NETWORK","VM_FORCE_RESET_POLICY","SSL_CERTIFICATES","SSL_PARAMETERS","SUPPORT_BUNDLE_NAMESPACES","AUTO_DISK_PROVISION_PATHS","RELEASE_DOWNLOAD_URL","CCM_CSI_VERSION","MANAGEMENT_NETWORK","label","CD_ROM","HARD_DISK","mixins","impl","resource","_res$addons$find","hash","pvs","dispatch","PV","pvcs","PVC","storageClasses","STORAGE_CLASS","settings","SETTING","images","IMAGE","versions","VM_VERSION","templates","VM_TEMPLATE","networkAttachment","NETWORK_ATTACHMENT","vmis","VMI","vmims","VMIM","vms","VM","addons","ADD_ONS","NODE","nodes","CLUSTER_NETWORK","clusterNetworks","res","allHash","hasPCISchema","PCI_DEVICE","enabledPCI","addon","enabled","isClone","realMode","_CLONE","sshKey","runStrategy","installAgent","hasCreateVolumes","installUSBTablet","networkScript","imageId","diskRows","networkRows","machineType","showAdvanced","deleteAgent","memory","cpu","reservedMemory","efiEnabled","userDataTemplateId","immutableMode","_CREATE","_VIEW","inStore","nodesIdOptions","filter","N","isUnSchedulable","node","nameDisplay","defaultStorageClass","_defaultStorage$metad","defaultStorage","isDefault","storageClassSetting","_this$$store$getters$","storageClassValue","customVolumeMode","volumeMode","customAccessMode","accessModes","isWindows","needNewSecret","isCreate","getInitConfig","init","config","_this$value$status","_resources$limits","_resources$limits2","_spec$template$spec$d","existUserData","fromTemplate","BACKUP","status","resources","limits","requests","cores","VM_RESERVED_MEMORY","getDiskRows","getNetworkRows","getHasCreatedVolumes","_this$value$status2","secretBackups","_secretBackups$","_secretBackups$2","secretNetworkData","secretUserData","base64Decode","getInitUserData","prototype","hasOwnProperty","call","running","$set","refreshYamlEditor","namespace","_volumes","_disks","disks","_volumeClaimTemplates","randomStr","SOURCE_TYPE","accessMode","volumeName","size","storageClassName","image","DISK","_volume$persistentVol","_DISK$disk","_DISK$cdrom","_this$pvcs$find","realName","container","hotpluggable","dataSource","cdrom","disk","containerDisk","CONTAINER","persistentVolumeClaim","claimName","DVT","T","_DVT$metadata","_dataVolumeSpecPVC$ac","_dataVolumeSpecPVC$re","_DVT$metadata2","NEW","dataVolumeSpecPVC","storage","_pvcResource$spec","_pvcResource$spec2","_pvcResource$spec3","_pvcResource$spec4","_pvcResource$metadata","allPVCs","pvcResource","_volume$persistentVol2","ATTACH_VOLUME","bootOrder","parseValue","parseSi","formatSize","formatSi","increment","addSuffix","maxExponent","minExponent","volumeStatus","P","relatedPV","VOLUME_ERROR","sortBy","networks","interfaces","I","_network$multus","network","masquerade","bridge","isPod","newCreateId","model","networkName","multus","parseVM","getUserData","parseOther","parseAccessCredentials","parseNetworkRows","parseDiskRows","machine","toString","_this$spec","_this$spec2","_this$spec3","_this$value","_this$spec$template","_this$spec$template2","_this$spec$template3","diskNameLables","volumeClaimTemplates","R","_this$value$metadata","prefixName","dataVolumeName","toLowerCase","_disk","parseDisk","_volume","parseVolume","_dataVolumeTemplate","parseVolumeClaimTemplate","generateSecretName","secretNamePrefix","D","cloudinitdisk","stringify","VM_NAME","isSingle","multiVMScheduler","NETWORK_IPS","networkIps","CREATOR","_spec$template$spec","_spec$template$spec2","VM_NAME_PREFIX","namePrefix","rule","weight","podAffinityTerm","topologyKey","HOSTNAME","labelSelector","matchLabels","affinity","podAntiAffinity","preferredDuringSchedulingIgnoredDuringExecution","networkRow","_network","parseNetwork","_interface","parseInterface","_this$spec4","DYNAMIC_SSHKEYS_USERS","ACCESS_CREDENTIALS","RESET_PWD","INJECT_SSH","sshPublicKey","from","Set","dump","allSSHAuthorizedKeys","mergeSSHAuthorizedKeys","setIn","isCollection","getIn","deleteIn","mergeQGA","deleteQGA","userDataYaml","console","updateSSHKey","updateCpuMemory","getSSHListValue","arr","macAddress","updateUserData","updateNetworkData","yaml","_YAML$parseDocument$g","sshAuthorizedKeys","get","toJSON","sshList","deleteYamlDocProp","doc","paths","_doc$getIn","isMatchProp","userDataYAML","userDataJSON","findIndex","hasSameRuncmd","hasSimilarRuncmd","_this$$store$getters","deletePackage","userDataTemplateValue","CONFIG_MAP","cloudInit","templateHasQGAPackage","splice","getOwnerReferencesFromVM","_resource$metadata","kind","apiVersion","uid","isEdit","CLOUD_INIT","ownerReferences","setData","save","Promise","reject","toSave","secretId","keypair","getAccessCredentialsValidation","errors","fieldName","t","val","_V$persistentVolumeCl","handlerUSBTablet","_this$spec$template$s","hasExist","assign","$delete","setBootMethod","boot","set","deleteSSHFromUserData","userDataJson","isEmpty","$nextTick","_this$$refs$yamlEdito","$refs","yamlEditor","updateValue","toggleAdvanced","updateAgent","updateDataTemplateId","oldInstallAgent","updateReserved","watch","handler","old","_neu$","_old$","imageOSType","oldImageId","immediate","deep","hasCloudComment","_diff","difference","nodeName","CopyToClipboard","created","_this$node","vmi","vmiResources","_this$vmi","displayLabel","mapGetters","to","detailLocation","GpuDescription","descriptionString","description","parts","split","textAfterColon","slice","trim","mainVM","attachedVMLabels","modifiers","n","nadOccupation","NAD_OCCUPATION","vmsNames","vmList","_this$vm","showSuccess","vmiResource","migrationState","migrationStateBackground","BadgeState","vmResource","vmiList","_VMI$metadata","_this$vmResource","_this$vmiResource","$emit","showIP","ips","ip","vmiIp","networkAnnotationIP","sort","annotationIp","_resource$spec","_resource$status","networksName","vmiNetworks","intf","isIpv4","ipAddress","stateDisplay","OFF","VolumeState","_this$row$relatedPV"],"mappings":"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","file":"harvester-ift-0.2.0.umd.min.formatters.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.value !== 'N/A')?_c('div',{staticClass:\"text\"},[_c('BadgeStateFormatter',{staticClass:\"ml-10\",attrs:{\"arbitrary\":_vm.arbitrary,\"row\":_vm.row,\"value\":_vm.value}})],1):_c('div',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(_vm.value)+\" \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport BadgeStateFormatter from '@shell/components/formatter/BadgeStateFormatter';\n\nexport default {\n  components: { BadgeStateFormatter },\n  props:      {\n    value: {\n      type:    String,\n      default: ''\n    },\n    row: {\n      type:     Object,\n      required: true\n    },\n    col: {\n      type:    Object,\n      default: () => {}\n    },\n\n    arbitrary: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {};\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div\n      v-if=\"value !== 'N/A'\"\n      class=\"text\"\n    >\n      <BadgeStateFormatter\n        class=\"ml-10\"\n        :arbitrary=\"arbitrary\"\n        :row=\"row\"\n        :value=\"value\"\n      />\n    </div>\n    <div\n      v-else\n      class=\"text\"\n    >\n      {{ value }}\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.text {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkRouteConnectivity.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkRouteConnectivity.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NetworkRouteConnectivity.vue?vue&type=template&id=d543d746&scoped=true\"\nimport script from \"./NetworkRouteConnectivity.vue?vue&type=script&lang=js\"\nexport * from \"./NetworkRouteConnectivity.vue?vue&type=script&lang=js\"\nimport style0 from \"./NetworkRouteConnectivity.vue?vue&type=style&index=0&id=d543d746&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d543d746\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".state[data-v-bc47731e]{display:flex;justify-content:space-between}.state .icon-warning[data-v-bc47731e]{margin-top:2px}.warning-message[data-v-bc47731e]:first-letter{text-transform:uppercase}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterVmState.vue?vue&type=style&index=0&id=21cf3140&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4dc4385a\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterMigrationState.vue?vue&type=style&index=0&id=5ceec65a&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_c('HarvesterMigrationState',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMigrating),expression:\"isMigrating\"}],attrs:{\"vm-resource\":_vm.row},on:{\"state-changed\":_vm.migrationStateChanged}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isMigrating),expression:\"!isMigrating\"}],staticClass:\"state\"},[_c('VMState',{attrs:{\"row\":_vm.row}}),(_vm.warningMessage.length)?_c('v-popover',{attrs:{\"trigger\":\"hover\",\"offset\":\"16\"}},[_c('span',{staticClass:\"tooltip-target\"},[_c('i',{staticClass:\"icon icon-warning icon-lg text-warning\"})]),_c('template',{slot:\"popover\"},_vm._l((_vm.warningMessage),function(message,index){return _c('p',{key:message},[_vm._v(\" \"+_vm._s(index + 1)+\". \"+_vm._s(message)+\" \")])}),0)],2):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport VMState from '@shell/components/formatter/BadgeStateFormatter';\nimport HarvesterMigrationState from './HarvesterMigrationState';\n\nexport default {\n  components: { VMState, HarvesterMigrationState },\n  props:      {\n    value: {\n      type:    String,\n      default: ''\n    },\n\n    row: {\n      type:     Object,\n      required: true\n    },\n\n    allNodeNetwork: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    allClusterNetwork: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n\n  data() {\n    return { isMigrating: false };\n  },\n\n  computed: {\n    warningMessage() {\n      const out = [];\n\n      if (this.row.warningMessage?.pod) {\n        const pod = this.row.warningMessage.pod;\n\n        if (pod.metadata?.state?.error && !/pod has unbound immediate PersistentVolumeClaims/.test(pod.metadata?.state?.message)) {\n          out.push(pod.metadata?.state?.message);\n        }\n      }\n\n      if (this.row?.actualState === 'VM error' && this.row.warningMessage?.message) {\n        out.push(this.row.warningMessage?.message);\n      }\n\n      if (this.row?.migrationMessage) {\n        out.push(this.row?.migrationMessage.message);\n      }\n\n      return out;\n    }\n  },\n\n  methods: {\n    migrationStateChanged(neu) {\n      if (neu === 'Failed') {\n        this.isMigrating = false;\n      } else {\n        this.isMigrating = !!neu;\n      }\n    }\n  },\n};\n</script>\n\n<template>\n  <span>\n    <HarvesterMigrationState\n      v-show=\"isMigrating\"\n      :vm-resource=\"row\"\n      @state-changed=\"migrationStateChanged\"\n    />\n    <div\n      v-show=\"!isMigrating\"\n      class=\"state\"\n    >\n      <VMState :row=\"row\" />\n      <v-popover\n        v-if=\"warningMessage.length\"\n        trigger=\"hover\"\n        offset=\"16\"\n      >\n        <span class=\"tooltip-target\">\n          <i class=\"icon icon-warning icon-lg text-warning\" />\n        </span>\n\n        <template slot=\"popover\">\n          <p\n            v-for=\"(message, index) in warningMessage\"\n            :key=\"message\"\n          >\n            {{ index + 1 }}. {{ message }}\n          </p>\n        </template>\n      </v-popover>\n    </div>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n.state {\n  display: flex;\n  justify-content: space-between;\n\n  .icon-warning {\n    margin-top: 2px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterVmState.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterVmState.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HarvesterVmState.vue?vue&type=template&id=21cf3140&scoped=true\"\nimport script from \"./HarvesterVmState.vue?vue&type=script&lang=js\"\nexport * from \"./HarvesterVmState.vue?vue&type=script&lang=js\"\nimport style0 from \"./HarvesterVmState.vue?vue&type=style&index=0&id=21cf3140&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21cf3140\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterVmState.vue?vue&type=style&index=0&id=21cf3140&prod&lang=scss&scoped=true\"","import YAML from 'yaml';\nimport jsyaml from 'js-yaml';\nimport isEqual from 'lodash/isEqual';\nimport { clone } from '@shell/utils/object';\nimport { SECRET } from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../../types';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport { OS } from './index';\n\nexport const QGA_JSON = {\n  package_update: true,\n  packages:       ['qemu-guest-agent'],\n  runcmd:         [\n    [\n      'systemctl',\n      'enable',\n      '--now',\n      'qemu-guest-agent.service'\n    ]\n  ]\n};\n\nexport const QGA_MAP = { default: 'qemu-guest-agent.service' };\n\nexport const USB_TABLET = [{\n  bus:  'usb',\n  name: 'tablet',\n  type: 'tablet'\n}];\n\nexport const SSH_EXISTING_TYPE = {\n  EXISTING_ALL:             'EXISTING_ALL',\n  EXISTING_ONLY_ANNOTATION: 'EXISTING_ANNOTATION',\n  EXISTING_ONLY_CLOUD:      'EXISTING_CLOUD',\n};\n\nexport default {\n  methods: {\n    hasCloudConfigComment(userScript) {\n      // Check that userData contains: #cloud-config\n      const userDataDoc = userScript ? YAML.parseDocument(userScript) : YAML.parseDocument({});\n      const items = userDataDoc?.contents?.items || [];\n\n      let exist = false;\n\n      if (userDataDoc?.comment === 'cloud-config' || userDataDoc?.comment?.includes('cloud-config\\n')) {\n        exist = true;\n      }\n\n      if (userDataDoc?.commentBefore === 'cloud-config' || userDataDoc?.commentBefore?.includes('cloud-config\\n')) {\n        exist = true;\n      }\n\n      items.map((item) => {\n        const key = item.key;\n\n        if (key?.commentBefore === 'cloud-config' || key?.commentBefore?.includes('cloud-config\\n')) {\n          exist = true;\n        }\n      });\n\n      return exist;\n    },\n\n    getSSHValue(id) {\n      // const inStore = this.$store.getters['currentProduct'].inStore;\n      const sshs = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.SSH) || [];\n\n      return sshs.find( (O) => O.id === id)?.spec?.publicKey || undefined;\n    },\n\n    getOsType(vm) {\n      return vm.metadata?.labels?.[HCI_ANNOTATIONS.OS];\n    },\n\n    getMatchQGA(osType) {\n      const _QGA_JSON = clone(QGA_JSON);\n      let hasCustomQGA = false;\n\n      OS.forEach((O) => {\n        if (O.match) {\n          hasCustomQGA = O.match.find((type) => type === osType);\n        }\n      });\n\n      if (hasCustomQGA) {\n        _QGA_JSON.runcmd[0][3] = QGA_MAP[osType];\n      } else {\n        _QGA_JSON.runcmd[0][3] = QGA_MAP['default'];\n      }\n\n      return _QGA_JSON;\n    },\n\n    getSimilarRuncmd(osType) {\n      const _QGA_JSON = clone(QGA_JSON);\n\n      if (osType === 'openSUSE') {\n        _QGA_JSON.runcmd[0][3] = QGA_MAP['default'];\n      } else {\n        _QGA_JSON.runcmd[0][3] = QGA_MAP['suse'];\n      }\n\n      return _QGA_JSON.runcmd[0];\n    },\n\n    hasInstallAgent(userScript, osType, oldValue) {\n      let dataFormat = {};\n      const _QGA_JSON = this.getMatchQGA(osType);\n\n      try {\n        dataFormat = jsyaml.load(userScript) || {};\n      } catch (e) {\n        new Error('Function(hasInstallAgent) error');\n\n        return oldValue;\n      }\n\n      return dataFormat?.packages?.includes('qemu-guest-agent') && !!dataFormat?.runcmd?.find( (S) => Array.isArray(S) && S.join('-') === _QGA_JSON.runcmd[0].join('-'));\n    },\n\n    isInstallUSBTablet(spec) {\n      const inputs = spec?.template?.spec?.domain?.devices?.inputs;\n\n      if (Array.isArray(inputs)) {\n        return !!inputs.find((O) => {\n          return isEqual(O, USB_TABLET[0]);\n        });\n      } else {\n        return false;\n      }\n    },\n\n    isEfiEnabled(spec) {\n      return !!(spec?.template?.spec?.domain?.features?.smm && spec?.template?.spec?.domain?.firmware?.bootloader?.efi);\n    },\n\n    isSecureBoot(spec) {\n      return !!spec?.template?.spec?.domain?.firmware?.bootloader?.efi?.secureBoot;\n    },\n\n    getCloudInitNoCloud(spec) {\n      const secret = this.getSecret(spec);\n      let userData = secret?.decodedData?.userdata;\n      let networkData = secret?.decodedData?.networkdata;\n\n      const cloudInitNoCloud = spec?.template?.spec?.volumes?.find( (V) => {\n        return V.name === 'cloudinitdisk';\n      })?.cloudInitNoCloud || {};\n\n      // If the value is not found inside the secret, the data may be written directly in the yaml\n      if (cloudInitNoCloud?.userData) {\n        userData = cloudInitNoCloud.userData;\n        this.saveUserDataAsClearText = true;\n      }\n\n      if (cloudInitNoCloud?.networkData) {\n        networkData = cloudInitNoCloud.networkData;\n        this.saveNetworkDataAsClearText = true;\n      }\n\n      return { userData, networkData };\n    },\n\n    getSecret(spec) {\n      const cloudInitNoCloud = spec?.template?.spec?.volumes?.find( (V) => {\n        return V.name === 'cloudinitdisk';\n      })?.cloudInitNoCloud || {};\n      // const inStore = this.$store.getters['currentProduct'].inStore;\n      const secrets = this.$store.getters[`${ PRODUCT_NAME }/all`](SECRET) || [];\n\n      const secretName = cloudInitNoCloud?.secretRef?.name || cloudInitNoCloud?.networkDataSecretRef?.name;\n\n      const secret = secrets.find((s) => s.metadata.name === secretName);\n\n      return secret;\n    },\n\n    getAccessCredentials(spec) {\n      // const inStore = this.$store.getters['currentProduct'].inStore;\n      const secrets = this.$store.getters[`${ PRODUCT_NAME }/all`](SECRET) || [];\n      const credentials = spec?.template?.spec?.accessCredentials || [];\n      const annotations = JSON.parse(spec.template.metadata?.annotations?.[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_NAMES] || '[]');\n\n      return credentials.map((c) => {\n        const source = !!c.userPassword ? 'userPassword' : 'sshPublicKey';\n        const secretName = c[source]?.source?.secret?.secretName;\n        const secretRef = secrets.find((s) => s.metadata.name === secretName);\n        const out = {\n          source, username: '', newPassword: '', users: [], sshkeys: [], secretName, secretRef\n        };\n\n        if (!secretRef) {\n          out.secretRef = undefined;\n        } else if (source === 'userPassword') {\n          const username = Object.keys(secretRef?.data)[0];\n          const newPassword = secretRef.decodedData[username];\n\n          out.username = username;\n          out.newPassword = newPassword;\n        } else {\n          const users = c[source].propagationMethod.qemuGuestAgent.users;\n          const sshkeys = annotations?.[secretName];\n\n          out.users = users;\n          out.sshkeys = sshkeys;\n        }\n\n        return out;\n      });\n    },\n\n    getVolumeClaimTemplates(vm) {\n      let out = [];\n\n      try {\n        out = JSON.parse(vm.metadata.annotations[HCI_ANNOTATIONS.VOLUME_CLAIM_TEMPLATE]);\n      } catch (e) {\n        new Error(`Function: getVolumeClaimTemplates, ${ e }`);\n      }\n\n      return out;\n    },\n\n    getRootImageId(vm) {\n      const volume = this.getVolumeClaimTemplates(vm);\n\n      return volume[0]?.metadata?.annotations?.[HCI_ANNOTATIONS.IMAGE_ID] || '';\n    },\n\n    getSSHFromAnnotation(spec) {\n      const ids = spec?.template?.metadata?.annotations?.[HCI_ANNOTATIONS.SSH_NAMES] || '[]';\n\n      return JSON.parse(ids);\n    },\n\n    convertToJson(script = '') {\n      let out = {};\n\n      try {\n        out = jsyaml.load(script);\n      } catch (e) {\n        new Error('Function(convertToJson) error');\n      }\n\n      return out;\n    },\n\n    getSSHFromUserData(userData) {\n      return this.convertToJson(userData)?.ssh_authorized_keys || [];\n    },\n\n    compareSSHValue(a = '', b = '') {\n      const r = /(\\r\\n\\t|\\n|\\r\\t)|(\\s*)/gm;\n\n      return a.replace(r, '') === b.replace(r, '');\n    },\n\n    mergeAllSSHs(spec) {\n      const keys = this.getSSHFromAnnotation(spec);\n      const { userScript: userData } = this.getCloudInitNoCloud(spec);\n\n      if (!keys?.length < 0 && !userData) {\n        return [];\n      }\n\n      let out = [];\n\n      // const inStore = this.$store.getters['currentProduct'].inStore;\n      const allSSHs = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.SSH) || [];\n\n      out = (keys || []).map((id) => {\n        const hasSSHResource = allSSHs.find((ssh) => ssh.id === id);\n\n        if (hasSSHResource) {\n          return {\n            id:   hasSSHResource.id,\n            data: hasSSHResource,\n            type: SSH_EXISTING_TYPE.EXISTING_ALL\n          };\n        } else {\n          return {\n            id,\n            data: id,\n            type: SSH_EXISTING_TYPE.EXISTING_ONLY_ANNOTATION\n          };\n        }\n      });\n\n      const _userDataSSH = this.getSSHFromUserData(userData);\n\n      _userDataSSH.map( (sshValue) => {\n        const hasSSHResource = allSSHs.find((ssh) => this.compareSSHValue(sshValue, ssh.spec?.publicKey));\n\n        if (hasSSHResource && !out.find((O) => O.id === hasSSHResource.id)) {\n          out.push({\n            id:   hasSSHResource.id,\n            data: hasSSHResource,\n            type: SSH_EXISTING_TYPE.EXISTING_ALL\n          });\n        } else if (!hasSSHResource) {\n          out.push({\n            id:   'Unknown',\n            data: sshValue,\n            type: SSH_EXISTING_TYPE.EXISTING_ONLY_CLOUD\n          });\n        }\n      });\n\n      return out;\n    },\n  },\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".text[data-v-d543d746]{text-align:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkRouteConnectivity.vue?vue&type=style&index=0&id=d543d746&prod&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterVolumeState.vue?vue&type=style&index=0&id=bc47731e&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5df1dc1c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export const HCI_SETTING = {\n  BACKUP_TARGET:             'backup-target',\n  CONTAINERD_REGISTRY:       'containerd-registry',\n  LOG_LEVEL:                 'log-level',\n  SERVER_VERSION:            'server-version',\n  UI_INDEX:                  'ui-index',\n  UI_PLUGIN_INDEX:           'ui-plugin-index',\n  UPGRADE_CHECKER_ENABLED:   'upgrade-checker-enabled',\n  UPGRADE_CHECKER_URL:       'upgrade-checker-url',\n  VLAN:                      'vlan',\n  UI_SOURCE:                 'ui-source',\n  HTTP_PROXY:                'http-proxy',\n  ADDITIONAL_CA:             'additional-ca',\n  OVERCOMMIT_CONFIG:         'overcommit-config',\n  CLUSTER_REGISTRATION_URL:  'cluster-registration-url',\n  DEFAULT_STORAGE_CLASS:     'default-storage-class',\n  VIP:                       'vip-pools',\n  SUPPORT_BUNDLE_TIMEOUT:    'support-bundle-timeout',\n  SUPPORT_BUNDLE_IMAGE:      'support-bundle-image',\n  STORAGE_NETWORK:           'storage-network',\n  VM_FORCE_RESET_POLICY:     'vm-force-reset-policy',\n  SSL_CERTIFICATES:          'ssl-certificates',\n  SSL_PARAMETERS:            'ssl-parameters',\n  SUPPORT_BUNDLE_NAMESPACES: 'support-bundle-namespaces',\n  AUTO_DISK_PROVISION_PATHS: 'auto-disk-provision-paths',\n  RELEASE_DOWNLOAD_URL:      'release-download-url',\n  CCM_CSI_VERSION:           'harvester-csi-ccm-versions',\n};\n\nexport const HCI_ALLOWED_SETTINGS = {\n  [HCI_SETTING.BACKUP_TARGET]: {\n    kind: 'json', from: 'import', canReset: true\n  },\n  [HCI_SETTING.LOG_LEVEL]: {\n    kind:    'enum',\n    options: ['info', 'debug', 'trace']\n  },\n  [HCI_SETTING.VLAN]: {\n    kind: 'custom', from: 'import', alias: 'vlan'\n  },\n  [HCI_SETTING.SERVER_VERSION]:          { readOnly: true },\n  [HCI_SETTING.UPGRADE_CHECKER_ENABLED]: { kind: 'boolean' },\n  [HCI_SETTING.UPGRADE_CHECKER_URL]:     { kind: 'url' },\n  [HCI_SETTING.HTTP_PROXY]:              { kind: 'json', from: 'import' },\n  [HCI_SETTING.ADDITIONAL_CA]:           {\n    kind: 'multiline', canReset: true, from: 'import'\n  },\n  [HCI_SETTING.OVERCOMMIT_CONFIG]:      { kind: 'json', from: 'import' },\n  [HCI_SETTING.SUPPORT_BUNDLE_TIMEOUT]: {},\n  [HCI_SETTING.SUPPORT_BUNDLE_IMAGE]:   { kind: 'json', from: 'import' },\n  [HCI_SETTING.STORAGE_NETWORK]:        { kind: 'custom', from: 'import' },\n  [HCI_SETTING.VM_FORCE_RESET_POLICY]:  { kind: 'json', from: 'import' },\n  [HCI_SETTING.SSL_CERTIFICATES]:       { kind: 'json', from: 'import' },\n  [HCI_SETTING.VIP]:                    {\n    kind: 'json', from: 'import', canReset: true\n  },\n  [HCI_SETTING.SSL_PARAMETERS]: {\n    kind: 'json', from: 'import', canReset: true\n  },\n  [HCI_SETTING.SUPPORT_BUNDLE_NAMESPACES]: { from: 'import', canReset: true },\n  [HCI_SETTING.AUTO_DISK_PROVISION_PATHS]: { canReset: true },\n  [HCI_SETTING.RELEASE_DOWNLOAD_URL]:      { kind: 'url' },\n  [HCI_SETTING.UI_PLUGIN_INDEX]:           { kind: 'url' },\n  [HCI_SETTING.CONTAINERD_REGISTRY]:       {\n    kind: 'json', from: 'import', canReset: true\n  },\n  [HCI_SETTING.UI_SOURCE]: {\n    kind:    'enum',\n    options: ['auto', 'external', 'bundled']\n  },\n  [HCI_SETTING.UI_INDEX]: { kind: 'url' },\n};\n\nexport const HCI_SINGLE_CLUSTER_ALLOWED_SETTING = { [HCI_SETTING.CLUSTER_REGISTRATION_URL]: { kind: 'url' } };\n","import YAML from 'yaml';\nimport jsyaml from 'js-yaml';\nimport isEqual from 'lodash/isEqual';\nimport isEmpty from 'lodash/isEmpty';\nimport difference from 'lodash/difference';\n\nimport { sortBy } from '@shell/utils/sort';\nimport { set } from '@shell/utils/object';\n\nimport { allHash } from '@shell/utils/promise';\nimport { randomStr } from '@shell/utils/string';\nimport { base64Decode } from '@shell/utils/crypto';\nimport { formatSi, parseSi } from '@shell/utils/units';\nimport { SOURCE_TYPE, ACCESS_CREDENTIALS } from '../../config/harvester-map';\nimport { _CLONE, _CREATE, _VIEW } from '@shell/config/query-params';\nimport {\n  PV, PVC, STORAGE_CLASS, NODE, SECRET, CONFIG_MAP, NETWORK_ATTACHMENT\n} from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../../types';\nimport { HCI_SETTING } from '../../config/settings';\nimport { HOSTNAME } from '@shell/config/labels-annotations';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport impl, { QGA_JSON, USB_TABLET } from './impl';\n\nexport const MANAGEMENT_NETWORK = 'management Network';\n\nexport const OS = [{\n  label: 'Windows',\n  value: 'windows'\n}, {\n  label: 'Linux',\n  value: 'linux'\n}, {\n  label: 'SUSE Linux Enterprise',\n  value: 'SLEs'\n}, {\n  label: 'Debian',\n  value: 'debian'\n}, {\n  label: 'Fedora',\n  value: 'fedora'\n}, {\n  label: 'Gentoo',\n  value: 'gentoo'\n}, {\n  label: 'Oracle',\n  value: 'oracle'\n}, {\n  label: 'Red Hat',\n  value: 'redhat'\n}, {\n  label: 'openSUSE',\n  value: 'openSUSE',\n}, {\n  label: 'Ubuntu',\n  value: 'ubuntu'\n}, {\n  label: 'Other Linux',\n  match: ['centos'],\n  value: 'otherLinux'\n}];\n\nexport const CD_ROM = 'cd-rom';\nexport const HARD_DISK = 'disk';\n\nexport default {\n  mixins: [impl],\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    resource: {\n      type:    String,\n      default: ''\n    }\n  },\n\n  async fetch() {\n    // const inStore = this.$store.getters['currentProduct'].inStore;\n    const hash = {\n      pvs:               this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: PV }),\n      pvcs:              this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: PVC }),\n      storageClasses:    this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: STORAGE_CLASS }),\n      sshs:              this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.SSH }),\n      settings:          this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.SETTING }),\n      images:            this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.IMAGE }),\n      versions:          this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM_VERSION }),\n      templates:         this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM_TEMPLATE }),\n      networkAttachment: this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: NETWORK_ATTACHMENT }),\n      vmis:              this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VMI }),\n      vmims:             this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VMIM }),\n      vms:               this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM }),\n      secrets:           this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: SECRET }),\n      addons:            this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.ADD_ONS }),\n    };\n\n    if (this.$store.getters[`${ PRODUCT_NAME }/schemaFor`](NODE)) {\n      hash.nodes = this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: NODE });\n    }\n\n    if (this.$store.getters[`${ PRODUCT_NAME }/schemaFor`](HCI.CLUSTER_NETWORK)) {\n      hash.clusterNetworks = this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.CLUSTER_NETWORK });\n    }\n\n    const res = await allHash(hash);\n\n    const hasPCISchema = this.$store.getters[`${ PRODUCT_NAME }/schemaFor`](HCI.PCI_DEVICE);\n\n    this.enabledPCI = res.addons.find((addon) => addon.name === 'pcidevices-controller')?.spec?.enabled === true && hasPCISchema;\n  },\n\n  data() {\n    const isClone = this.realMode === _CLONE;\n\n    return {\n      OS,\n      isClone,\n      spec:                       null,\n      osType:                     'linux',\n      sshKey:                     [],\n      runStrategy:                'RerunOnFailure',\n      installAgent:               true,\n      hasCreateVolumes:           [],\n      installUSBTablet:           true,\n      networkScript:              '',\n      userScript:                 '',\n      imageId:                    '',\n      diskRows:                   [],\n      networkRows:                [],\n      machineType:                '',\n      secretName:                 '',\n      secretRef:                  null,\n      showAdvanced:               false,\n      deleteAgent:                true,\n      memory:                     null,\n      cpu:                        '',\n      reservedMemory:             null,\n      accessCredentials:          [],\n      efiEnabled:                 true,\n      secureBoot:                 true,\n      userDataTemplateId:         '',\n      saveUserDataAsClearText:    false,\n      saveNetworkDataAsClearText: false,\n      enabledPCI:                 false,\n      immutableMode:              this.realMode === _CREATE ? _CREATE : _VIEW,\n    };\n  },\n\n  computed: {\n    inStore() {\n      // return this.$store.getters['currentProduct'].inStore;\n      return PRODUCT_NAME;\n    },\n\n    images() {\n      return this.$store.getters[`${ this.inStore }/all`](HCI.IMAGE);\n    },\n\n    versions() {\n      return this.$store.getters[`${ this.inStore }/all`](HCI.VM_VERSION);\n    },\n\n    templates() {\n      return this.$store.getters[`${ this.inStore }/all`](HCI.VM_TEMPLATE);\n    },\n\n    pvcs() {\n      return this.$store.getters[`${ this.inStore }/all`](PVC);\n    },\n\n    secrets() {\n      return this.$store.getters[`${ this.inStore }/all`](SECRET);\n    },\n\n    nodesIdOptions() {\n      const nodes = this.$store.getters[`${ this.inStore }/all`](NODE);\n\n      return nodes.filter((N) => !N.isUnSchedulable).map((node) => {\n        return {\n          label: node.nameDisplay,\n          value: node.id\n        };\n      });\n    },\n\n    defaultStorageClass() {\n      const defaultStorage = this.$store.getters[`${ this.inStore }/all`](STORAGE_CLASS).find( (O) => O.isDefault);\n\n      return defaultStorage?.metadata?.name || 'longhorn';\n    },\n\n    storageClassSetting() {\n      try {\n        const storageClassValue = this.$store.getters[`${ this.inStore }/all`](HCI.SETTING).find( (O) => O.id === HCI_SETTING.DEFAULT_STORAGE_CLASS)?.value;\n\n        return JSON.parse(storageClassValue);\n      } catch (e) {\n        return {};\n      }\n    },\n\n    customVolumeMode() {\n      return this.storageClassSetting.volumeMode || 'Block';\n    },\n\n    customAccessMode() {\n      return this.storageClassSetting.accessModes || 'ReadWriteMany';\n    },\n\n    isWindows() {\n      return this.osType === 'windows';\n    },\n\n    needNewSecret() {\n      // When creating a template it is always necessary to create a new secret.\n      return this.resource === HCI.VM_VERSION || this.isCreate;\n    },\n  },\n\n  async created() {\n    await this.$store.dispatch(`${ this.inStore }/findAll`, { type: SECRET });\n    this.getInitConfig({ value: this.value, init: this.isCreate });\n  },\n\n  methods: {\n    getInitConfig(config) {\n      const {\n        value, existUserData, fromTemplate = false, init = false\n      } = config;\n\n      const vm = this.resource === HCI.VM ? value : this.resource === HCI.BACKUP ? this.value.status?.source : value.spec.vm;\n\n      const spec = vm?.spec;\n\n      if (!spec) {\n        return;\n      }\n      const resources = spec.template.spec.domain.resources;\n\n      // If the user is created via yaml, there may be no \"resources.limits\": kubectl apply -f https://kubevirt.io/labs/manifests/vm.yaml\n      if (!resources?.limits || (resources?.limits && !resources?.limits?.memory && resources?.limits?.memory !== null)) {\n        spec.template.spec.domain.resources = {\n          ...spec.template.spec.domain.resources,\n          limits: {\n            ...spec.template.spec.domain.resources.limits,\n            memory: spec.template.spec.domain.resources.requests.memory\n          }\n        };\n      }\n\n      const runStrategy = spec.runStrategy || 'RerunOnFailure';\n      const machineType = value.machineType;\n      const cpu = spec.template.spec.domain?.cpu?.cores;\n      const memory = spec.template.spec.domain.resources.limits.memory;\n      const reservedMemory = vm.metadata?.annotations?.[HCI_ANNOTATIONS.VM_RESERVED_MEMORY];\n\n      const sshKey = this.getSSHFromAnnotation(spec) || [];\n\n      const imageId = this.getRootImageId(vm) || '';\n      const diskRows = this.getDiskRows(vm);\n      const networkRows = this.getNetworkRows(vm, { fromTemplate, init });\n      const hasCreateVolumes = this.getHasCreatedVolumes(spec) || [];\n\n      let { userData = undefined, networkData = undefined } = this.getCloudInitNoCloud(spec);\n\n      if (this.resource === HCI.BACKUP) {\n        const secretBackups = this.value.status?.secretBackups;\n\n        if (secretBackups) {\n          const secretNetworkData = secretBackups[0]?.data?.networkdata || '';\n          const secretUserData = secretBackups[0]?.data?.userdata || '';\n\n          userData = base64Decode(secretUserData);\n          networkData = base64Decode(secretNetworkData);\n        }\n      }\n      const osType = this.getOsType(vm) || 'linux';\n\n      userData = this.isCreate && !existUserData && !this.isClone ? this.getInitUserData({ osType }) : userData;\n\n      const installUSBTablet = this.isInstallUSBTablet(spec);\n      const installAgent = this.hasInstallAgent(userData, osType, true);\n      const efiEnabled = this.isEfiEnabled(spec);\n      const secureBoot = this.isSecureBoot(spec);\n\n      const secretRef = this.getSecret(spec);\n      const accessCredentials = this.getAccessCredentials(spec);\n\n      if (Object.prototype.hasOwnProperty.call(spec, 'running')) {\n        delete spec.running;\n        spec.runStrategy = 'RerunOnFailure';\n      }\n\n      this.$set(this, 'spec', spec);\n      this.$set(this, 'runStrategy', runStrategy);\n      this.$set(this, 'secretRef', secretRef);\n      this.$set(this, 'accessCredentials', accessCredentials);\n      this.$set(this, 'userScript', userData);\n      this.$set(this, 'networkScript', networkData);\n\n      this.$set(this, 'sshKey', sshKey);\n      this.$set(this, 'osType', osType);\n      this.$set(this, 'installAgent', installAgent);\n\n      this.$set(this, 'cpu', cpu);\n      this.$set(this, 'memory', memory);\n      this.$set(this, 'reservedMemory', reservedMemory);\n      this.$set(this, 'machineType', machineType);\n\n      this.$set(this, 'installUSBTablet', installUSBTablet);\n      this.$set(this, 'efiEnabled', efiEnabled);\n      this.$set(this, 'secureBoot', secureBoot);\n\n      this.$set(this, 'hasCreateVolumes', hasCreateVolumes);\n      this.$set(this, 'networkRows', networkRows);\n      this.$set(this, 'imageId', imageId);\n\n      this.$set(this, 'diskRows', diskRows);\n\n      this.refreshYamlEditor();\n    },\n\n    getDiskRows(vm) {\n      const namespace = vm.metadata.namespace;\n      const _volumes = vm.spec.template.spec.volumes || [];\n      const _disks = vm.spec.template.spec.domain.devices.disks || [];\n      const _volumeClaimTemplates = this.getVolumeClaimTemplates(vm);\n\n      let out = [];\n\n      if (_disks.length === 0) {\n        out.push({\n          id:               randomStr(5),\n          source:           SOURCE_TYPE.IMAGE,\n          name:             'disk-0',\n          accessMode:       'ReadWriteMany',\n          bus:              'virtio',\n          volumeName:       '',\n          size:             '10Gi',\n          type:             HARD_DISK,\n          storageClassName: '',\n          image:            this.imageId,\n          volumeMode:       'Block',\n        });\n      } else {\n        out = _disks.map( (DISK, index) => {\n          const volume = _volumes.find( (V) => V.name === DISK.name );\n\n          let size = '';\n          let image = '';\n          let source = '';\n          let realName = '';\n          let container = '';\n          let volumeName = '';\n          let accessMode = '';\n          let volumeMode = '';\n          let storageClassName = '';\n          let hotpluggable = false;\n          let dataSource = null;\n\n          const type = DISK?.cdrom ? CD_ROM : DISK?.disk ? HARD_DISK : '';\n\n          if (volume?.containerDisk) { // SOURCE_TYPE.CONTAINER\n            source = SOURCE_TYPE.CONTAINER;\n            container = volume.containerDisk.image;\n          }\n\n          if (volume.persistentVolumeClaim && volume.persistentVolumeClaim?.claimName) {\n            volumeName = volume.persistentVolumeClaim.claimName;\n            const DVT = _volumeClaimTemplates.find( (T) => T.metadata.name === volumeName);\n\n            realName = volumeName;\n            // If the DVT can be found, it cannot be an existing volume\n            if (DVT) {\n              // has annotation (HCI_ANNOTATIONS.IMAGE_ID) => SOURCE_TYPE.IMAGE\n              if (DVT.metadata?.annotations?.[HCI_ANNOTATIONS.IMAGE_ID] !== undefined) {\n                image = DVT.metadata?.annotations?.[HCI_ANNOTATIONS.IMAGE_ID];\n                source = SOURCE_TYPE.IMAGE;\n              } else {\n                source = SOURCE_TYPE.NEW;\n              }\n\n              const dataVolumeSpecPVC = DVT?.spec || {};\n\n              volumeMode = dataVolumeSpecPVC?.volumeMode;\n              accessMode = dataVolumeSpecPVC?.accessModes?.[0];\n              size = dataVolumeSpecPVC?.resources?.requests?.storage || '10Gi';\n              storageClassName = dataVolumeSpecPVC?.storageClassName;\n              dataSource = dataVolumeSpecPVC?.dataSource;\n            } else {\n              // SOURCE_TYPE.ATTACH_VOLUME\n              // Compatible with VMS that have been created before, Because they're not saved in the annotation\n              const allPVCs = this.$store.getters[`${ PRODUCT_NAME }/all`](PVC);\n              const pvcResource = allPVCs.find( (O) => O.id === `${ namespace }/${ volume?.persistentVolumeClaim?.claimName }`);\n\n              source = SOURCE_TYPE.ATTACH_VOLUME;\n              accessMode = pvcResource?.spec?.accessModes?.[0] || 'ReadWriteMany';\n              size = pvcResource?.spec?.resources?.requests?.storage || '10Gi';\n              storageClassName = pvcResource?.spec?.storageClassName;\n              volumeMode = pvcResource?.spec?.volumeMode || 'Block';\n              volumeName = pvcResource?.metadata?.name || '';\n            }\n\n            hotpluggable = volume.persistentVolumeClaim.hotpluggable || false;\n          }\n\n          const bus = DISK?.disk?.bus || DISK?.cdrom?.bus;\n\n          const bootOrder = DISK?.bootOrder ? DISK?.bootOrder : index;\n\n          const parseValue = parseSi(size);\n\n          const formatSize = formatSi(parseValue, {\n            increment:   1024,\n            addSuffix:   false,\n            maxExponent: 3,\n            minExponent: 3,\n          });\n\n          const volumeStatus = this.pvcs.find((P) => P.id === `${ this.value.metadata.namespace }/${ volumeName }`)?.relatedPV?.metadata?.annotations?.[HCI_ANNOTATIONS.VOLUME_ERROR];\n\n          return {\n            id:         randomStr(5),\n            bootOrder,\n            source,\n            name:       DISK.name,\n            realName,\n            bus,\n            volumeName,\n            container,\n            accessMode,\n            size:       `${ formatSize }Gi`,\n            volumeMode: volumeMode || this.customVolumeMode,\n            image,\n            type,\n            storageClassName,\n            hotpluggable,\n            volumeStatus,\n            dataSource\n          };\n        });\n      }\n\n      out = sortBy(out, 'bootOrder');\n\n      return out.filter( (O) => O.name !== 'cloudinitdisk');\n    },\n\n    getNetworkRows(vm, config) {\n      const { fromTemplate = false, init = false } = config;\n\n      const networks = vm.spec.template.spec.networks || [];\n      const interfaces = vm.spec.template.spec.domain.devices.interfaces || [];\n\n      const out = interfaces.map( (I, index) => {\n        const network = networks.find( (N) => I.name === N.name);\n\n        // const type = I.sriov ? 'sriov' : I.bridge ? 'bridge' : 'masquerade';\n        const type = I.masquerade ? 'masquerade' : I.bridge ? 'masquerade' : 'macvtap';\n\n        const isPod = !!network.pod;\n\n        return {\n          ...I,\n          index,\n          type,\n          isPod,\n          newCreateId: (fromTemplate || init) ? randomStr(10) : false,\n          model:       I.model,\n          networkName: isPod ? MANAGEMENT_NETWORK : network?.multus?.networkName,\n        };\n      });\n\n      return out;\n    },\n\n    parseVM() {\n      this.userData = this.getUserData({ osType: this.osType, installAgent: this.installAgent });\n      this.parseOther();\n      this.parseAccessCredentials();\n      this.parseNetworkRows(this.networkRows);\n      this.parseDiskRows(this.diskRows);\n    },\n\n    parseOther() {\n      if (!this.spec.template.spec.domain.machine) {\n        this.$set(this.spec.template.spec.domain, 'machine', { type: this.machineType });\n      } else {\n        this.$set(this.spec.template.spec.domain.machine, 'type', this.machineType);\n      }\n\n      this.spec.template.spec.domain.cpu.cores = this.cpu;\n      this.spec.template.spec.domain.resources.limits.cpu = this.cpu ? this.cpu.toString() : this.cpu;\n      this.spec.template.spec.domain.resources.limits.memory = this.memory;\n\n      // parse reserved memory\n      const vm = this.resource === HCI.VM ? this.value : this.value.spec.vm;\n\n      if (!this.reservedMemory) {\n        delete vm.metadata.annotations[HCI_ANNOTATIONS.VM_RESERVED_MEMORY];\n      } else {\n        vm.metadata.annotations[HCI_ANNOTATIONS.VM_RESERVED_MEMORY] = this.reservedMemory;\n      }\n    },\n\n    parseDiskRows(disk) {\n      const disks = [];\n      const volumes = [];\n      const diskNameLables = [];\n      const volumeClaimTemplates = [];\n\n      disk.forEach( (R, index) => {\n        const prefixName = this.value.metadata?.name || '';\n\n        let dataVolumeName = '';\n\n        if (R.source === SOURCE_TYPE.ATTACH_VOLUME) {\n          dataVolumeName = R.volumeName;\n        } else if (this.isClone || !this.hasCreateVolumes.includes(R.realName)) {\n          dataVolumeName = `${ prefixName }-${ R.name }-${ randomStr(5).toLowerCase() }`;\n        } else {\n          dataVolumeName = R.realName;\n        }\n\n        const _disk = this.parseDisk(R, index);\n        const _volume = this.parseVolume(R, dataVolumeName);\n        const _dataVolumeTemplate = this.parseVolumeClaimTemplate(R, dataVolumeName);\n\n        disks.push(_disk);\n        volumes.push(_volume);\n        diskNameLables.push(dataVolumeName);\n\n        if (R.source !== SOURCE_TYPE.CONTAINER) {\n          volumeClaimTemplates.push(_dataVolumeTemplate);\n        }\n      });\n\n      if (!this.secretName || this.needNewSecret) {\n        this.secretName = this.generateSecretName(this.secretNamePrefix);\n      }\n\n      if (!disks.find( (D) => D.name === 'cloudinitdisk') && (this.userData || this.networkData)) {\n        if (!this.isWindows) {\n          disks.push({\n            name: 'cloudinitdisk',\n            disk: { bus: 'virtio' }\n          });\n\n          const userData = this.getUserData({ osType: this.osType, installAgent: this.installAgent });\n\n          const cloudinitdisk = {\n            name:             'cloudinitdisk',\n            cloudInitNoCloud: {}\n          };\n\n          if (this.saveUserDataAsClearText) {\n            cloudinitdisk.cloudInitNoCloud.userData = userData;\n          } else {\n            cloudinitdisk.cloudInitNoCloud.secretRef = { name: this.secretName };\n          }\n\n          if (this.saveNetworkDataAsClearText) {\n            cloudinitdisk.cloudInitNoCloud.networkData = this.networkScript;\n          } else {\n            cloudinitdisk.cloudInitNoCloud.networkDataSecretRef = { name: this.secretName };\n          }\n\n          volumes.push(cloudinitdisk);\n        }\n      }\n\n      let spec = {\n        ...this.spec,\n        runStrategy: this.runStrategy,\n        template:    {\n          ...this.spec.template,\n          metadata: {\n            ...this.spec?.template?.metadata,\n            annotations: {\n              ...this.spec?.template?.metadata?.annotations,\n              [HCI_ANNOTATIONS.SSH_NAMES]: JSON.stringify(this.sshKey)\n            },\n            labels: {\n              ...this.spec?.template?.metadata?.labels,\n              [HCI_ANNOTATIONS.VM_NAME]: this.value?.metadata?.name,\n            }\n          },\n          spec: {\n            ...this.spec.template?.spec,\n            domain: {\n              ...this.spec.template?.spec?.domain,\n              devices: {\n                ...this.spec.template?.spec?.domain?.devices,\n                disks,\n              },\n            },\n            volumes,\n          }\n        }\n      };\n\n      if (volumes.length === 0) {\n        delete spec.template.spec.volumes;\n      }\n\n      if (this.resource === HCI.VM) {\n        if (!this.isSingle) {\n          spec = this.multiVMScheduler(spec);\n        }\n\n        this.$set(this.value.metadata, 'annotations', {\n          ...this.value.metadata.annotations,\n          [HCI_ANNOTATIONS.VOLUME_CLAIM_TEMPLATE]: JSON.stringify(volumeClaimTemplates),\n          [HCI_ANNOTATIONS.NETWORK_IPS]:           JSON.stringify(this.value.networkIps)\n        });\n\n        this.$set(this.value.metadata, 'labels', {\n          ...this.value.metadata.labels,\n          [HCI_ANNOTATIONS.CREATOR]: 'harvester',\n          [HCI_ANNOTATIONS.OS]:      this.osType\n        });\n\n        this.$set(this.value, 'spec', spec);\n        this.$set(this, 'spec', spec);\n      } else if (this.resource === HCI.VM_VERSION) {\n        this.$set(this.value.spec.vm, 'spec', spec);\n        this.$set(this.value.spec.vm.metadata, 'annotations', { ...this.value.spec.vm.metadata.annotations, [HCI_ANNOTATIONS.VOLUME_CLAIM_TEMPLATE]: JSON.stringify(volumeClaimTemplates) });\n        this.$set(this.value.spec.vm.metadata, 'labels', { [HCI_ANNOTATIONS.OS]: this.osType });\n        this.$set(this, 'spec', spec);\n      }\n    },\n\n    multiVMScheduler(spec) {\n      spec.template.metadata.labels[HCI_ANNOTATIONS.VM_NAME_PREFIX] = this.namePrefix;\n\n      const rule = {\n        weight:          1,\n        podAffinityTerm: {\n          topologyKey:   HOSTNAME,\n          labelSelector: { matchLabels: { [HCI_ANNOTATIONS.VM_NAME_PREFIX]: this.namePrefix } }\n        }\n      };\n\n      return {\n        ...spec,\n        template: {\n          ...spec.template,\n          spec: {\n            ...spec.template.spec,\n            affinity: {\n              ...spec.template.spec.affinity,\n              podAntiAffinity: {\n                ...spec.template.spec?.affinity?.podAntiAffinity,\n                preferredDuringSchedulingIgnoredDuringExecution: [\n                  ...(spec.template.spec?.affinity?.podAntiAffinity?.preferredDuringSchedulingIgnoredDuringExecution || []),\n                  rule\n                ]\n              }\n            }\n          }\n        }\n      };\n    },\n\n    parseNetworkRows(networkRow) {\n      const networks = [];\n      const interfaces = [];\n\n      networkRow.forEach( (R) => {\n        const _network = this.parseNetwork(R);\n        const _interface = this.parseInterface(R);\n\n        networks.push(_network);\n        interfaces.push(_interface);\n      });\n\n      const spec = {\n        ...this.spec.template.spec,\n        domain: {\n          ...this.spec.template.spec.domain,\n          devices: {\n            ...this.spec.template.spec.domain.devices,\n            interfaces,\n          },\n        },\n        networks\n      };\n\n      this.$set(this.spec.template, 'spec', spec);\n    },\n\n    parseAccessCredentials() {\n      const out = [];\n      const annotations = {};\n      const users = JSON.parse(this.spec?.template?.metadata?.annotations?.[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_USERS] || '[]');\n\n      for (const row of this.accessCredentials) {\n        if (this.needNewSecret) {\n          row.secretName = this.generateSecretName(this.secretNamePrefix);\n        }\n\n        if (row.source === ACCESS_CREDENTIALS.RESET_PWD) {\n          users.push(row.username);\n          out.push({\n            userPassword: {\n              source:            { secret: { secretName: row.secretName } },\n              propagationMethod: { qemuGuestAgent: { } }\n            }\n          });\n        }\n\n        if (row.source === ACCESS_CREDENTIALS.INJECT_SSH) {\n          users.push(...row.users);\n          annotations[row.secretName] = row.sshkeys;\n          out.push({\n            sshPublicKey: {\n              source:            { secret: { secretName: row.secretName } },\n              propagationMethod: { qemuGuestAgent: { users: row.users } }\n            }\n          });\n        }\n      }\n\n      if (out.length === 0 && !!this.spec.template.spec.accessCredentials) {\n        delete this.spec.template.spec.accessCredentials;\n      } else {\n        this.spec.template.spec.accessCredentials = out;\n      }\n\n      if (users.length !== 0) {\n        this.spec.template.metadata.annotations[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_USERS] = JSON.stringify(Array.from(new Set(users)));\n        this.spec.template.metadata.annotations[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_NAMES] = JSON.stringify(annotations);\n      }\n    },\n\n    getInitUserData(config) {\n      const _QGA_JSON = this.getMatchQGA(config.osType);\n\n      const out = jsyaml.dump(_QGA_JSON);\n\n      return `#cloud-config\\n${ out }`;\n    },\n\n    /**\n     * Generate user data yaml which is decide by the \"Install guest agent\",\n     * \"OS type\", \"SSH Keys\" and user input.\n     * @param config\n     */\n    getUserData(config) {\n      try {\n        // https://github.com/eemeli/yaml/issues/136\n        let userDataDoc = this.userScript ? YAML.parseDocument(this.userScript) : YAML.parseDocument({});\n\n        const allSSHAuthorizedKeys = this.mergeSSHAuthorizedKeys(this.userScript);\n\n        if (allSSHAuthorizedKeys.length > 0) {\n          userDataDoc.setIn(['ssh_authorized_keys'], allSSHAuthorizedKeys);\n        } else if (YAML.isCollection(userDataDoc.getIn('ssh_authorized_keys'))) {\n          userDataDoc.deleteIn(['ssh_authorized_keys']);\n        }\n\n        userDataDoc = config.installAgent ? this.mergeQGA({ userDataDoc, ...config }) : this.deleteQGA({ userDataDoc, ...config });\n        const userDataYaml = userDataDoc.toString();\n\n        if (userDataYaml === '{}\\n') {\n          // When the YAML parsed value is '{}\\n', it means that the userData is empty, then undefined is returned.\n          return undefined;\n        }\n\n        return userDataYaml;\n      } catch (e) {\n        console.error('Error: Unable to parse yaml document', e); // eslint-disable-line no-console\n\n        return this.userScript;\n      }\n    },\n\n    updateSSHKey(neu) {\n      this.$set(this, 'sshKey', neu);\n    },\n\n    updateCpuMemory(cpu, memory) {\n      this.$set(this, 'cpu', cpu);\n      this.$set(this, 'memory', memory);\n    },\n\n    parseDisk(R, index) {\n      const out = { name: R.name };\n\n      if (R.type === HARD_DISK) {\n        out.disk = { bus: R.bus };\n      } else if (R.type === CD_ROM) {\n        out.cdrom = { bus: R.bus };\n      }\n\n      out.bootOrder = index + 1;\n\n      return out;\n    },\n\n    parseVolume(R, dataVolumeName) {\n      const out = { name: R.name };\n\n      if (R.source === SOURCE_TYPE.CONTAINER) {\n        out.containerDisk = { image: R.container };\n      } else if (R.source === SOURCE_TYPE.IMAGE || R.source === SOURCE_TYPE.NEW || R.source === SOURCE_TYPE.ATTACH_VOLUME) {\n        out.persistentVolumeClaim = { claimName: dataVolumeName };\n        if (R.hotpluggable) {\n          out.persistentVolumeClaim.hotpluggable = true;\n        }\n      }\n\n      return out;\n    },\n\n    parseVolumeClaimTemplate(R, dataVolumeName) {\n      if (!String(R.size).includes('Gi') && R.size) {\n        R.size = `${ R.size }Gi`;\n      }\n\n      const out = {\n        metadata: { name: dataVolumeName },\n        spec:     {\n          accessModes: [R.accessMode],\n          resources:   { requests: { storage: R.size } },\n          volumeMode:  R.volumeMode\n        }\n      };\n\n      if (R.dataSource) {\n        out.spec.dataSource = R.dataSource;\n      }\n\n      switch (R.source) {\n      case SOURCE_TYPE.ATTACH_VOLUME:\n        out.spec.storageClassName = R.storageClassName;\n        break;\n      case SOURCE_TYPE.NEW:\n        out.spec.storageClassName = R.storageClassName;\n        break;\n      case SOURCE_TYPE.IMAGE: {\n        const image = this.images.find( (I) => R.image === I.id);\n\n        if (image) {\n          out.spec.storageClassName = `longhorn-${ image.metadata.name }`;\n          out.metadata.annotations = { [HCI_ANNOTATIONS.IMAGE_ID]: image.id };\n        } else {\n          out.metadata.annotations = { [HCI_ANNOTATIONS.IMAGE_ID]: '' };\n        }\n\n        break;\n      }\n      }\n\n      return out;\n    },\n\n    getSSHListValue(arr) {\n      return arr.map( (id) => this.getSSHValue(id)).filter( (O) => O !== undefined);\n    },\n\n    parseInterface(R) {\n      const _interface = {};\n      const type = R.type;\n\n      _interface[type] = {};\n\n      if (R.macAddress) {\n        _interface.macAddress = R.macAddress;\n      }\n\n      _interface.model = R.model;\n      _interface.name = R.name;\n\n      return _interface;\n    },\n\n    parseNetwork(R) {\n      const out = { name: R.name };\n\n      if (R.isPod) {\n        out.pod = {};\n      } else {\n        out.multus = { networkName: R.networkName };\n      }\n\n      return out;\n    },\n\n    updateUserData(value) {\n      this.userScript = value;\n    },\n\n    updateNetworkData(value) {\n      this.networkScript = value;\n    },\n\n    mergeSSHAuthorizedKeys(yaml) {\n      try {\n        const sshAuthorizedKeys = YAML.parseDocument(yaml)\n          .get('ssh_authorized_keys')\n          ?.toJSON() || [];\n\n        const sshList = this.getSSHListValue(this.sshKey);\n\n        return sshAuthorizedKeys.length ? [...new Set([...sshList, ...sshAuthorizedKeys])] : sshList;\n      } catch (e) {\n        return [];\n      }\n    },\n\n    /**\n     * @param paths A Object path, e.g. 'a.b.c' => ['a', 'b', 'c']. Refer to https://eemeli.org/yaml/#scalar-values\n     * @returns\n     */\n    deleteYamlDocProp(doc, paths) {\n      try {\n        const item = doc.getIn([])?.items[0];\n        const key = item?.key;\n        const hasCloudConfigComment = !!key?.commentBefore?.includes('cloud-config');\n        const isMatchProp = key.source === paths[paths.length - 1];\n\n        if (key && hasCloudConfigComment && isMatchProp) {\n          // Comments are mounted on the next node and we should not delete the node containing cloud-config\n        } else {\n          doc.deleteIn(paths);\n        }\n      } catch (e) {}\n    },\n\n    mergeQGA(config) {\n      const { osType, userDataDoc } = config;\n      const _QGA_JSON = this.getMatchQGA(osType);\n      const userDataYAML = userDataDoc.toString();\n      const userDataJSON = YAML.parse(userDataYAML);\n      let packages = userDataJSON?.packages || [];\n      let runcmd = userDataJSON?.runcmd || [];\n\n      userDataDoc.setIn(['package_update'], true);\n\n      if (Array.isArray(packages)) {\n        if (!packages.includes('qemu-guest-agent')) {\n          packages.push('qemu-guest-agent');\n        }\n      } else {\n        packages = QGA_JSON.packages;\n      }\n\n      if (Array.isArray(runcmd)) {\n        let findIndex = -1;\n        const hasSameRuncmd = runcmd.find( (S) => Array.isArray(S) && S.join('-') === _QGA_JSON.runcmd[0].join('-'));\n\n        const hasSimilarRuncmd = runcmd.find( (S, index) => {\n          if (Array.isArray(S) && S.join('-') === this.getSimilarRuncmd(osType).join('-')) {\n            findIndex = index;\n\n            return true;\n          }\n\n          return false;\n        });\n\n        if (hasSimilarRuncmd) {\n          runcmd[findIndex] = _QGA_JSON.runcmd[0];\n        } else if (!hasSameRuncmd) {\n          runcmd.push(_QGA_JSON.runcmd[0]);\n        }\n      } else {\n        runcmd = _QGA_JSON.runcmd;\n      }\n\n      if (packages.length > 0) {\n        userDataDoc.setIn(['packages'], packages);\n      } else {\n        userDataDoc.setIn(['packages'], []); // It needs to be set empty first, as it is possible that cloud-init comments are mounted on this node\n        this.deleteYamlDocProp(userDataDoc, ['packages']);\n        this.deleteYamlDocProp(userDataDoc, ['package_update']);\n      }\n\n      if (runcmd.length > 0) {\n        userDataDoc.setIn(['runcmd'], runcmd);\n      } else {\n        this.deleteYamlDocProp(userDataDoc, ['runcmd']);\n      }\n\n      return userDataDoc;\n    },\n\n    deleteQGA(config) {\n      const { osType, userDataDoc, deletePackage = false } = config;\n\n      const userDataTemplateValue = this.$store.getters[`${ PRODUCT_NAME }/byId`](CONFIG_MAP, this.userDataTemplateId)?.data?.cloudInit || '';\n\n      const userDataYAML = userDataDoc.toString();\n      const userDataJSON = YAML.parse(userDataYAML);\n      const packages = userDataJSON?.packages || [];\n      const runcmd = userDataJSON?.runcmd || [];\n\n      if (Array.isArray(packages) && deletePackage) {\n        const templateHasQGAPackage = this.convertToJson(userDataTemplateValue);\n\n        for (let i = 0; i < packages.length; i++) {\n          if (packages[i] === 'qemu-guest-agent') {\n            if (!(Array.isArray(templateHasQGAPackage?.packages) && templateHasQGAPackage.packages.includes('qemu-guest-agent'))) {\n              packages.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      if (Array.isArray(runcmd)) {\n        const _QGA_JSON = this.getMatchQGA(osType);\n\n        for (let i = 0; i < runcmd.length; i++) {\n          if (Array.isArray(runcmd[i]) && runcmd[i].join('-') === _QGA_JSON.runcmd[0].join('-')) {\n            runcmd.splice(i, 1);\n          }\n        }\n      }\n\n      if (packages.length > 0) {\n        userDataDoc.setIn(['packages'], packages);\n      } else {\n        userDataDoc.setIn(['packages'], []);\n        this.deleteYamlDocProp(userDataDoc, ['packages']);\n        this.deleteYamlDocProp(userDataDoc, ['package_update']);\n      }\n\n      if (runcmd.length > 0) {\n        userDataDoc.setIn(['runcmd'], runcmd);\n      } else {\n        this.deleteYamlDocProp(userDataDoc, ['runcmd']);\n      }\n\n      return userDataDoc;\n    },\n\n    generateSecretName(name) {\n      return name ? `${ name }-${ randomStr(5).toLowerCase() }` : undefined;\n    },\n\n    getOwnerReferencesFromVM(resource) {\n      const name = resource.metadata.name;\n      const kind = resource.kind;\n      const apiVersion = this.resource === HCI.VM ? 'kubevirt.io/v1' : 'harvesterhci.io/v1beta1';\n      const uid = resource?.metadata?.uid;\n\n      return [{\n        name,\n        kind,\n        uid,\n        apiVersion,\n      }];\n    },\n\n    async saveSecret(vm) {\n      if (!vm?.spec || !this.secretName || this.isWindows) {\n        return true;\n      }\n\n      let secret = this.getSecret(vm.spec);\n\n      // const userData = this.getUserData({ osType: this.osType, installAgent: this.installAgent });\n      if (!secret && this.isEdit && this.secretRef) {\n        // When editing the vm, if the userData and networkData are deleted, we also need to clean up the secret values\n        secret = this.secretRef;\n      }\n\n      if (!secret || this.needNewSecret) {\n        secret = await this.$store.dispatch(`${ PRODUCT_NAME }/create`, {\n          metadata: {\n            name:            this.secretName,\n            namespace:       this.value.metadata.namespace,\n            labels:          { [HCI_ANNOTATIONS.CLOUD_INIT]: 'harvester' },\n            ownerReferences: this.getOwnerReferencesFromVM(vm)\n          },\n          type: SECRET\n        });\n      }\n\n      try {\n        if (secret) {\n          // If none of the data comes from the secret, then no data needs to be saved to the secret\n          if (!this.saveUserDataAsClearText || !this.saveNetworkDataAsClearText) {\n            secret.setData('userdata', this.userData || '');\n            secret.setData('networkdata', this.networkScript || '');\n            await secret.save();\n          }\n        }\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    },\n\n    async saveAccessCredentials(vm) {\n      if (!vm?.spec) {\n        return true;\n      }\n\n      // save\n      const toSave = [];\n\n      for (const row of this.accessCredentials) {\n        let secretRef = row.secretRef;\n\n        if (!secretRef || this.needNewSecret) {\n          secretRef = await this.$store.dispatch(`${ PRODUCT_NAME }/create`, {\n            metadata: {\n              name:            row.secretName,\n              namespace:       vm.metadata.namespace,\n              labels:          { [HCI_ANNOTATIONS.CLOUD_INIT]: 'harvester' },\n              ownerReferences: this.getOwnerReferencesFromVM(vm)\n            },\n            type: SECRET\n          });\n        }\n\n        if (row.source === ACCESS_CREDENTIALS.RESET_PWD) {\n          secretRef.setData(row.username, row.newPassword);\n        }\n\n        if (row.source === ACCESS_CREDENTIALS.INJECT_SSH) {\n          for (const secretId of row.sshkeys) {\n            const keypair = (this.$store.getters['cluster/all'](HCI.SSH) || []).find((s) => s.id === secretId);\n\n            secretRef.setData(`${ keypair.metadata.namespace }-${ keypair.metadata.name }`, keypair.spec.publicKey);\n          }\n        }\n\n        toSave.push(secretRef);\n      }\n\n      try {\n        for (const resource of toSave) {\n          await resource.save();\n        }\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    },\n\n    getAccessCredentialsValidation() {\n      const errors = [];\n\n      for (let i = 0; i < this.accessCredentials.length; i++) {\n        const row = this.accessCredentials[i];\n        const source = row.source;\n\n        if (source === ACCESS_CREDENTIALS.RESET_PWD) {\n          if (!row.username) {\n            const fieldName = this.t('harvester.virtualMachine.input.username');\n            const message = this.t('validation.required', { key: fieldName });\n\n            errors.push(message);\n          }\n\n          if (!row.newPassword) {\n            const fieldName = this.t('harvester.virtualMachine.input.password');\n            const message = this.t('validation.required', { key: fieldName });\n\n            errors.push(message);\n          }\n\n          if (row.newPassword && row.newPassword.length < 6) {\n            const fieldName = this.t('harvester.virtualMachine.input.password');\n            const message = this.t('validation.number.min', { key: fieldName, val: '6' });\n\n            errors.push(message);\n          }\n        } else {\n          if (!row.users || row.users.length === 0) {\n            const fieldName = this.t('harvester.virtualMachine.input.username');\n            const message = this.t('validation.required', { key: fieldName });\n\n            errors.push(message);\n          }\n\n          if (!row.sshkeys || row.sshkeys.length === 0) {\n            const fieldName = this.t('harvester.virtualMachine.input.sshKeyValue');\n            const message = this.t('validation.required', { key: fieldName });\n\n            errors.push(message);\n          }\n        }\n\n        if (errors.length > 0) {\n          break;\n        }\n      }\n\n      return errors;\n    },\n\n    getHasCreatedVolumes(spec) {\n      const out = [];\n\n      if (spec.template.spec.volumes) {\n        spec.template.spec.volumes.forEach((V) => {\n          if (V?.persistentVolumeClaim?.claimName) {\n            out.push(V.persistentVolumeClaim.claimName);\n          }\n        });\n      }\n\n      return out;\n    },\n\n    handlerUSBTablet(val) {\n      const hasExist = this.isInstallUSBTablet(this.spec);\n      const inputs = this.spec.template.spec.domain.devices?.inputs || [];\n\n      if (val && !hasExist) {\n        if (inputs.length > 0) {\n          inputs.push(USB_TABLET[0]);\n        } else {\n          Object.assign(this.spec.template.spec.domain.devices, {\n            inputs: [\n              USB_TABLET[0]\n            ]\n          });\n        }\n      } else if (!val) {\n        const index = inputs.findIndex((O) => isEqual(O, USB_TABLET[0]));\n\n        if (hasExist && inputs.length === 1) {\n          this.$delete(this.spec.template.spec.domain.devices, 'inputs');\n        } else if (hasExist) {\n          inputs.splice(index, 1);\n          this.$set(this.spec.template.spec.domain.devices, 'inputs', inputs);\n        }\n      }\n    },\n\n    setBootMethod(boot = { efi: false, secureBoot: false }) {\n      if (boot.efi && boot.secureBoot) {\n        set(this.spec.template.spec.domain, 'features.smm.enabled', true);\n        set(this.spec.template.spec.domain, 'firmware.bootloader.efi.secureBoot', true);\n      } else if (boot.efi && !boot.secureBoot) {\n        set(this.spec.template.spec.domain, 'features.smm.enabled', false);\n        set(this.spec.template.spec.domain, 'firmware.bootloader.efi.secureBoot', false);\n      } else {\n        this.$delete(this.spec.template.spec.domain, 'firmware');\n        this.$delete(this.spec.template.spec.domain.features, 'smm');\n      }\n    },\n\n    deleteSSHFromUserData(ssh = []) {\n      const sshAuthorizedKeys = this.getSSHFromUserData(this.userScript);\n\n      ssh.map((id) => {\n        const index = sshAuthorizedKeys.findIndex((value) => value === this.getSSHValue(id));\n\n        if (index >= 0) {\n          sshAuthorizedKeys.splice(index, 1);\n        }\n      });\n\n      const userDataJson = this.convertToJson(this.userScript);\n\n      userDataJson.ssh_authorized_keys = sshAuthorizedKeys;\n\n      if (sshAuthorizedKeys.length === 0) {\n        delete userDataJson.ssh_authorized_keys;\n      }\n\n      if (isEmpty(userDataJson)) {\n        this.$set(this, 'userScript', undefined);\n      } else {\n        this.$set(this, 'userScript', jsyaml.dump(userDataJson));\n      }\n\n      this.refreshYamlEditor();\n    },\n\n    refreshYamlEditor() {\n      this.$nextTick(() => {\n        this.$refs.yamlEditor?.updateValue();\n      });\n    },\n\n    toggleAdvanced() {\n      this.showAdvanced = !this.showAdvanced;\n    },\n\n    updateAgent(value) {\n      if (!value) {\n        this.deletePackage = true;\n      }\n    },\n\n    updateDataTemplateId(type, id) {\n      if (type === 'user') {\n        const oldInstallAgent = this.installAgent;\n\n        this.userDataTemplateId = id;\n        this.$nextTick(() => {\n          if (oldInstallAgent) {\n            this.installAgent = oldInstallAgent;\n          }\n        });\n      }\n    },\n\n    updateReserved(value = {}) {\n      const { memory } = value;\n\n      this.$set(this, 'reservedMemory', memory);\n    },\n  },\n\n  watch: {\n    diskRows: {\n      handler(neu, old) {\n        if (Array.isArray(neu)) {\n          const imageId = neu[0]?.image;\n          const image = this.images.find( (I) => imageId === I.id);\n          const osType = image?.imageOSType;\n\n          const oldImageId = old[0]?.image;\n\n          if (this.isCreate && oldImageId === imageId && imageId) {\n            this.osType = osType;\n          }\n        }\n      }\n    },\n\n    secretRef: {\n      handler(secret) {\n        if (secret && this.resource !== HCI.BACKUP) {\n          this.secretName = secret?.metadata.name;\n        }\n      },\n      immediate: true,\n      deep:      true\n    },\n\n    isWindows(val) {\n      if (val) {\n        this.$set(this, 'sshKey', []);\n        this.$set(this, 'userScript', undefined);\n        this.$set(this, 'installAgent', false);\n      }\n    },\n\n    installUSBTablet(val) {\n      this.handlerUSBTablet(val);\n    },\n\n    efiEnabled(val) {\n      this.setBootMethod({ efi: val, secureBoot: this.secureBoot });\n    },\n\n    secureBoot(val) {\n      this.setBootMethod({ efi: this.efiEnabled, secureBoot: val });\n    },\n\n    installAgent: {\n      /**\n       * rules\n       * 1. The value in user Data is the first priority\n       * 2. After selecting the template, if checkbox is checked, only merge operation will be performed on user data,\n       *    if checkbox is unchecked, no value will be deleted in user data\n       */\n      handler(neu) {\n        if (this.deleteAgent) {\n          let out = this.getUserData({\n            installAgent: neu, osType: this.osType, deletePackage: this.deletePackage\n          });\n\n          if (neu) {\n            const hasCloudComment = this.hasCloudConfigComment(out);\n\n            if (!hasCloudComment) {\n              out = `#cloud-config\\n${ out }`;\n            }\n          }\n\n          this.$set(this, 'userScript', out);\n          this.refreshYamlEditor();\n        }\n        this.deleteAgent = true;\n        this.deletePackage = false;\n      }\n    },\n\n    osType(neu) {\n      const out = this.getUserData({ installAgent: this.installAgent, osType: neu });\n\n      this.$set(this, 'userScript', out);\n      this.refreshYamlEditor();\n    },\n\n    userScript(neu, old) {\n      const hasInstallAgent = this.hasInstallAgent(neu, this.osType, this.installAgent);\n\n      if (hasInstallAgent !== this.installAgent) {\n        this.deleteAgent = false;\n        this.installAgent = hasInstallAgent;\n      }\n    },\n\n    sshKey(neu, old) {\n      const _diff = difference(old, neu);\n\n      if (_diff.length && this.isEdit) {\n        this.deleteSSHFromUserData(_diff);\n      }\n    }\n  }\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._v(\" \"+_vm._s(_vm.nodeName)+\" \"),_c('CopyToClipboard',{staticClass:\"icon-btn\",attrs:{\"text\":_vm.nodeName,\"label-as\":\"tooltip\",\"action-color\":\"bg-transparent\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { NODE } from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../types';\nimport CopyToClipboard from '@shell/components/CopyToClipboard';\n\nexport default {\n  components: { CopyToClipboard },\n  props:      {\n    value: {\n      type:    String,\n      default: ''\n    },\n    row: {\n      type:     Object,\n      required: true\n    }\n  },\n\n  data() {\n    return { inStore: 'harvester' };\n  },\n\n  created() {\n    // const inStore = this.$store.getters['currentProduct'].inStore;\n\n    this.inStore = PRODUCT_NAME;\n  },\n\n  computed: {\n    nodeName() {\n      return this.node?.nameDisplay || '';\n    },\n\n    vmi() {\n      const vmiResources = this.$store.getters[`${ this.inStore }/all`](HCI.VMI);\n      const resource = vmiResources.find((VMI) => VMI.id === this.row.id) || null;\n\n      return resource;\n    },\n\n    node() {\n      const nodeName = this.vmi?.status?.nodeName;\n\n      return this.$store.getters[`${ this.inStore }/byId`](NODE, nodeName);\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    {{ nodeName }}\n    <CopyToClipboard\n      :text=\"nodeName\"\n      label-as=\"tooltip\"\n      class=\"icon-btn\"\n      action-color=\"bg-transparent\"\n    />\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterNodeName.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterNodeName.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HarvesterNodeName.vue?vue&type=template&id=3ddd7abc\"\nimport script from \"./HarvesterNodeName.vue?vue&type=script&lang=js\"\nexport * from \"./HarvesterNodeName.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_vm._v(\" \"+_vm._s(_vm.displayLabel)+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { HCI } from '@pkg/harvester-ift/config/labels-annotations';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    displayLabel() {\n      return this.value?.[HCI.CLOUD_INIT] === 'user' ? this.t('harvester.cloudTemplate.userData') : this.t('harvester.cloudTemplate.networkData');\n    }\n  },\n};\n</script>\n\n<template>\n  <span> {{ displayLabel }} </span>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CloudInitType.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CloudInitType.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CloudInitType.vue?vue&type=template&id=69616a4a\"\nimport script from \"./CloudInitType.vue?vue&type=script&lang=js\"\nexport * from \"./CloudInitType.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".state[data-v-21cf3140]{display:flex;justify-content:space-between}.state .icon-warning[data-v-21cf3140]{margin-top:2px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.value.length > 0)?_c('n-link',{attrs:{\"to\":_vm.to}},[_vm._v(\" \"+_vm._s(_vm.value.length)+\" \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  props: {\n    value: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n    row: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n\n  computed: {\n    to() {\n      const to = this.row?.detailLocation;\n\n      to.hash = '#instances';\n\n      return to;\n    },\n  }\n};\n</script>\n\n<template>\n  <n-link\n    v-if=\"value.length > 0\"\n    :to=\"to\"\n  >\n    {{ value.length }}\n  </n-link>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RelatedVolumeSnapshotCounts.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RelatedVolumeSnapshotCounts.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RelatedVolumeSnapshotCounts.vue?vue&type=template&id=51b44c0e\"\nimport script from \"./RelatedVolumeSnapshotCounts.vue?vue&type=script&lang=js\"\nexport * from \"./RelatedVolumeSnapshotCounts.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._v(\" \"+_vm._s(_vm.GpuDescription)+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  props: {\n    row: {\n      type:     Object,\n      required: true\n    }\n  },\n\n  computed: {\n    GpuDescription() {\n      const descriptionString = this.row.status.description;\n      const parts = descriptionString.split(':');\n\n      if (parts.length >= 2) {\n        const textAfterColon = parts.slice(1).join(':').trim();\n\n        return textAfterColon;\n      } else {\n        return descriptionString;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    {{ GpuDescription }}\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GpuDescription.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GpuDescription.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GpuDescription.vue?vue&type=template&id=1d0a5500\"\nimport script from \"./GpuDescription.vue?vue&type=script&lang=js\"\nexport * from \"./GpuDescription.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_c('span',[_vm._v(_vm._s(_vm.mainVM))]),_c('br'),(_vm.vms.length-1>0)?_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.bottom\",value:(_vm.attachedVMLabels),expression:\"attachedVMLabels\",modifiers:{\"bottom\":true}}],staticClass:\"plus-more\"},[_vm._v(_vm._s(_vm.t('generic.plusMore', {n:_vm.vms.length-1})))]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\n\nexport default {\n  props: {\n\n    row: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n    vms() {\n      const nadOccupation = this.row.metadata.annotations[HCI_ANNOTATIONS.NAD_OCCUPATION] ? JSON.parse(this.row.metadata.annotations[HCI_ANNOTATIONS.NAD_OCCUPATION]) : '';\n\n      if ( nadOccupation?.['attached-vm'] ) {\n        return nadOccupation?.['attached-vm'];\n      } else {\n        return false;\n      }\n    },\n    attachedVMLabels() {\n      if (Array.isArray(this.vms) && this.vms.length > 1) {\n        let vmsNames = '';\n\n        this.vms.forEach((name, i) => {\n          vmsNames += `&#8226; ${ name }<br>`;\n        });\n\n        return vmsNames;\n      }\n\n      return null;\n    },\n    mainVM() {\n      const vms = this.vms;\n\n      return vms[0];\n    }\n  }\n\n};\n</script>\n\n<template>\n  <span>\n    <span>{{ mainVM }}</span><br>\n    <span\n      v-if=\"vms.length-1>0\"\n      v-tooltip.bottom=\"attachedVMLabels\"\n      class=\"plus-more\"\n    >{{ t('generic.plusMore', {n:vms.length-1}) }}</span>\n  </span>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedVM.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedVM.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AttachedVM.vue?vue&type=template&id=fce4c728\"\nimport script from \"./AttachedVM.vue?vue&type=script&lang=js\"\nexport * from \"./AttachedVM.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.to)?_c('n-link',{attrs:{\"to\":_vm.to}},[_vm._v(\" \"+_vm._s(_vm.value)+\" \")]):_c('span',[_vm._v(\" \"+_vm._s(_vm.value)+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { HCI, PRODUCT_NAME } from '../types';\n\nexport default {\n  props: {\n    value: {\n      type:    String,\n      default: ''\n    },\n    row: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n\n  data() {\n    const vmList = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.VM) || [];\n\n    return { vmList };\n  },\n\n  computed: {\n    vm() {\n      const vm = this.vmList.find( (V) => V.id === `${ this.row.metadata.namespace }/${ this.value }`);\n\n      return vm;\n    },\n\n    to() {\n      return this.vm?.detailLocation;\n    },\n  }\n};\n</script>\n\n<template>\n  <n-link\n    v-if=\"to\"\n    :to=\"to\"\n  >\n    {{ value }}\n  </n-link>\n\n  <span v-else>\n    {{ value }}\n  </span>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachVMWithName.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachVMWithName.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AttachVMWithName.vue?vue&type=template&id=57fe88c7\"\nimport script from \"./AttachVMWithName.vue?vue&type=script&lang=js\"\nexport * from \"./AttachVMWithName.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.state)?_c('div',[(!_vm.showSuccess)?_c('span',[_vm._v(\"/\")]):_vm._e(),_c('BadgeState',{attrs:{\"label\":_vm.vmiResource.migrationState.status,\"color\":_vm.vmiResource.migrationStateBackground}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { HCI, PRODUCT_NAME } from '../types';\nimport { BadgeState } from '@components/BadgeState';\n\nexport default {\n  components: { BadgeState },\n\n  props: {\n    vmResource: {\n      type:     Object,\n      required: true\n    },\n    showSuccess: {\n      type:    Boolean,\n      default: true\n    }\n  },\n\n  computed: {\n    vmiResource() {\n      const vmiList = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.VMI) || [];\n      const vmi = vmiList.find( (VMI) => {\n        return VMI?.metadata?.ownerReferences?.[0]?.uid === this.vmResource?.metadata?.uid;\n      });\n\n      return vmi;\n    },\n    state() {\n      return this.vmiResource?.migrationState?.status || '';\n    }\n  },\n\n  watch: {\n    state(neu) {\n      this.$emit('state-changed', neu);\n    }\n  },\n};\n</script>\n\n<template>\n  <div v-if=\"state\">\n    <span v-if=\"!showSuccess\">/</span>\n    <BadgeState\n      :label=\"vmiResource.migrationState.status\"\n      :color=\"vmiResource.migrationStateBackground\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .badge-state {\n    padding: 5px 10px;\n    border: 1px solid transparent;\n    border-radius: 20px;\n\n    &.bg-info {\n      border-color: var(--primary);\n    }\n\n    &.bg-error {\n      border-color: var(--error);\n    }\n\n    &.bg-warning {\n      border-color: var(--warning);\n    }\n\n    // Successful states are de-emphasized by using [text-]color instead of background-color\n    &.bg-success {\n      color: var(--success);\n      border-color: var(--success);\n      background: transparent;\n    }\n  }\n\n  .sortable-table TD .badge-state {\n    @include clip;\n    display: inline-block;\n    max-width: 100%;\n    position: relative;\n    padding: 2px 10px 1px 10px;\n    font-size: 1em;\n    max-width: 200px;\n    font-size: .85em;\n    vertical-align: middle;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterMigrationState.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterMigrationState.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HarvesterMigrationState.vue?vue&type=template&id=5ceec65a&scoped=true\"\nimport script from \"./HarvesterMigrationState.vue?vue&type=script&lang=js\"\nexport * from \"./HarvesterMigrationState.vue?vue&type=script&lang=js\"\nimport style0 from \"./HarvesterMigrationState.vue?vue&type=style&index=0&id=5ceec65a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ceec65a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.showIP)?_c('div',_vm._l((_vm.ips),function({ip, name}){return _c('span',{key:ip},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(name),expression:\"name\"}]},[_vm._v(_vm._s(ip))]),_c('CopyToClipboard',{staticClass:\"icon-btn\",attrs:{\"text\":ip,\"label-as\":\"tooltip\",\"action-color\":\"bg-transparent\"}})],1)}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { OFF } from '../models/kubevirt.io.virtualmachine';\nimport { get } from '@shell/utils/object';\nimport { isIpv4 } from '@shell/utils/string';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport { HCI, PRODUCT_NAME } from '../types';\nimport { MANAGEMENT_NETWORK } from '../mixins/harvester-vm';\nimport CopyToClipboard from '@shell/components/CopyToClipboard';\n\nexport default {\n  components: { CopyToClipboard },\n  props:      {\n    value: {\n      type:    String,\n      default: ''\n    },\n    row: {\n      type:     Object,\n      required: true\n    },\n    col: {\n      type:    Object,\n      default: () => {}\n    }\n  },\n\n  data() {\n    return { inStore: 'harvester' };\n  },\n\n  created() {\n    // const inStore = this.$store.getters['currentProduct'].inStore;\n\n    this.inStore = PRODUCT_NAME;\n  },\n\n  computed: {\n    // Return VM instance IP and VM annotation IP\n    ips() {\n      return [...this.vmiIp, ...this.networkAnnotationIP]\n        .filter(Boolean)\n        .sort((a, b) => a.ip < b.ip ? -1 : 1);\n    },\n\n    networkAnnotationIP() {\n      if (this.row.actualState !== 'Running') { // TODO: Running\n        return [];\n      }\n\n      const annotationIp = get(this.row, `metadata.annotations.\"${ HCI_ANNOTATIONS.NETWORK_IPS }\"`) || '[]';\n\n      // Obtain IP from VM annotation, remove the CIDR suffix number if CIDR Exist\n      try {\n        const out = JSON.parse(annotationIp);\n\n        return out.map( (ip) => ({\n          ip:   ip.replace(/\\/[\\d\\D]*/, ''),\n          name: ''\n        }));\n      } catch (e) {\n        return [];\n      }\n    },\n\n    vmiIp() {\n      const vmiResources = this.$store.getters[`${ this.inStore }/all`](HCI.VMI);\n      const resource = vmiResources.find((VMI) => VMI.id === this.value) || null;\n      const networksName = this.row.networksName || [];\n      const vmiNetworks = resource?.spec?.networks || [];\n\n      return (resource?.status?.interfaces || []).filter((intf) => {\n        return isIpv4(intf.ipAddress) && networksName.includes(intf.name);\n      }).map((intf) => {\n        let name;\n        const network = vmiNetworks.find((network) => network.name === intf.name);\n\n        if (network && network.multus) {\n          name = network.multus.networkName;\n        } else if (network && network.pod) {\n          name = MANAGEMENT_NETWORK;\n        }\n\n        return {\n          ip: intf.ipAddress,\n          name\n        };\n      });\n    },\n\n    showIP() {\n      return this.row.stateDisplay !== OFF;\n    },\n  },\n};\n</script>\n\n<template>\n  <div v-if=\"showIP\">\n    <span\n      v-for=\"{ip, name} in ips\"\n      :key=\"ip\"\n    >\n      <span v-tooltip=\"name\">{{ ip }}</span>\n      <CopyToClipboard\n        :text=\"ip\"\n        label-as=\"tooltip\"\n        class=\"icon-btn\"\n        action-color=\"bg-transparent\"\n      />\n    </span>\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterIpAddress.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterIpAddress.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HarvesterIpAddress.vue?vue&type=template&id=12f55c80\"\nimport script from \"./HarvesterIpAddress.vue?vue&type=script&lang=js\"\nexport * from \"./HarvesterIpAddress.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".badge-state[data-v-5ceec65a]{padding:5px 10px;border:1px solid transparent;border-radius:20px}.badge-state.bg-info[data-v-5ceec65a]{border-color:var(--primary)}.badge-state.bg-error[data-v-5ceec65a]{border-color:var(--error)}.badge-state.bg-warning[data-v-5ceec65a]{border-color:var(--warning)}.badge-state.bg-success[data-v-5ceec65a]{color:var(--success);border-color:var(--success);background:transparent}.sortable-table TD .badge-state[data-v-5ceec65a]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;word-wrap:break-word;display:inline-block;max-width:100%;position:relative;padding:2px 10px 1px 10px;font-size:1em;max-width:200px;font-size:.85em;vertical-align:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_c('div',{staticClass:\"state\"},[_c('VolumeState',{attrs:{\"row\":_vm.row}}),(!!_vm.warningMessage)?_c('v-popover',{attrs:{\"trigger\":\"hover\",\"offset\":\"16\"}},[_c('span',{staticClass:\"tooltip-target\"},[_c('i',{staticClass:\"icon icon-warning icon-lg text-warning\"})]),_c('template',{slot:\"popover\"},[_c('p',{staticClass:\"warning-message\"},[_vm._v(\" \"+_vm._s(_vm.warningMessage)+\" \")])])],2):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport VolumeState from '@shell/components/formatter/BadgeStateFormatter';\n\nexport default {\n  components: { VolumeState },\n  props:      {\n    row: {\n      type:     Object,\n      required: true\n    },\n  },\n\n  computed: {\n    warningMessage() {\n      return this.row.relatedPV?.metadata?.annotations?.[HCI_ANNOTATIONS.VOLUME_ERROR];\n    }\n  },\n};\n</script>\n\n<template>\n  <span>\n    <div class=\"state\">\n      <VolumeState :row=\"row\" />\n      <v-popover\n        v-if=\"!!warningMessage\"\n        trigger=\"hover\"\n        offset=\"16\"\n      >\n        <span class=\"tooltip-target\">\n          <i class=\"icon icon-warning icon-lg text-warning\" />\n        </span>\n\n        <template slot=\"popover\">\n          <p class=\"warning-message\">\n            {{ warningMessage }}\n          </p>\n        </template>\n      </v-popover>\n    </div>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n.state {\n  display: flex;\n  justify-content: space-between;\n\n  .icon-warning {\n    margin-top: 2px;\n  }\n}\n.warning-message:first-letter {\n  text-transform: uppercase;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterVolumeState.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterVolumeState.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HarvesterVolumeState.vue?vue&type=template&id=bc47731e&scoped=true\"\nimport script from \"./HarvesterVolumeState.vue?vue&type=script&lang=js\"\nexport * from \"./HarvesterVolumeState.vue?vue&type=script&lang=js\"\nimport style0 from \"./HarvesterVolumeState.vue?vue&type=style&index=0&id=bc47731e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc47731e\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterMigrationState.vue?vue&type=style&index=0&id=5ceec65a&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"63b86021\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkRouteConnectivity.vue?vue&type=style&index=0&id=d543d746&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2f294d2d\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterVolumeState.vue?vue&type=style&index=0&id=bc47731e&prod&lang=scss&scoped=true\""],"sourceRoot":""}