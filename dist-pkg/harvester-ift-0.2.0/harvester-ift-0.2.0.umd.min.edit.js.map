{"version":3,"sources":["webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/CompatibilityMatrix.vue?bd25","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.keypair.vue?90f3","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/volume.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/volume.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/volume.vue?e695","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/volume.vue?bf88","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue?6562","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue?ffd2","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue?935f","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue?8d35","webpack://harvester-ift-0.2.0/./dialog/RestartVMDialog.vue?dec8","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue?c3e4","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue?5d9d","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.virtualmachineimage.vue?9590","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue?8fc6","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue?8a80","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.volume.vue?11fc","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/existing.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/existing.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/existing.vue?1921","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/existing.vue?7e5b","webpack://harvester-ift-0.2.0/./mixins/harvester-vm/impl.js","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue?5899","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue?765f","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue?d710","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/container.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/container.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/container.vue?4454","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/container.vue?9a29","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue?46cb","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue?1be9","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue?3176","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue?1f96","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue?9618","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.virtualmachineimage.vue?c535","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/index.vue?a2b2","webpack://harvester-ift-0.2.0/./dialog/RestartVMDialog.vue","webpack://harvester-ift-0.2.0/dialog/RestartVMDialog.vue","webpack://harvester-ift-0.2.0/./dialog/RestartVMDialog.vue?2560","webpack://harvester-ift-0.2.0/./dialog/RestartVMDialog.vue?a16c","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue?1058","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue?5353","webpack://harvester-ift-0.2.0/./config/settings.js","webpack://harvester-ift-0.2.0/./mixins/harvester-vm/index.js","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/index.vue?0339","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/CompatibilityMatrix.vue?23e3","webpack://harvester-ift-0.2.0/./dialog/RestartVMDialog.vue?7c19","webpack://harvester-ift-0.2.0/./dialog/RestartVMDialog.vue?f901","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue?5862","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue?fbd5","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/index.vue?ab85","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue?e0d0","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue?63c2","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue?4105","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue?fe8a","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.virtualmachinetemplateversion.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineReserved.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineReserved.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineReserved.vue?3678","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineReserved.vue?4a05","webpack://harvester-ift-0.2.0/edit/harvesterhci.io.virtualmachinetemplateversion.vue","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.virtualmachinetemplateversion.vue?aefd","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.virtualmachinetemplateversion.vue?f078","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.cloudtemplate.vue?6f86","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/CompatibilityMatrix.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/CompatibilityMatrix.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/CompatibilityMatrix.vue?98d7","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/CompatibilityMatrix.vue?e22e","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/index.vue?3276","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/index.vue?99f9","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/index.vue?fbbc","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/index.vue?4b8f","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.volume.vue?acab","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue?5bb9","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue?f595","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.volume.vue","webpack://harvester-ift-0.2.0/edit/harvesterhci.io.volume.vue","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.volume.vue?97c0","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.volume.vue?4a61","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/DeviceList.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/DeviceList.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/DeviceList.vue?8964","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/DeviceList.vue?6668","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue?e5cc","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue?105a","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue?3971","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.cloudtemplate.vue?0d98","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.cloudtemplate.vue","webpack://harvester-ift-0.2.0/edit/harvesterhci.io.cloudtemplate.vue","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.cloudtemplate.vue?175c","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.cloudtemplate.vue?2e59","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.virtualmachineimage.vue","webpack://harvester-ift-0.2.0/edit/harvesterhci.io.virtualmachineimage.vue","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.virtualmachineimage.vue?36b7","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.virtualmachineimage.vue?68a3","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue?11ea","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.keypair.vue","webpack://harvester-ift-0.2.0/edit/harvesterhci.io.keypair.vue","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.keypair.vue?f272","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.keypair.vue?0c9a","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue?8d72","webpack://harvester-ift-0.2.0/./edit/k8s.cni.cncf.io.networkattachmentdefinition.vue","webpack://harvester-ift-0.2.0/edit/k8s.cni.cncf.io.networkattachmentdefinition.vue","webpack://harvester-ift-0.2.0/./edit/k8s.cni.cncf.io.networkattachmentdefinition.vue?6ca4","webpack://harvester-ift-0.2.0/./edit/k8s.cni.cncf.io.networkattachmentdefinition.vue?c278","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue?1786","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue?3692","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue?47a6","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.volume.vue?af67","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/sshkey.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/sshkey.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/sshkey.vue?4c77","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/sshkey.vue?3954","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.cloudtemplate.vue?385c","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/vmImage.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/vmImage.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/vmImage.vue?64ff","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineVolume/type/vmImage.vue?0b35","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCpuMemory.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineCpuMemory.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCpuMemory.vue?608a","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineCpuMemory.vue?2966","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue?831f","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue?c815","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.virtualmachineimage.vue?070c","webpack://harvester-ift-0.2.0/./edit/snapshot.kubevirt.io.virtualmachinesnapshot.vue","webpack://harvester-ift-0.2.0/edit/snapshot.kubevirt.io.virtualmachinesnapshot.vue","webpack://harvester-ift-0.2.0/./edit/snapshot.kubevirt.io.virtualmachinesnapshot.vue?c52b","webpack://harvester-ift-0.2.0/./edit/snapshot.kubevirt.io.virtualmachinesnapshot.vue?4b4b","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.keypair.vue?0a63","webpack://harvester-ift-0.2.0/./edit/snapshot.kubevirt.io.virtualmachinesnapshot.vue?0846","webpack://harvester-ift-0.2.0/./edit/snapshot.kubevirt.io.virtualmachinesnapshot.vue?4112","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachinePciDevices/CompatibilityMatrix.vue?1ed7","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue?b970","webpack://harvester-ift-0.2.0/./edit/harvesterhci.io.keypair.vue?6dd7","webpack://harvester-ift-0.2.0/./edit/snapshot.kubevirt.io.virtualmachinesnapshot.vue?0360","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/base.vue","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/base.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/base.vue?1e89","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/base.vue?0379","webpack://harvester-ift-0.2.0/edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue?d5c5","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue?a265","webpack://harvester-ift-0.2.0/./edit/kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue?8756"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","render","_vm","this","_c","_self","attrs","loading","staticClass","t","value","name","mode","on","update","model","callback","$$v","$set","expression","type","VOLUME_TYPE","storageClassName","storageClassOptions","isDisabled","validateRequired","size","bus","InterfaceOption","staticRenderFns","components","InputOrDisplay","Loading","LabeledInput","LabeledSelect","UnitInput","props","String","default","isEdit","Boolean","Object","required","isVirtualType","data","computed","pvcsResource","allPVCs","$store","getters","PRODUCT_NAME","PVC","find","P","metadata","volumeName","newCreateId","storages","STORAGE_CLASS","out","filter","s","_s$parameters","parameters","backingImage","map","label","isDefault","watch","neu","handler","pvc","_pvc$spec","spec","resources","requests","storage","parseValue","parseSi","formatSize","formatSi","increment","addSuffix","maxExponent","minExponent","deep","immediate","methods","$emit","component","content","__esModule","locals","add","searchable","disabled","sshOption","checkedSsh","ref","randomStr","errors","save","cancel","scopedSlots","_u","key","fn","_v","_s","proxy","nativeOn","$event","indexOf","_k","keyCode","preventDefault","apply","arguments","sshName","publicKey","_NEW","ModalWithCard","Array","disableCreate","namespace","toLowerCase","isAll","checkAll","mapGetters","schema","HCI","SSH","isCreatable","_this$schema","collectionMethods","x","includes","O","id","_VIEW","unshift","splitSSH","split","length","val","old","show","$modal","hide","buttonCb","fieldName","message","max","sshValue","dispatch","res","err","resetFields","clone","class","selectedUser","userOptions","multiple","addUser","newUsername","resource","reg","test","volumeOption","image","_e","_CREATE","idx","Number","rows","realName","imageResource","IMAGE","I","_this$pvcResource","pvcResource","annotations","HCI_ANNOTATIONS","IMAGE_ID","displayName","sortBy","_pvc$metadata","_pvc$attachVM","_this$vm","_pvc$metadata2","isAvailable","isBeingUsed","isVMPvc","forEach","attachVM","vm","VOLUME_VM","_pvc$metadata3","pvctype","JSON","parse","accessModes","volumeMode","_pvc$metadata4","QGA_JSON","package_update","packages","runcmd","QGA_MAP","USB_TABLET","SSH_EXISTING_TYPE","EXISTING_ALL","EXISTING_ONLY_ANNOTATION","EXISTING_ONLY_CLOUD","hasCloudConfigComment","userScript","_userDataDoc$contents","_userDataDoc$comment","_userDataDoc$commentB","userDataDoc","YAML","parseDocument","items","contents","exist","comment","commentBefore","item","_key$commentBefore","getSSHValue","_sshs$find","sshs","undefined","getOsType","_vm$metadata","labels","OS","getMatchQGA","osType","_QGA_JSON","hasCustomQGA","match","getSimilarRuncmd","hasInstallAgent","oldValue","_dataFormat","_dataFormat2","dataFormat","jsyaml","load","e","Error","S","isArray","join","isInstallUSBTablet","_spec$template","inputs","template","domain","devices","isEqual","isEfiEnabled","_spec$template2","_spec$template3","features","smm","firmware","bootloader","efi","isSecureBoot","_spec$template4","secureBoot","getCloudInitNoCloud","_secret$decodedData","_secret$decodedData2","_spec$template5","secret","getSecret","userData","decodedData","userdata","networkData","networkdata","cloudInitNoCloud","volumes","V","saveUserDataAsClearText","saveNetworkDataAsClearText","_spec$template6","_cloudInitNoCloud$sec","_cloudInitNoCloud$net","secrets","SECRET","secretName","secretRef","networkDataSecretRef","getAccessCredentials","_spec$template7","_spec$template$metada","credentials","accessCredentials","DYNAMIC_SSHKEYS_NAMES","c","_c$source","source","userPassword","username","newPassword","users","sshkeys","keys","propagationMethod","qemuGuestAgent","getVolumeClaimTemplates","VOLUME_CLAIM_TEMPLATE","getRootImageId","_volume$","volume","getSSHFromAnnotation","_spec$template8","ids","SSH_NAMES","convertToJson","script","getSSHFromUserData","_this$convertToJson","ssh_authorized_keys","compareSSHValue","a","b","r","replace","mergeAllSSHs","allSSHs","hasSSHResource","ssh","_userDataSSH","_ssh$spec","container","isView","viewCode","configUserId","optionUser","updateTemplateId","configNetworkId","optionNetwork","networkScript","createTypeLable","cloudTemplateName","editorMode","cloudTemplate","options","yamlScript","_NONE","YamlEditor","configId","EDITOR_MODES","VIEW_CODE","EDIT_CODE","_this$$store$getters","cloudInit","CONFIG_MAP","$refs","updateValue","refresh","yaml","DataTemplate","templateType","configs","config","_config$metadata","_config$metadata2","CLOUD_INIT","keyLabel","templateValue","$fetch","close","domProps","slot","_t","_l","Card","AsyncButton","Banner","resolve","buttonDone","doActionGrowl","console","error","exceptionToErrorsArray","HCI_SETTING","BACKUP_TARGET","CONTAINERD_REGISTRY","LOG_LEVEL","SERVER_VERSION","UI_INDEX","UI_PLUGIN_INDEX","UPGRADE_CHECKER_ENABLED","UPGRADE_CHECKER_URL","VLAN","UI_SOURCE","HTTP_PROXY","ADDITIONAL_CA","OVERCOMMIT_CONFIG","CLUSTER_REGISTRATION_URL","DEFAULT_STORAGE_CLASS","VIP","SUPPORT_BUNDLE_TIMEOUT","SUPPORT_BUNDLE_IMAGE","STORAGE_NETWORK","VM_FORCE_RESET_POLICY","SSL_CERTIFICATES","SSL_PARAMETERS","SUPPORT_BUNDLE_NAMESPACES","AUTO_DISK_PROVISION_PATHS","RELEASE_DOWNLOAD_URL","CCM_CSI_VERSION","MANAGEMENT_NETWORK","CD_ROM","HARD_DISK","mixins","impl","_res$addons$find","hash","pvs","PV","pvcs","storageClasses","settings","SETTING","images","versions","VM_VERSION","templates","VM_TEMPLATE","networkAttachment","NETWORK_ATTACHMENT","vmis","VMI","vmims","VMIM","vms","VM","addons","ADD_ONS","NODE","nodes","CLUSTER_NETWORK","clusterNetworks","allHash","hasPCISchema","PCI_DEVICE","enabledPCI","addon","enabled","isClone","realMode","_CLONE","sshKey","runStrategy","installAgent","hasCreateVolumes","installUSBTablet","imageId","diskRows","networkRows","machineType","showAdvanced","deleteAgent","memory","cpu","reservedMemory","efiEnabled","userDataTemplateId","immutableMode","inStore","nodesIdOptions","N","isUnSchedulable","node","nameDisplay","defaultStorageClass","_defaultStorage$metad","defaultStorage","storageClassSetting","_this$$store$getters$","storageClassValue","customVolumeMode","customAccessMode","isWindows","needNewSecret","isCreate","getInitConfig","init","_this$value$status","_resources$limits","_resources$limits2","_spec$template$spec$d","existUserData","fromTemplate","BACKUP","status","limits","cores","VM_RESERVED_MEMORY","getDiskRows","getNetworkRows","getHasCreatedVolumes","_this$value$status2","secretBackups","_secretBackups$","_secretBackups$2","secretNetworkData","secretUserData","base64Decode","getInitUserData","prototype","hasOwnProperty","call","running","refreshYamlEditor","_volumes","_disks","disks","_volumeClaimTemplates","SOURCE_TYPE","accessMode","DISK","index","_volume$persistentVol","_DISK$disk","_DISK$cdrom","_this$pvcs$find","hotpluggable","dataSource","cdrom","disk","containerDisk","CONTAINER","persistentVolumeClaim","claimName","DVT","T","_DVT$metadata","_dataVolumeSpecPVC$ac","_dataVolumeSpecPVC$re","_DVT$metadata2","NEW","dataVolumeSpecPVC","_pvcResource$spec","_pvcResource$spec2","_pvcResource$spec3","_pvcResource$spec4","_pvcResource$metadata","_volume$persistentVol2","ATTACH_VOLUME","bootOrder","volumeStatus","relatedPV","VOLUME_ERROR","networks","interfaces","_network$multus","network","masquerade","bridge","isPod","pod","networkName","multus","parseVM","getUserData","parseOther","parseAccessCredentials","parseNetworkRows","parseDiskRows","machine","toString","_this$spec","_this$spec2","_this$spec3","_this$value","_this$spec$template","_this$spec$template2","_this$spec$template3","diskNameLables","volumeClaimTemplates","R","_this$value$metadata","prefixName","dataVolumeName","_disk","parseDisk","_volume","parseVolume","_dataVolumeTemplate","parseVolumeClaimTemplate","generateSecretName","secretNamePrefix","D","cloudinitdisk","stringify","VM_NAME","isSingle","multiVMScheduler","NETWORK_IPS","networkIps","CREATOR","_spec$template$spec","_spec$template$spec2","VM_NAME_PREFIX","namePrefix","rule","weight","podAffinityTerm","topologyKey","HOSTNAME","labelSelector","matchLabels","affinity","podAntiAffinity","preferredDuringSchedulingIgnoredDuringExecution","networkRow","_network","parseNetwork","_interface","parseInterface","_this$spec4","DYNAMIC_SSHKEYS_USERS","row","ACCESS_CREDENTIALS","RESET_PWD","INJECT_SSH","sshPublicKey","from","Set","dump","allSSHAuthorizedKeys","mergeSSHAuthorizedKeys","setIn","isCollection","getIn","deleteIn","mergeQGA","deleteQGA","userDataYaml","updateSSHKey","updateCpuMemory","getSSHListValue","arr","macAddress","updateUserData","updateNetworkData","_YAML$parseDocument$g","sshAuthorizedKeys","get","toJSON","sshList","deleteYamlDocProp","doc","paths","_doc$getIn","isMatchProp","userDataYAML","userDataJSON","findIndex","hasSameRuncmd","hasSimilarRuncmd","deletePackage","userDataTemplateValue","templateHasQGAPackage","splice","getOwnerReferencesFromVM","_resource$metadata","kind","apiVersion","uid","ownerReferences","setData","Promise","reject","toSave","secretId","keypair","getAccessCredentialsValidation","_V$persistentVolumeCl","handlerUSBTablet","_this$spec$template$s","hasExist","assign","$delete","setBootMethod","boot","set","deleteSSHFromUserData","userDataJson","isEmpty","$nextTick","_this$$refs$yamlEdito","yamlEditor","toggleAdvanced","updateAgent","updateDataTemplateId","oldInstallAgent","updateReserved","_neu$","_old$","imageOSType","oldImageId","hasCloudComment","_diff","difference","remove","headerFor","componentFor","tag","updateNewUser","isQemuInstalled","addCredentials","InfoBox","toRemove","newUserOptions","_EDIT","historyUsersOptions","_this$resource","removeObject","newUser","require","templateSpec","doneRoute","applyHooks","saveVMT","realTemplateMode","templateId","isDefaultVersion","onTabChanged","isConfig","RunStrategys","directives","rawName","change","Tab","SSHKey","Volume","Tabbed","Network","Checkbox","CpuMemory","CruResource","CloudConfig","NameNsDescription","NodeScheduling","Reserved","CreateEditView","VM_MIXIN","cleanForNew","$route","query","versionName","description","defaultVersion","_this$$route$query","as","_CONFIG","_this$templateValue","_templateValue","defaultVersionId","created","registerAfterHook","opt","force","version","_V$metadata","TEMPLATE_VERSION_CUSTOM_NAME","customName","op","path","patch","url","linkFor","mounted","_this$diskRows$","_this$templateValue2","saveSecret","AFTER_SAVE_HOOKS","done","tab","generateYaml","saveVM","nameLabel","validateCount","count","_n","useTemplate","templateOptions","versionOptions","templateVersionId","active","hostnameLabel","hostPlaceholder","hostname","machineTypeOptions","oldFormatDevices","oldFormatDevicesHTML","selectedDevices","enabledDevices","deviceOpts","option","displayLabel","compatibleNodes","showMatrix","devicesByNode","devicesInUse","pciDevices","pciDeviceSchema","filterByGroup","allNodeNames","nodeName","deviceCRD","deviceTooltip","noneAvailable","nodeHasDevice","allDeviceIds","uniqueDevices","nodeNameFromId","_this$devicesByNode$i","_deviceCRD$metadata","_deviceCRD$status","_deviceCRD$status2","resourceName","DeviceList","CompatibilityMatrix","claims","PCI_CLAIM","gpus","deviceName","_split","checkName","device","_device$metadata","formatted","selectedDevice","isEnabled","claimedByMe","inUse","reduce","usedBy","deviceUid","groupedData","minItemGroup","gpuNode","vendorId","iommuGroup","group","groupItems","minItem","min","address","filterPciDevices","filteredOptions","_deviceCRD$status3","nodeNameFromUid","thisNode","systemUUID","RadioGroup","AccessCredentials","PciDevices","RestartVMDialog","_allStorage$metadata","cloneVM","isRestartImmediately","actualState","allStorage","isReady","hasAvailableVersion","_this$curTemplateReso","curTemplateResource","hasRestartAction","hasAction","hasStartAction","_templates$find","_cloneVersionVM$spec","_cloneVersionVM$spec2","_cloneVersionVM$spec3","curVersion","cloneVersionVM","claimTemplate","deleteDataSource","_volume$spec","applyDefaults","restartVM","saveAccessCredentials","registerBeforeHook","updateBeforeSave","SCSetting","SC_SETTING","versionId","clear","saveSingle","saveMultiple","_save","endsWith","baseHostname","cloneValue","cloneSpec","suffix","basicValue","BEFORE_SAVE_HOOKS","_this$cloneVM","_this$cloneVM2","isRunning","cloneDeepNewVM","__clone","oldVM","newVM","restartDialog","saferDump","removeVolume","unplugVolume","to","state","dev","resourceExternalLink","tipsKey","changeSort","showVolumeTip","addVolume","existingVolumeDisabled","deleteVolume","BadgeStateFormatter","draggable","resourceType","nameIdx","vol","PLUGIN_DEVELOPER","DEV","_this$rows$","imageName","getImageDisplayName","HARVESTER_PRODUCT","params","VOLUME","generateName","hasName","deleteTip","open","defaultTab","sourceOptions","updateDefaults","canListStorageClasses","canListPersistentVolumes","persistentVolumeOptions","isPersistentVolumeSelectable","isLoadingSecondaryResources","persistentVolume","storageAmountMode","expandable","bound","readWriteOnce","readOnlyMany","readWriteMany","DEFAULT_STORAGE","Labels","ResourceTabs","StatusTable","ResourceManager","volumeType","resourceManagerFetchSecondaryResources","secondaryResourceData","sort","defaultAccessModes","FOCUS","secondaryResourceDataConfig","persistentVolumes","checkboxSetter","pv","_persistentVolume$spe","_persistentVolume$spe2","_persistentVolume$spe3","capacity","willSave","_this$$refs$volumeSiz","focus","volumeSize","setTimeout","applyTo","var","parsingFunc","phase","l","localeCompare","uniq","headers","claimedBy","ResourceTable","allgpu","isSingleProduct","STATE","SIMPLE_NAME","labelKey","formatter","enableGroup","groupRows","enablePassthroughBulk","disableGroup","passthroughClaim","disablePassthrough","groupIsAllEnabled","types","_this$value$data","showEditAsYaml","saveImage","_b","$attrs","sourceType","selectFile","handleFileUpload","uploadFileName","focusKey","setLabels","keyName","queueUpdate","target","composing","valueName","internalAnnotations","calculateOptions","DOWNLOAD","UPLOAD","rawORqcow2","KeyValue","Select","KOPF_LAST_HANDLED","files","fileUrl","file","_this$file","_this$value2","IMAGE_NAME","isCreateEdit","nue","trim","setImageLabels","_this$$refs","uploadImage","str","_str$split","_suffixName$split","suffixName","pop","fileSuffix","VM_IMAGE_FILE_FORMAT","labelValue","addLabel","IMAGE_SUFFIX","nd","changeNameAndNamespace","text","selected","os","getOSType","OS_TYPE","click","optionKeys","matchValue","onKeySelected","randomString","FileSelector","createOnSelected","saveNetwork","networkType","AUTO","MANUAL","slice","HCI_LABELS_ANNOTATIONS","setAnnotation","NETWORK_ROUTE","modeOptions","clusterNetworkOptions","n","isUntaggedNetwork","vlanType","input","pattern","vlan","updateUser","updateSSH","AccessCredentialsUsers","imagesOption","onImageChange","fetch","creationTimestamp","checkImageExists","imageSuffix","onOpen","findBy","title","root","cupDisplay","localCpu","memoryDisplay","localMemory","Password","defaultPwdValue","disableExisting","restoreNewVm","namespaces","snapshotOption","snapshotName","deletionPolicyOption","deletionPolicy","saveRestore","createObject","RESTORE","apiGroup","virtualMachineSnapshotName","Footer","backups","VM_SNAPSHOT","_this$$route$query2","restoreMode","restoreResource","choices","_T$status","hasVM","attachVmExisting","readyToUse","currentBackupResource","backupList","_this$currentBackupRe","snapshotNamespace","_backupList$find","B","NAMESPACE","systemNamespaces","obj","_this$currentBackupRe2","_this$currentBackupRe3","proxyResource","$router","componentTitle","rowKeyId","networkOption","modelOption","isMasquerade","allNetworkOption","updateNetworkName","MODEL","hasManagementNetwork","vlanNetwork","managementNetwork","some","Base","addKeyId","_row$metadata","hasUsed"],"mappings":"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","file":"harvester-ift-0.2.0.umd.min.edit.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".compat-matrix,.device-col{display:flex}.device-col{flex-direction:column;border-right:1px solid var(--border)}.device-col>*{border-bottom:1px solid var(--border)}.compat-cell{flex-basis:1em;padding:0 10px 0 10px}.compat-cell.has-device{background-color:var(--info-banner-bg)}.device-label,.node-label{display:flex;align-items:center;color:var(--input-label)}.node-label{padding:0 10px;justify-content:center}.blank-corner,.compat-cell,.device-label,.node-label{flex-basis:calc(2em + 10px)}.blank-corner{background:linear-gradient(to top right,#fff 0,#fff calc(50% - 1px),var(--body-text) 50%,#fff calc(50% + 1px),#fff)}.blank-corner DIV.text-right{padding-left:80px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".header[data-v-0f630528]{display:flex;justify-content:flex-end}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Loading',{attrs:{\"mode\":\"relative\",\"loading\":_vm.loading}}),_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hev-name\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.name'),\"value\":_vm.value.name,\"mode\":_vm.mode}},[_c('LabeledInput',{attrs:{\"label\":_vm.t('harvester.fields.name'),\"mode\":_vm.mode,\"required\":\"\"},on:{\"input\":_vm.update},model:{value:(_vm.value.name),callback:function ($$v) {_vm.$set(_vm.value, \"name\", $$v)},expression:\"value.name\"}})],1)],1),_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hev-type\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.type'),\"value\":_vm.value.type,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.fields.type'),\"options\":_vm.VOLUME_TYPE,\"required\":\"\",\"mode\":_vm.mode},on:{\"input\":_vm.update},model:{value:(_vm.value.type),callback:function ($$v) {_vm.$set(_vm.value, \"type\", $$v)},expression:\"value.type\"}})],1)],1)]),_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hav-storage\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.storage.storageClass.label'),\"value\":_vm.value.storageClassName,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"options\":_vm.storageClassOptions,\"label\":_vm.t('harvester.storage.storageClass.label'),\"mode\":_vm.mode,\"disabled\":_vm.isDisabled,\"required\":_vm.validateRequired},on:{\"input\":_vm.update},model:{value:(_vm.value.storageClassName),callback:function ($$v) {_vm.$set(_vm.value, \"storageClassName\", $$v)},expression:\"value.storageClassName\"}})],1)],1),_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hev-size\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.size'),\"value\":_vm.value.size,\"mode\":_vm.mode}},[_c('UnitInput',{attrs:{\"output-modifier\":true,\"increment\":1024,\"input-exponent\":3,\"mode\":_vm.mode,\"min\":10,\"required\":_vm.validateRequired,\"label\":_vm.t('harvester.fields.size')},on:{\"input\":_vm.update},model:{value:(_vm.value.size),callback:function ($$v) {_vm.$set(_vm.value, \"size\", $$v)},expression:\"value.size\"}})],1)],1)]),_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-3\",attrs:{\"data-testid\":\"input-hev-bus\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.virtualMachine.volume.bus'),\"value\":_vm.value.bus,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.virtualMachine.volume.bus'),\"mode\":_vm.mode,\"options\":_vm.InterfaceOption,\"required\":\"\"},on:{\"input\":_vm.update},model:{value:(_vm.value.bus),callback:function ($$v) {_vm.$set(_vm.value, \"bus\", $$v)},expression:\"value.bus\"}})],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Loading from '@shell/components/Loading';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport InputOrDisplay from '@shell/components/InputOrDisplay';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nimport { PVC, STORAGE_CLASS } from '@shell/config/types';\nimport { formatSi, parseSi } from '@shell/utils/units';\nimport { VOLUME_TYPE, InterfaceOption } from '../../../../config/harvester-map';\n\nimport { PRODUCT_NAME } from '../../../../types';\n\nexport default {\n  name:       'HarvesterEditVolume',\n  components: {\n    InputOrDisplay, Loading, LabeledInput, LabeledSelect, UnitInput,\n  },\n\n  props: {\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    isEdit: {\n      type:    Boolean,\n      default: false\n    },\n\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    validateRequired: {\n      type:     Boolean,\n      required: true\n    },\n\n    isVirtualType: {\n      type:    Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      VOLUME_TYPE,\n      InterfaceOption,\n      loading: false,\n    };\n  },\n\n  computed: {\n    pvcsResource() {\n      const allPVCs = this.$store.getters[`${ PRODUCT_NAME }/all`](PVC) || [];\n\n      return allPVCs.find((P) => P.metadata.name === this.value.volumeName);\n    },\n\n    isDisabled() {\n      return !this.value.newCreateId && this.isEdit && this.isVirtualType;\n    },\n\n    storageClassOptions() {\n      const storages = this.$store.getters[`${ PRODUCT_NAME }/all`](STORAGE_CLASS) || [];\n\n      const out = storages.filter((s) => !s.parameters?.backingImage).map((s) => {\n        const label = s.isDefault ? `${ s.name } (${ this.t('generic.default') })` : s.name;\n\n        return {\n          label,\n          value: s.name,\n        };\n      }) || [];\n\n      return out;\n    },\n  },\n\n  watch: {\n    'value.type'(neu) {\n      if (neu === 'cd-rom') {\n        this.$set(this.value, 'bus', 'sata');\n        this.update();\n      }\n    },\n\n    pvcsResource: {\n      handler(pvc) {\n        if (pvc?.spec?.resources?.requests?.storage) {\n          const parseValue = parseSi(pvc.spec.resources.requests.storage);\n\n          const formatSize = formatSi(parseValue, {\n            increment:   1024,\n            addSuffix:   false,\n            maxExponent: 3,\n            minExponent: 3,\n          });\n\n          this.value.size = `${ formatSize }Gi`;\n        }\n      },\n      deep:      true,\n      immediate: true\n    },\n  },\n\n  methods: {\n    update() {\n      this.$emit('update');\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <Loading\n      mode=\"relative\"\n      :loading=\"loading\"\n    />\n    <div class=\"row mb-20\">\n      <div\n        class=\"col span-6\"\n        data-testid=\"input-hev-name\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.name')\"\n          :value=\"value.name\"\n          :mode=\"mode\"\n        >\n          <LabeledInput\n            v-model=\"value.name\"\n            :label=\"t('harvester.fields.name')\"\n            :mode=\"mode\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <div\n        class=\"col span-6\"\n        data-testid=\"input-hev-type\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.type')\"\n          :value=\"value.type\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.type\"\n            :label=\"t('harvester.fields.type')\"\n            :options=\"VOLUME_TYPE\"\n            required\n            :mode=\"mode\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hav-storage\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.storage.storageClass.label')\"\n          :value=\"value.storageClassName\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.storageClassName\"\n            :options=\"storageClassOptions\"\n            :label=\"t('harvester.storage.storageClass.label')\"\n            :mode=\"mode\"\n            :disabled=\"isDisabled\"\n            :required=\"validateRequired\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n      <div\n        class=\"col span-6\"\n        data-testid=\"input-hev-size\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.size')\"\n          :value=\"value.size\"\n          :mode=\"mode\"\n        >\n          <UnitInput\n            v-model=\"value.size\"\n            :output-modifier=\"true\"\n            :increment=\"1024\"\n            :input-exponent=\"3\"\n            :mode=\"mode\"\n            :min=\"10\"\n            :required=\"validateRequired\"\n            :label=\"t('harvester.fields.size')\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hev-bus\"\n        class=\"col span-3\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.virtualMachine.volume.bus')\"\n          :value=\"value.bus\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.bus\"\n            :label=\"t('harvester.virtualMachine.volume.bus')\"\n            :mode=\"mode\"\n            :options=\"InterfaceOption\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./volume.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./volume.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./volume.vue?vue&type=template&id=08921d21\"\nimport script from \"./volume.vue?vue&type=script&lang=js\"\nexport * from \"./volume.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-e1902d82] .labeled-select .v-select:not(.vs--single) .vs__selected-options{flex-basis:auto;flex-wrap:wrap;width:100%}[data-v-e1902d82] .labeled-select .v-select:not(.vs--single) .vs__selected{white-space:nowrap}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6a2ca441&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"203d7468\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./basicAuth.vue?vue&type=style&index=0&id=4ed320b6&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"35c1aaaa\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualMachineSSHKey.vue?vue&type=style&index=0&id=e1902d82&prod&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RestartVMDialog.vue?vue&type=style&index=0&id=c430a37c&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f9002002\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.virtualMachine.input.sshKey'),\"taggable\":true,\"mode\":_vm.mode,\"multiple\":true,\"searchable\":_vm.searchable,\"disabled\":_vm.disabled,\"options\":_vm.sshOption},on:{\"input\":_vm.update},model:{value:(_vm.checkedSsh),callback:function ($$v) {_vm.checkedSsh=$$v},expression:\"checkedSsh\"}}),_c('ModalWithCard',{ref:_vm.randomStr,attrs:{\"name\":_vm.randomStr,\"width\":\"40%\",\"errors\":_vm.errors},on:{\"finish\":_vm.save,\"close\":_vm.cancel},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.sshTitle'))+\" \")]},proxy:true},{key:\"content\",fn:function(){return [_c('LabeledInput',{staticClass:\"mb-20\",attrs:{\"label\":_vm.t('harvester.virtualMachine.input.name'),\"required\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.preventDefault();return (()=>{}).apply(null, arguments)}},model:{value:(_vm.sshName),callback:function ($$v) {_vm.sshName=$$v},expression:\"sshName\"}}),_c('LabeledInput',{staticClass:\"mb-20\",attrs:{\"label\":_vm.t('harvester.virtualMachine.input.sshKeyValue'),\"min-height\":160,\"type\":\"multiline\",\"required\":\"\"},model:{value:(_vm.publicKey),callback:function ($$v) {_vm.publicKey=$$v},expression:\"publicKey\"}})]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { randomStr } from '@shell/utils/string';\n\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport ModalWithCard from '@shell/components/ModalWithCard';\n\nimport { HCI, PRODUCT_NAME } from '../../types';\nimport { clone } from '@shell/utils/object';\nimport { _VIEW } from '@shell/config/query-params';\n\nconst _NEW = '_NEW';\n\nexport default {\n  components: {\n    LabeledInput,\n    ModalWithCard,\n    LabeledSelect,\n  },\n\n  props: {\n    value: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n\n    disableCreate: {\n      type:    Boolean,\n      default: false\n    },\n\n    namespace: {\n      type:    String,\n      default: ''\n    },\n\n    searchable: {\n      type:    Boolean,\n      default: true,\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      checkedSsh: this.value,\n      publicKey:  '',\n      sshName:    '',\n      randomStr:  randomStr(5).toLowerCase(),\n      errors:     [],\n      isAll:      false,\n      checkAll:   false\n    };\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    schema() {\n      return this.$store.getters[`${ PRODUCT_NAME }/schemaFor`]( HCI.SSH );\n    },\n\n    isCreatable() {\n      if ( this.schema && !this.schema?.collectionMethods.find((x) => ['blocked-post', 'post'].includes(x.toLowerCase())) ) {\n        return false;\n      }\n\n      return true ;\n    },\n\n    sshOption() {\n      const out = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.SSH).map( (O) => {\n        return {\n          label: O.id,\n          value: O.id\n        };\n      });\n\n      if (!(this.disableCreate || this.mode === _VIEW) && this.isCreatable) {\n        out.unshift({\n          label: this.t('harvester.virtualMachine.createSSHKey'),\n          value: _NEW,\n        });\n      }\n\n      return out;\n    },\n  },\n\n  watch: {\n    publicKey(neu) {\n      const splitSSH = neu.split(/\\s+/);\n\n      if (splitSSH.length === 3) {\n        if (splitSSH[2].includes('@')) {\n          if (splitSSH[2].split('@')) {\n            if (!this.sshName) {\n              this.sshName = splitSSH[2].split('@')[0];\n            }\n          }\n        }\n      }\n    },\n\n    value(neu) {\n      this.checkedSsh = neu;\n    },\n\n    checkedSsh(val, old) {\n      if ( val.includes(_NEW)) {\n        this.$set(this, 'checkedSsh', old);\n        this.update();\n        this.show();\n      }\n    }\n  },\n\n  methods: {\n    show() {\n      this.$modal.show(this.randomStr);\n    },\n\n    hide() {\n      this.$modal.hide(this.randomStr);\n    },\n\n    async save(buttonCb) {\n      this.errors = [];\n\n      if (!this.sshName) {\n        const fieldName = this.t('harvester.virtualMachine.input.name');\n        const message = this.t('validation.required', { key: fieldName });\n\n        this.errors.push(message);\n      }\n\n      if (!this.publicKey) {\n        const fieldName = this.t('harvester.virtualMachine.input.sshKeyValue');\n        const message = this.t('validation.required', { key: fieldName });\n\n        this.errors.push(message);\n      }\n\n      if (this.sshName.length > 63) {\n        const message = this.t('harvester.validation.custom.tooLongName', { max: 63 });\n\n        this.errors.push(message);\n      }\n\n      if (this.errors.length > 0) {\n        buttonCb(false);\n\n        return;\n      }\n\n      try {\n        const sshValue = await this.$store.dispatch(`${ PRODUCT_NAME }/create`, {\n          metadata: {\n            name:      this.sshName,\n            namespace: this.namespace\n          },\n          spec: { publicKey: this.publicKey },\n          type: HCI.SSH\n        });\n\n        const res = await sshValue.save();\n\n        if (res.id) {\n          this.checkedSsh.push(`${ this.namespace }/${ this.sshName }`);\n        }\n\n        buttonCb(true);\n        this.cancel();\n      } catch (err) {\n        this.errors = [err.message];\n        buttonCb(false);\n      }\n    },\n\n    cancel() {\n      this.hide();\n      this.resetFields();\n    },\n\n    resetFields() {\n      this.sshName = '';\n      this.publicKey = '';\n      this.errors = [];\n    },\n\n    update() {\n      this.$emit('update:sshKey', clone(this.checkedSsh));\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <LabeledSelect\n      v-model=\"checkedSsh\"\n      :label=\"t('harvester.virtualMachine.input.sshKey')\"\n      :taggable=\"true\"\n      :mode=\"mode\"\n      :multiple=\"true\"\n      :searchable=\"searchable\"\n      :disabled=\"disabled\"\n      :options=\"sshOption\"\n      @input=\"update\"\n    />\n\n    <ModalWithCard\n      :ref=\"randomStr\"\n      :name=\"randomStr\"\n      width=\"40%\"\n      :errors=\"errors\"\n      @finish=\"save\"\n      @close=\"cancel\"\n    >\n      <template #title>\n        {{ t('harvester.virtualMachine.sshTitle') }}\n      </template>\n\n      <template #content>\n        <LabeledInput\n          v-model=\"sshName\"\n          :label=\"t('harvester.virtualMachine.input.name')\"\n          class=\"mb-20\"\n          required\n          @keydown.native.enter.prevent=\"()=>{}\"\n        />\n\n        <LabeledInput\n          v-model=\"publicKey\"\n          :label=\"t('harvester.virtualMachine.input.sshKeyValue')\"\n          :min-height=\"160\"\n          class=\"mb-20\"\n          type=\"multiline\"\n          required\n        />\n      </template>\n    </ModalWithCard>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep .labeled-select .v-select:not(.vs--single) {\n    .vs__selected-options {\n      flex-basis: auto;\n      flex-wrap: wrap;\n      width: 100%;\n    }\n    .vs__selected {\n      white-space: nowrap;\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualMachineSSHKey.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualMachineSSHKey.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./VirtualMachineSSHKey.vue?vue&type=template&id=e1902d82&scoped=true\"\nimport script from \"./VirtualMachineSSHKey.vue?vue&type=script&lang=js\"\nexport * from \"./VirtualMachineSSHKey.vue?vue&type=script&lang=js\"\nimport style0 from \"./VirtualMachineSSHKey.vue?vue&type=style&index=0&id=e1902d82&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e1902d82\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".kv-item.value>.unlabeled-select[data-v-703b18f1]{height:40px;line-height:1}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"vm__credentials-users\"},[_c('LabeledSelect',{class:{'hasUsers': _vm.selectedUser.length > 0},attrs:{\"options\":_vm.userOptions,\"label\":_vm.t('harvester.virtualMachine.accessCredentials.injectSSH.users'),\"taggable\":_vm.multiple,\"mode\":_vm.mode,\"multiple\":_vm.multiple,\"searchable\":false,\"tooltip\":_vm.t('harvester.virtualMachine.accessCredentials.userTips')},on:{\"input\":_vm.update},model:{value:(_vm.selectedUser),callback:function ($$v) {_vm.selectedUser=$$v},expression:\"selectedUser\"}}),_c('ModalWithCard',{ref:_vm.randomStr,attrs:{\"name\":_vm.randomStr,\"width\":\"40%\",\"errors\":_vm.errors},on:{\"finish\":_vm.addUser,\"close\":_vm.cancel},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.accessCredentials.injectSSH.addUser'))+\" \")]},proxy:true},{key:\"content\",fn:function(){return [_c('LabeledInput',{staticClass:\"mb-20\",attrs:{\"label\":_vm.t('harvester.virtualMachine.input.username'),\"required\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.preventDefault();return (()=>{}).apply(null, arguments)}},model:{value:(_vm.newUsername),callback:function ($$v) {_vm.newUsername=$$v},expression:\"newUsername\"}})]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { clone } from '@shell/utils/object';\nimport { randomStr } from '@shell/utils/string';\n\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport ModalWithCard from '@shell/components/ModalWithCard';\n\nconst _NEW = '_NEW';\n\nexport default {\n  components: {\n    LabeledInput,\n    LabeledSelect,\n    ModalWithCard,\n  },\n\n  props: {\n    value: {\n      type:    [Array, String],\n      default: () => {\n        return [];\n      }\n    },\n\n    resource: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    userOptions: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    multiple: {\n      type:    Boolean,\n      default: false\n    },\n\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      selectedUser: this.value,\n      newUsername:  '',\n      randomStr:    randomStr(5).toLowerCase(),\n      errors:       [],\n    };\n  },\n\n  computed: { ...mapGetters({ t: 'i18n/t' }) },\n\n  watch: {\n    value(neu) {\n      this.selectedUser = neu;\n    },\n\n    selectedUser(val, old) {\n      if ( val.includes(_NEW)) {\n        this.$set(this, 'selectedUser', old);\n        this.update();\n        this.show();\n      }\n    }\n  },\n\n  methods: {\n    update() {\n      this.$emit('update:user', clone(this.selectedUser));\n    },\n\n    addUser(buttonCb) {\n      const reg = /^[-._0-9a-zA-Z]+$/;\n\n      this.errors = [];\n\n      if (!reg.test(this.newUsername)) {\n        const message = this.t('harvester.virtualMachine.accessCredentials.invalidUser');\n\n        this.errors.push(message);\n        buttonCb(false);\n\n        return;\n      }\n\n      if (this.userOptions.includes(this.newUsername)) {\n        const message = this.t('harvester.virtualMachine.accessCredentials.duplicatedUser');\n\n        this.errors.push(message);\n        buttonCb(false);\n\n        return;\n      }\n\n      if (this.multiple) {\n        this.selectedUser.push(this.newUsername);\n      } else {\n        this.selectedUser = this.newUsername;\n      }\n\n      this.$emit('update:newUser', this.newUsername);\n      this.update();\n\n      buttonCb(true);\n      this.cancel();\n    },\n\n    show() {\n      this.$modal.show(this.randomStr);\n    },\n\n    hide() {\n      this.$modal.hide(this.randomStr);\n    },\n\n    cancel() {\n      this.hide();\n      this.newUsername = '';\n    },\n\n  }\n};\n</script>\n\n<template>\n  <div class=\"vm__credentials-users\">\n    <LabeledSelect\n      v-model=\"selectedUser\"\n      :options=\"userOptions\"\n      :label=\"t('harvester.virtualMachine.accessCredentials.injectSSH.users')\"\n      :taggable=\"multiple\"\n      :mode=\"mode\"\n      :multiple=\"multiple\"\n      :searchable=\"false\"\n      :tooltip=\"t('harvester.virtualMachine.accessCredentials.userTips')\"\n      :class=\"{'hasUsers': selectedUser.length > 0}\"\n      @input=\"update\"\n    />\n\n    <ModalWithCard\n      :ref=\"randomStr\"\n      :name=\"randomStr\"\n      width=\"40%\"\n      :errors=\"errors\"\n      @finish=\"addUser\"\n      @close=\"cancel\"\n    >\n      <template #title>\n        {{ t('harvester.virtualMachine.accessCredentials.injectSSH.addUser') }}\n      </template>\n\n      <template #content>\n        <LabeledInput\n          v-model=\"newUsername\"\n          :label=\"t('harvester.virtualMachine.input.username')\"\n          class=\"mb-20\"\n          required\n          @keydown.native.enter.prevent=\"()=>{}\"\n        />\n      </template>\n    </ModalWithCard>\n  </div>\n</template>\n\n<style lang=\"scss\">\n  .vm__credentials-users {\n    .hasUsers.labeled-select.edit.taggable {\n      .labeled-tooltip {\n        .icon.status-icon {\n          top: 30px;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AccessCredentialsUsers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AccessCredentialsUsers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AccessCredentialsUsers.vue?vue&type=template&id=7eba9340\"\nimport script from \"./AccessCredentialsUsers.vue?vue&type=script&lang=js\"\nexport * from \"./AccessCredentialsUsers.vue?vue&type=script&lang=js\"\nimport style0 from \"./AccessCredentialsUsers.vue?vue&type=style&index=0&id=7eba9340&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".access[data-v-7aebdcbb]{display:flex;flex-direction:row}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hee-name\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.name'),\"value\":_vm.value.name,\"mode\":_vm.mode}},[_c('LabeledInput',{attrs:{\"label\":_vm.t('harvester.fields.name'),\"mode\":_vm.mode,\"required\":\"\"},on:{\"input\":_vm.update},model:{value:(_vm.value.name),callback:function ($$v) {_vm.$set(_vm.value, \"name\", $$v)},expression:\"value.name\"}})],1)],1),_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hee-type\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.type'),\"value\":_vm.value.type,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.fields.type'),\"mode\":_vm.mode,\"options\":_vm.VOLUME_TYPE,\"required\":\"\"},on:{\"input\":_vm.update},model:{value:(_vm.value.type),callback:function ($$v) {_vm.$set(_vm.value, \"type\", $$v)},expression:\"value.type\"}})],1)],1)]),_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hee-volumeName\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.volume'),\"value\":_vm.value.volumeName,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"disabled\":_vm.isDisabled,\"label\":_vm.t('harvester.fields.volume'),\"mode\":_vm.mode,\"options\":_vm.volumeOption,\"required\":\"\"},on:{\"input\":_vm.update},model:{value:(_vm.value.volumeName),callback:function ($$v) {_vm.$set(_vm.value, \"volumeName\", $$v)},expression:\"value.volumeName\"}})],1)],1),_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hee-size\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.size'),\"value\":_vm.value.size,\"mode\":_vm.mode}},[_c('UnitInput',{attrs:{\"output-modifier\":true,\"increment\":1024,\"input-exponent\":3,\"label\":_vm.t('harvester.fields.size'),\"mode\":_vm.mode,\"disabled\":true},on:{\"input\":_vm.update},model:{value:(_vm.value.size),callback:function ($$v) {_vm.$set(_vm.value, \"size\", $$v)},expression:\"value.size\"}})],1)],1)]),_c('div',{staticClass:\"row mb-20\"},[(!!_vm.image)?_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hee-image\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.image'),\"value\":_vm.image,\"mode\":_vm.mode}},[_c('LabeledInput',{attrs:{\"label\":_vm.t('harvester.fields.image'),\"mode\":_vm.mode,\"disabled\":true},on:{\"input\":_vm.update},model:{value:(_vm.image),callback:function ($$v) {_vm.image=$$v},expression:\"image\"}})],1)],1):_vm._e(),_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hee-bus\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.virtualMachine.volume.bus'),\"value\":_vm.value.bus,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.virtualMachine.volume.bus'),\"mode\":_vm.mode,\"options\":_vm.InterfaceOption,\"disabled\":true,\"required\":\"\"},on:{\"input\":_vm.update},model:{value:(_vm.value.bus),callback:function ($$v) {_vm.$set(_vm.value, \"bus\", $$v)},expression:\"value.bus\"}})],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport UnitInput from '@shell/components/form/UnitInput';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport InputOrDisplay from '@shell/components/InputOrDisplay';\n\nimport { sortBy } from '@shell/utils/sort';\nimport { PVC } from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../../../../types';\nimport { _CREATE } from '@shell/config/query-params';\nimport { VOLUME_TYPE, InterfaceOption } from '../../../../config/harvester-map';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\n\nexport default {\n  name:       'HarvesterEditExisting',\n  components: {\n    UnitInput, LabeledInput, LabeledSelect, InputOrDisplay\n  },\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    isEdit: {\n      type:    Boolean,\n      default: false\n    },\n\n    namespace: {\n      type:    String,\n      default: null\n    },\n\n    idx: {\n      type:    Number,\n      default: 0\n    },\n\n    rows: {\n      type:     Array,\n      required: true\n    },\n  },\n\n  data() {\n    if (this.value.realName) {\n      this.value.volumeName = this.value.realName;\n    }\n\n    return {\n      VOLUME_TYPE,\n      InterfaceOption,\n      loading: false,\n    };\n  },\n\n  computed: {\n    isDisabled() {\n      return !this.value.newCreateId && this.isEdit;\n    },\n\n    allPVCs() {\n      const allPVCs = this.$store.getters[`${ PRODUCT_NAME }/all`](PVC);\n\n      return allPVCs.filter((P) => {\n        return this.namespace ? this.namespace === P.metadata.namespace : true;\n      }) || [];\n    },\n\n    image() {\n      const imageResource = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.IMAGE).find((I) => I.id === this.pvcResource?.metadata?.annotations?.[HCI_ANNOTATIONS.IMAGE_ID]);\n\n      if (!imageResource) {\n        return;\n      }\n\n      return `${ imageResource.metadata.namespace }/${ imageResource.spec.displayName }`;\n    },\n\n    pvcResource() {\n      return this.allPVCs.find( (P) => P.metadata.name === this.value.volumeName );\n    },\n\n    volumeOption() {\n      return sortBy(\n        this.allPVCs\n          .filter( (pvc) => {\n            let isAvailable = true;\n            let isBeingUsed = false;\n            let isVMPvc = false;\n\n            this.rows.forEach( (O) => {\n              if (O.volumeName === pvc.metadata.name) {\n                isAvailable = false;\n              }\n            });\n\n            if (this.idx === 0 && !pvc.metadata?.annotations?.[HCI_ANNOTATIONS.IMAGE_ID]) {\n              return false;\n            }\n\n            if (pvc.attachVM && isAvailable && pvc.attachVM?.id === this.vm?.id && this.isEdit) {\n              isBeingUsed = false;\n            } else if (pvc.attachVM) {\n              isBeingUsed = true;\n            }\n\n            if (pvc?.metadata?.annotations?.[HCI_ANNOTATIONS.VOLUME_VM]) {\n              const pvctype = JSON.parse(pvc?.metadata?.annotations?.[HCI_ANNOTATIONS.VOLUME_VM]).type;\n\n              isVMPvc = pvctype === 'disk';\n            }\n\n            return isAvailable && !isBeingUsed && pvc.isAvailable && isVMPvc;\n          })\n          .map((pvc) => {\n            return {\n              label: pvc.metadata.name,\n              value: pvc.metadata.name\n            };\n          }),\n        'label'\n      );\n    },\n  },\n\n  watch: {\n    'value.volumeName'(neu) {\n      const pvcResource = this.allPVCs.find( (P) => P.metadata.name === neu);\n\n      if (!pvcResource) {\n        return;\n      }\n\n      this.value.accessModes = pvcResource.spec.accessModes[0];\n      this.value.size = pvcResource.spec.resources.requests.storage;\n      this.value.storageClassName = pvcResource.spec.storageClassName;\n      this.value.volumeMode = pvcResource.spec.volumeMode;\n    },\n\n    'value.type'(neu) {\n      if (neu === 'cd-rom') {\n        this.$set(this.value, 'bus', 'sata');\n        this.update();\n      }\n    },\n\n    pvcResource: {\n      handler(pvc) {\n        if (!this.value.volumeName && pvc?.metadata?.name) {\n          this.value.volumeName = pvc.metadata.name;\n        }\n      },\n      deep:      true,\n      immediate: true\n    },\n  },\n\n  methods: {\n    update() {\n      this.$emit('update');\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hee-name\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.name')\"\n          :value=\"value.name\"\n          :mode=\"mode\"\n        >\n          <LabeledInput\n            v-model=\"value.name\"\n            :label=\"t('harvester.fields.name')\"\n            :mode=\"mode\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <div\n        data-testid=\"input-hee-type\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.type')\"\n          :value=\"value.type\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.type\"\n            :label=\"t('harvester.fields.type')\"\n            :mode=\"mode\"\n            :options=\"VOLUME_TYPE\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hee-volumeName\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.volume')\"\n          :value=\"value.volumeName\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.volumeName\"\n            :disabled=\"isDisabled\"\n            :label=\"t('harvester.fields.volume')\"\n            :mode=\"mode\"\n            :options=\"volumeOption\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <div\n        data-testid=\"input-hee-size\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.size')\"\n          :value=\"value.size\"\n          :mode=\"mode\"\n        >\n          <UnitInput\n            v-model=\"value.size\"\n            :output-modifier=\"true\"\n            :increment=\"1024\"\n            :input-exponent=\"3\"\n            :label=\"t('harvester.fields.size')\"\n            :mode=\"mode\"\n            :disabled=\"true\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n\n    <div class=\"row mb-20\">\n      <div\n        v-if=\"!!image\"\n        data-testid=\"input-hee-image\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.image')\"\n          :value=\"image\"\n          :mode=\"mode\"\n        >\n          <LabeledInput\n            v-model=\"image\"\n            :label=\"t('harvester.fields.image')\"\n            :mode=\"mode\"\n            :disabled=\"true\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <div\n        data-testid=\"input-hee-bus\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.virtualMachine.volume.bus')\"\n          :value=\"value.bus\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.bus\"\n            :label=\"t('harvester.virtualMachine.volume.bus')\"\n            :mode=\"mode\"\n            :options=\"InterfaceOption\"\n            :disabled=\"true\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./existing.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./existing.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./existing.vue?vue&type=template&id=589bd8b7\"\nimport script from \"./existing.vue?vue&type=script&lang=js\"\nexport * from \"./existing.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import YAML from 'yaml';\nimport jsyaml from 'js-yaml';\nimport isEqual from 'lodash/isEqual';\nimport { clone } from '@shell/utils/object';\nimport { SECRET } from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../../types';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport { OS } from './index';\n\nexport const QGA_JSON = {\n  package_update: true,\n  packages:       ['qemu-guest-agent'],\n  runcmd:         [\n    [\n      'systemctl',\n      'enable',\n      '--now',\n      'qemu-guest-agent.service'\n    ]\n  ]\n};\n\nexport const QGA_MAP = { default: 'qemu-guest-agent.service' };\n\nexport const USB_TABLET = [{\n  bus:  'usb',\n  name: 'tablet',\n  type: 'tablet'\n}];\n\nexport const SSH_EXISTING_TYPE = {\n  EXISTING_ALL:             'EXISTING_ALL',\n  EXISTING_ONLY_ANNOTATION: 'EXISTING_ANNOTATION',\n  EXISTING_ONLY_CLOUD:      'EXISTING_CLOUD',\n};\n\nexport default {\n  methods: {\n    hasCloudConfigComment(userScript) {\n      // Check that userData contains: #cloud-config\n      const userDataDoc = userScript ? YAML.parseDocument(userScript) : YAML.parseDocument({});\n      const items = userDataDoc?.contents?.items || [];\n\n      let exist = false;\n\n      if (userDataDoc?.comment === 'cloud-config' || userDataDoc?.comment?.includes('cloud-config\\n')) {\n        exist = true;\n      }\n\n      if (userDataDoc?.commentBefore === 'cloud-config' || userDataDoc?.commentBefore?.includes('cloud-config\\n')) {\n        exist = true;\n      }\n\n      items.map((item) => {\n        const key = item.key;\n\n        if (key?.commentBefore === 'cloud-config' || key?.commentBefore?.includes('cloud-config\\n')) {\n          exist = true;\n        }\n      });\n\n      return exist;\n    },\n\n    getSSHValue(id) {\n      // const inStore = this.$store.getters['currentProduct'].inStore;\n      const sshs = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.SSH) || [];\n\n      return sshs.find( (O) => O.id === id)?.spec?.publicKey || undefined;\n    },\n\n    getOsType(vm) {\n      return vm.metadata?.labels?.[HCI_ANNOTATIONS.OS];\n    },\n\n    getMatchQGA(osType) {\n      const _QGA_JSON = clone(QGA_JSON);\n      let hasCustomQGA = false;\n\n      OS.forEach((O) => {\n        if (O.match) {\n          hasCustomQGA = O.match.find((type) => type === osType);\n        }\n      });\n\n      if (hasCustomQGA) {\n        _QGA_JSON.runcmd[0][3] = QGA_MAP[osType];\n      } else {\n        _QGA_JSON.runcmd[0][3] = QGA_MAP['default'];\n      }\n\n      return _QGA_JSON;\n    },\n\n    getSimilarRuncmd(osType) {\n      const _QGA_JSON = clone(QGA_JSON);\n\n      if (osType === 'openSUSE') {\n        _QGA_JSON.runcmd[0][3] = QGA_MAP['default'];\n      } else {\n        _QGA_JSON.runcmd[0][3] = QGA_MAP['suse'];\n      }\n\n      return _QGA_JSON.runcmd[0];\n    },\n\n    hasInstallAgent(userScript, osType, oldValue) {\n      let dataFormat = {};\n      const _QGA_JSON = this.getMatchQGA(osType);\n\n      try {\n        dataFormat = jsyaml.load(userScript) || {};\n      } catch (e) {\n        new Error('Function(hasInstallAgent) error');\n\n        return oldValue;\n      }\n\n      return dataFormat?.packages?.includes('qemu-guest-agent') && !!dataFormat?.runcmd?.find( (S) => Array.isArray(S) && S.join('-') === _QGA_JSON.runcmd[0].join('-'));\n    },\n\n    isInstallUSBTablet(spec) {\n      const inputs = spec?.template?.spec?.domain?.devices?.inputs;\n\n      if (Array.isArray(inputs)) {\n        return !!inputs.find((O) => {\n          return isEqual(O, USB_TABLET[0]);\n        });\n      } else {\n        return false;\n      }\n    },\n\n    isEfiEnabled(spec) {\n      return !!(spec?.template?.spec?.domain?.features?.smm && spec?.template?.spec?.domain?.firmware?.bootloader?.efi);\n    },\n\n    isSecureBoot(spec) {\n      return !!spec?.template?.spec?.domain?.firmware?.bootloader?.efi?.secureBoot;\n    },\n\n    getCloudInitNoCloud(spec) {\n      const secret = this.getSecret(spec);\n      let userData = secret?.decodedData?.userdata;\n      let networkData = secret?.decodedData?.networkdata;\n\n      const cloudInitNoCloud = spec?.template?.spec?.volumes?.find( (V) => {\n        return V.name === 'cloudinitdisk';\n      })?.cloudInitNoCloud || {};\n\n      // If the value is not found inside the secret, the data may be written directly in the yaml\n      if (cloudInitNoCloud?.userData) {\n        userData = cloudInitNoCloud.userData;\n        this.saveUserDataAsClearText = true;\n      }\n\n      if (cloudInitNoCloud?.networkData) {\n        networkData = cloudInitNoCloud.networkData;\n        this.saveNetworkDataAsClearText = true;\n      }\n\n      return { userData, networkData };\n    },\n\n    getSecret(spec) {\n      const cloudInitNoCloud = spec?.template?.spec?.volumes?.find( (V) => {\n        return V.name === 'cloudinitdisk';\n      })?.cloudInitNoCloud || {};\n      // const inStore = this.$store.getters['currentProduct'].inStore;\n      const secrets = this.$store.getters[`${ PRODUCT_NAME }/all`](SECRET) || [];\n\n      const secretName = cloudInitNoCloud?.secretRef?.name || cloudInitNoCloud?.networkDataSecretRef?.name;\n\n      const secret = secrets.find((s) => s.metadata.name === secretName);\n\n      return secret;\n    },\n\n    getAccessCredentials(spec) {\n      // const inStore = this.$store.getters['currentProduct'].inStore;\n      const secrets = this.$store.getters[`${ PRODUCT_NAME }/all`](SECRET) || [];\n      const credentials = spec?.template?.spec?.accessCredentials || [];\n      const annotations = JSON.parse(spec.template.metadata?.annotations?.[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_NAMES] || '[]');\n\n      return credentials.map((c) => {\n        const source = !!c.userPassword ? 'userPassword' : 'sshPublicKey';\n        const secretName = c[source]?.source?.secret?.secretName;\n        const secretRef = secrets.find((s) => s.metadata.name === secretName);\n        const out = {\n          source, username: '', newPassword: '', users: [], sshkeys: [], secretName, secretRef\n        };\n\n        if (!secretRef) {\n          out.secretRef = undefined;\n        } else if (source === 'userPassword') {\n          const username = Object.keys(secretRef?.data)[0];\n          const newPassword = secretRef.decodedData[username];\n\n          out.username = username;\n          out.newPassword = newPassword;\n        } else {\n          const users = c[source].propagationMethod.qemuGuestAgent.users;\n          const sshkeys = annotations?.[secretName];\n\n          out.users = users;\n          out.sshkeys = sshkeys;\n        }\n\n        return out;\n      });\n    },\n\n    getVolumeClaimTemplates(vm) {\n      let out = [];\n\n      try {\n        out = JSON.parse(vm.metadata.annotations[HCI_ANNOTATIONS.VOLUME_CLAIM_TEMPLATE]);\n      } catch (e) {\n        new Error(`Function: getVolumeClaimTemplates, ${ e }`);\n      }\n\n      return out;\n    },\n\n    getRootImageId(vm) {\n      const volume = this.getVolumeClaimTemplates(vm);\n\n      return volume[0]?.metadata?.annotations?.[HCI_ANNOTATIONS.IMAGE_ID] || '';\n    },\n\n    getSSHFromAnnotation(spec) {\n      const ids = spec?.template?.metadata?.annotations?.[HCI_ANNOTATIONS.SSH_NAMES] || '[]';\n\n      return JSON.parse(ids);\n    },\n\n    convertToJson(script = '') {\n      let out = {};\n\n      try {\n        out = jsyaml.load(script);\n      } catch (e) {\n        new Error('Function(convertToJson) error');\n      }\n\n      return out;\n    },\n\n    getSSHFromUserData(userData) {\n      return this.convertToJson(userData)?.ssh_authorized_keys || [];\n    },\n\n    compareSSHValue(a = '', b = '') {\n      const r = /(\\r\\n\\t|\\n|\\r\\t)|(\\s*)/gm;\n\n      return a.replace(r, '') === b.replace(r, '');\n    },\n\n    mergeAllSSHs(spec) {\n      const keys = this.getSSHFromAnnotation(spec);\n      const { userScript: userData } = this.getCloudInitNoCloud(spec);\n\n      if (!keys?.length < 0 && !userData) {\n        return [];\n      }\n\n      let out = [];\n\n      // const inStore = this.$store.getters['currentProduct'].inStore;\n      const allSSHs = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.SSH) || [];\n\n      out = (keys || []).map((id) => {\n        const hasSSHResource = allSSHs.find((ssh) => ssh.id === id);\n\n        if (hasSSHResource) {\n          return {\n            id:   hasSSHResource.id,\n            data: hasSSHResource,\n            type: SSH_EXISTING_TYPE.EXISTING_ALL\n          };\n        } else {\n          return {\n            id,\n            data: id,\n            type: SSH_EXISTING_TYPE.EXISTING_ONLY_ANNOTATION\n          };\n        }\n      });\n\n      const _userDataSSH = this.getSSHFromUserData(userData);\n\n      _userDataSSH.map( (sshValue) => {\n        const hasSSHResource = allSSHs.find((ssh) => this.compareSSHValue(sshValue, ssh.spec?.publicKey));\n\n        if (hasSSHResource && !out.find((O) => O.id === hasSSHResource.id)) {\n          out.push({\n            id:   hasSSHResource.id,\n            data: hasSSHResource,\n            type: SSH_EXISTING_TYPE.EXISTING_ALL\n          });\n        } else if (!hasSSHResource) {\n          out.push({\n            id:   'Unknown',\n            data: sshValue,\n            type: SSH_EXISTING_TYPE.EXISTING_ONLY_CLOUD\n          });\n        }\n      });\n\n      return out;\n    },\n  },\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTemplate.vue?vue&type=style&index=0&id=7d491695&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"04e79bfe\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0f12bd93&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7f1ec834\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6a2ca441&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hec-name\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.name'),\"value\":_vm.value.name,\"mode\":_vm.mode}},[_c('LabeledInput',{attrs:{\"label\":_vm.t('harvester.fields.name'),\"required\":\"\",\"mode\":_vm.mode},on:{\"input\":_vm.update},model:{value:(_vm.value.name),callback:function ($$v) {_vm.$set(_vm.value, \"name\", $$v)},expression:\"value.name\"}})],1)],1),_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hec-type\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.type'),\"value\":_vm.value.type,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.fields.type'),\"options\":_vm.VOLUME_TYPE,\"mode\":_vm.mode,\"required\":\"\"},on:{\"input\":_vm.update},model:{value:(_vm.value.type),callback:function ($$v) {_vm.$set(_vm.value, \"type\", $$v)},expression:\"value.type\"}})],1)],1)]),_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hec-container\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.virtualMachine.volume.dockerImage'),\"value\":_vm.value.container,\"mode\":_vm.mode}},[_c('LabeledInput',{attrs:{\"label\":_vm.t('harvester.virtualMachine.volume.dockerImage'),\"mode\":_vm.mode,\"required\":\"\"},on:{\"input\":_vm.update},model:{value:(_vm.value.container),callback:function ($$v) {_vm.$set(_vm.value, \"container\", $$v)},expression:\"value.container\"}})],1)],1),_c('div',{staticClass:\"col span-3\",attrs:{\"data-testid\":\"input-hec-bus\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.virtualMachine.volume.bus'),\"value\":_vm.value.bus,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.virtualMachine.volume.bus'),\"options\":_vm.InterfaceOption,\"mode\":_vm.mode},on:{\"input\":_vm.update},model:{value:(_vm.value.bus),callback:function ($$v) {_vm.$set(_vm.value, \"bus\", $$v)},expression:\"value.bus\"}})],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport InputOrDisplay from '@shell/components/InputOrDisplay';\nimport { VOLUME_TYPE, InterfaceOption } from '../../../../config/harvester-map';\n\nexport default {\n  name:       'HarvesterEditContainer',\n  components: {\n    LabeledInput, LabeledSelect, InputOrDisplay\n  },\n\n  props: {\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    },\n  },\n\n  data() {\n    return {\n      VOLUME_TYPE,\n      InterfaceOption\n    };\n  },\n\n  watch: {\n    'value.type'(neu) {\n      if (neu === 'cd-rom') {\n        this.$set(this.value, 'bus', 'sata');\n        this.update();\n      }\n    },\n  },\n\n  methods: {\n    update() {\n      this.$emit('update');\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hec-name\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.name')\"\n          :value=\"value.name\"\n          :mode=\"mode\"\n        >\n          <LabeledInput\n            v-model=\"value.name\"\n            :label=\"t('harvester.fields.name')\"\n            required\n            :mode=\"mode\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <div\n        data-testid=\"input-hec-type\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.type')\"\n          :value=\"value.type\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.type\"\n            :label=\"t('harvester.fields.type')\"\n            :options=\"VOLUME_TYPE\"\n            :mode=\"mode\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hec-container\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.virtualMachine.volume.dockerImage')\"\n          :value=\"value.container\"\n          :mode=\"mode\"\n        >\n          <LabeledInput\n            v-model=\"value.container\"\n            :label=\"t('harvester.virtualMachine.volume.dockerImage')\"\n            :mode=\"mode\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <div\n        data-testid=\"input-hec-bus\"\n        class=\"col span-3\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.virtualMachine.volume.bus')\"\n          :value=\"value.bus\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.bus\"\n            :label=\"t('harvester.virtualMachine.volume.bus')\"\n            :options=\"InterfaceOption\"\n            :mode=\"mode\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./container.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./container.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./container.vue?vue&type=template&id=5c121094\"\nimport script from \"./container.vue?vue&type=script&lang=js\"\nexport * from \"./container.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.isView)?_c('h2',[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.cloudConfig.title'))+\" \")]):_vm._e(),_c('div',{staticClass:\"mb-20\"},[_c('DataTemplate',{ref:\"userTemplate\",attrs:{\"type\":\"user\",\"view-code\":_vm.viewCode,\"mode\":_vm.mode,\"config-id\":_vm.configUserId,\"options\":_vm.optionUser},on:{\"show\":_vm.show,\"update\":_vm.update,\"updateTemplateId\":_vm.updateTemplateId},model:{value:(_vm.userScript),callback:function ($$v) {_vm.userScript=$$v},expression:\"userScript\"}})],1),_c('div',{staticClass:\"mb-20\"},[_c('DataTemplate',{ref:\"networkTemplate\",attrs:{\"type\":\"network\",\"view-code\":_vm.viewCode,\"mode\":_vm.mode,\"config-id\":_vm.configNetworkId,\"options\":_vm.optionNetwork},on:{\"show\":_vm.show,\"update\":_vm.update},model:{value:(_vm.networkScript),callback:function ($$v) {_vm.networkScript=$$v},expression:\"networkScript\"}})],1),_c('ModalWithCard',{ref:\"createCloudTemplate\",attrs:{\"name\":\"createCloudTemplate\",\"width\":\"40%\",\"errors\":_vm.errors},on:{\"finish\":_vm.save,\"close\":_vm.cancel},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.cloudConfig.createTemplateTitle', { name: _vm.createTypeLable }))+\" \")]},proxy:true},{key:\"content\",fn:function(){return [_c('LabeledInput',{staticClass:\"mb-20\",attrs:{\"label\":_vm.t('harvester.virtualMachine.input.name'),\"required\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.preventDefault();return (()=>{}).apply(null, arguments)}},model:{value:(_vm.cloudTemplateName),callback:function ($$v) {_vm.cloudTemplateName=$$v},expression:\"cloudTemplateName\"}}),_c('div',{staticClass:\"yaml\"},[_c('div',{staticClass:\"resource-yaml\"},[_c('YamlEditor',{ref:\"createTemplate\",staticClass:\"yaml-editor\",attrs:{\"editor-mode\":_vm.editorMode},model:{value:(_vm.cloudTemplate),callback:function ($$v) {_vm.cloudTemplate=$$v},expression:\"cloudTemplate\"}})],1)])]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mb-20\"},[_c('h3',[_vm._v(_vm._s(_vm.t(`harvester.virtualMachine.cloudConfig.${_vm.type}.title`)))]),_c('p',{staticClass:\"text-muted mb-20\"},[_c('t',{attrs:{\"k\":`harvester.virtualMachine.cloudConfig.${_vm.type}.tip`,\"raw\":true}})],1),(!_vm.isView)?_c('LabeledSelect',{staticClass:\"mb-20\",attrs:{\"options\":_vm.options,\"disabled\":_vm.viewCode,\"label-key\":`harvester.virtualMachine.cloudConfig.${_vm.type}.label`},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}}):_vm._e(),_c('div',{staticClass:\"resource-yaml\"},[_c('YamlEditor',{ref:\"yaml\",staticClass:\"yaml-editor\",attrs:{\"editor-mode\":_vm.editorMode},model:{value:(_vm.yamlScript),callback:function ($$v) {_vm.yamlScript=$$v},expression:\"yamlScript\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport { _VIEW } from '@shell/config/query-params';\nimport { CONFIG_MAP } from '@shell/config/types';\n\nimport { PRODUCT_NAME } from '../../../types';\n\nconst _NEW = '_NEW';\nconst _NONE = '_NONE';\n\nexport default {\n  components: { YamlEditor, LabeledSelect },\n\n  props: {\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n    value: {\n      type:    String,\n      default: ''\n    },\n    type: {\n      type:    String,\n      default: ''\n    },\n    options: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n    configId: {\n      type:    String,\n      default: ''\n    },\n    viewCode: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      id:         '',\n      yamlScript: this.value,\n    };\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    editorMode() {\n      return this.isView || this.viewCode ? EDITOR_MODES.VIEW_CODE : EDITOR_MODES.EDIT_CODE;\n    },\n\n    isView() {\n      return this.mode === _VIEW;\n    },\n  },\n\n  watch: {\n    value(neu) {\n      this.yamlScript = neu;\n    },\n\n    configId(neu) {\n      this.id = this.configId;\n    },\n\n    id(neu, old) {\n      const cloudInit = this.$store.getters[`${ PRODUCT_NAME }/byId`](CONFIG_MAP, neu)?.data?.cloudInit || '';\n\n      this.$emit('updateTemplateId', this.type, neu);\n      if (!neu) {\n        // should not reset yaml when nothing is selected\n        return;\n      } else if (neu === _NEW) {\n        this.$emit('show', this.type);\n        this.id = old;\n\n        return;\n      } else if (neu === _NONE ) {\n        this.yamlScript = '';\n      } else {\n        this.yamlScript = cloudInit;\n      }\n\n      this.$refs['yaml'].updateValue(cloudInit);\n    },\n\n    yamlScript(neu) {\n      this.$emit('update', neu, this.type);\n    }\n  },\n\n  methods: {\n    refresh() {\n      this.$refs.yaml.refresh();\n    },\n\n    updateValue() {\n      this.$refs['yaml'].updateValue(this.value);\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"mb-20\">\n    <h3>{{ t(`harvester.virtualMachine.cloudConfig.${type}.title`) }}</h3>\n    <p class=\"text-muted mb-20\">\n      <t\n        :k=\"`harvester.virtualMachine.cloudConfig.${type}.tip`\"\n        :raw=\"true\"\n      />\n    </p>\n\n    <LabeledSelect\n      v-if=\"!isView\"\n      v-model=\"id\"\n      class=\"mb-20\"\n      :options=\"options\"\n      :disabled=\"viewCode\"\n      :label-key=\"`harvester.virtualMachine.cloudConfig.${type}.label`\"\n    />\n\n    <div class=\"resource-yaml\">\n      <YamlEditor\n        ref=\"yaml\"\n        v-model=\"yamlScript\"\n        class=\"yaml-editor\"\n        :editor-mode=\"editorMode\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$yaml-height: 200px;\n\n::v-deep .resource-yaml {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n\n  & .yaml-editor{\n    flex: 1;\n    min-height: $yaml-height;\n\n    & .code-mirror .CodeMirror {\n      min-height: $yaml-height;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTemplate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTemplate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DataTemplate.vue?vue&type=template&id=7d491695&scoped=true\"\nimport script from \"./DataTemplate.vue?vue&type=script&lang=js\"\nexport * from \"./DataTemplate.vue?vue&type=script&lang=js\"\nimport style0 from \"./DataTemplate.vue?vue&type=style&index=0&id=7d491695&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d491695\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapGetters } from 'vuex';\n\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\nimport ModalWithCard from '@shell/components/ModalWithCard';\n\nimport { CONFIG_MAP } from '@shell/config/types';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport { _VIEW } from '@shell/config/query-params';\nimport DataTemplate from './DataTemplate';\n\nimport { PRODUCT_NAME } from '../../../types';\n\nconst _NEW = '_NEW';\nconst _NONE = '_NONE';\n\nexport default {\n  components: {\n    DataTemplate, YamlEditor, LabeledInput, ModalWithCard\n  },\n\n  props: {\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n    namespace: {\n      type:    String,\n      default: ''\n    },\n    userScript: {\n      type:    String,\n      default: ''\n    },\n    networkScript: {\n      type:    String,\n      default: ''\n    },\n    viewCode: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      errors:            [],\n      templateType:      '',\n      cloudTemplate:     '',\n      cloudTemplateName: '',\n      configUserId:      '',\n      configNetworkId:   '',\n      optionUser:        [],\n      optionNetwork:     []\n    };\n  },\n\n  async fetch() {\n    const configs = await this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: CONFIG_MAP });\n\n    const optionUser = [];\n    const optionNetwork = [];\n\n    for (const config of configs) {\n      if (config.metadata?.labels?.[HCI_ANNOTATIONS.CLOUD_INIT] === 'user') {\n        optionUser.push({\n          label: config?.id,\n          value: config?.id\n        });\n      }\n\n      if (config.metadata?.labels?.[HCI_ANNOTATIONS.CLOUD_INIT] === 'network') {\n        optionNetwork.push({\n          label: config?.id,\n          value: config?.id\n        });\n      }\n    }\n\n    optionUser.unshift({\n      label: this.t('harvester.virtualMachine.cloudConfig.createNew'),\n      value: _NEW,\n    });\n\n    optionUser.unshift({\n      label: this.t('harvester.virtualMachine.cloudConfig.cloudInit.placeholder'),\n      value: _NONE,\n    });\n\n    optionNetwork.unshift({\n      label: this.t('harvester.virtualMachine.cloudConfig.createNew'),\n      value: _NEW,\n    });\n\n    optionNetwork.unshift({\n      label: this.t('harvester.virtualMachine.cloudConfig.cloudInit.placeholder'),\n      value: _NONE,\n    });\n\n    this.optionUser = optionUser;\n    this.optionNetwork = optionNetwork;\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    createTypeLable() {\n      const label = `harvester.virtualMachine.cloudConfig.${ this.templateType }.label`;\n\n      return this.t(label);\n    },\n\n    editorMode() {\n      return this.isView ? EDITOR_MODES.VIEW_CODE : EDITOR_MODES.EDIT_CODE;\n    },\n\n    isView() {\n      return this.mode === _VIEW;\n    },\n  },\n\n  methods: {\n    updateValue() {\n      this.$refs['userTemplate'].updateValue();\n      this.$refs['networkTemplate'].updateValue();\n    },\n\n    update(value, type) {\n      if (type === 'user') {\n        this.$emit('updateUserData', value);\n      }\n      if (type === 'network') {\n        this.$emit('updateNetworkData', value);\n      }\n    },\n\n    updateTemplateId(type, id) {\n      this.$emit('updateDataTemplateId', type, id);\n    },\n\n    show(templateType) {\n      this.templateType = templateType;\n      this.$modal.show('createCloudTemplate');\n    },\n\n    async save(buttonCb) {\n      this.errors = [];\n\n      if (!this.cloudTemplateName) {\n        this.errors.push(this.t('validation.required', { key: this.t('harvester.virtualMachine.input.name') }, true));\n        buttonCb(false);\n\n        return;\n      }\n\n      if (!this.cloudTemplate) {\n        const keyLabel = this.templateType === 'user' ? 'harvester.cloudTemplate.userData' : 'harvester.cloudTemplate.networkData';\n\n        this.errors.push(this.t('validation.required', { key: this.t(keyLabel) }, true));\n        buttonCb(false);\n\n        return;\n      }\n\n      const templateValue = await this.$store.dispatch(`${ PRODUCT_NAME }/create`, {\n        type:     CONFIG_MAP,\n        metadata: {\n          labels:    { [HCI_ANNOTATIONS.CLOUD_INIT]: this.templateType },\n          name:      this.cloudTemplateName,\n          namespace: this.namespace\n        },\n        data: { cloudInit: this.cloudTemplate },\n      });\n\n      try {\n        const res = await templateValue.save();\n\n        if (res.id) {\n          this.templateType === 'user' ? this.configUserId = res.id : this.configNetworkId = res.id;\n          this.$fetch();\n        }\n        buttonCb(true);\n        this.cancel();\n      } catch (err) {\n        this.errors = [err.message];\n        buttonCb(false);\n      }\n    },\n\n    cancel() {\n      this.cloudTemplate = '';\n      this.cloudTemplateName = '';\n      this.$set(this, 'errors', []);\n      this.$modal.hide('createCloudTemplate');\n    },\n\n    refresh() {\n      this.$refs['userTemplate'].refresh();\n      this.$refs['networkTemplate'].refresh();\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <h2 v-if=\"!isView\">\n      {{ t('harvester.virtualMachine.cloudConfig.title') }}\n    </h2>\n\n    <div class=\"mb-20\">\n      <DataTemplate\n        ref=\"userTemplate\"\n        v-model=\"userScript\"\n        type=\"user\"\n        :view-code=\"viewCode\"\n        :mode=\"mode\"\n        :config-id=\"configUserId\"\n        :options=\"optionUser\"\n        @show=\"show\"\n        @update=\"update\"\n        @updateTemplateId=\"updateTemplateId\"\n      />\n    </div>\n\n    <div class=\"mb-20\">\n      <DataTemplate\n        ref=\"networkTemplate\"\n        v-model=\"networkScript\"\n        type=\"network\"\n        :view-code=\"viewCode\"\n        :mode=\"mode\"\n        :config-id=\"configNetworkId\"\n        :options=\"optionNetwork\"\n        @show=\"show\"\n        @update=\"update\"\n      />\n    </div>\n\n    <ModalWithCard\n      ref=\"createCloudTemplate\"\n      name=\"createCloudTemplate\"\n      width=\"40%\"\n      :errors=\"errors\"\n      @finish=\"save\"\n      @close=\"cancel\"\n    >\n      <template #title>\n        {{ t('harvester.virtualMachine.cloudConfig.createTemplateTitle', { name: createTypeLable }) }}\n      </template>\n\n      <template #content>\n        <LabeledInput\n          v-model=\"cloudTemplateName\"\n          :label=\"t('harvester.virtualMachine.input.name')\"\n          class=\"mb-20\"\n          required\n          @keydown.native.enter.prevent=\"()=>{}\"\n        />\n\n        <div class=\"yaml\">\n          <div class=\"resource-yaml\">\n            <YamlEditor\n              ref=\"createTemplate\"\n              v-model=\"cloudTemplate\"\n              class=\"yaml-editor\"\n              :editor-mode=\"editorMode\"\n            />\n          </div>\n        </div>\n      </template>\n    </ModalWithCard>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$yaml-height: 350px;\n\n.yaml {\n  height: $yaml-height;\n  overflow: auto;\n}\n\n::v-deep .resource-yaml {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n\n  & .yaml-editor{\n    flex: 1;\n    min-height: $yaml-height;\n\n    & .code-mirror .CodeMirror {\n      min-height: $yaml-height;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6a2ca441&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6a2ca441&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a2ca441\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AccessCredentialsUsers.vue?vue&type=style&index=0&id=7eba9340&prod&lang=scss\"","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.virtualmachineimage.vue?vue&type=style&index=0&id=703b18f1&prod&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=79036326&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3088e7b3\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal',{staticClass:\"restart-modal\",attrs:{\"name\":\"restartDialog\",\"width\":600,\"height\":\"auto\",\"click-to-close\":false},on:{\"closed\":_vm.close}},[_c('Card',{staticClass:\"prompt-restart\",attrs:{\"show-highlight-border\":false}},[_c('h4',{staticClass:\"text-default-text\",attrs:{\"slot\":\"title\"},domProps:{\"innerHTML\":_vm._s(_vm.t('harvester.modal.restart.title'))},slot:\"title\"}),_c('template',{slot:\"body\"},[_vm._t(\"body\",function(){return [_c('div',{staticClass:\"pl-10 pr-10\",domProps:{\"innerHTML\":_vm._s(_vm.t('harvester.modal.restart.tip'))}})]})],2),_c('div',{staticClass:\"bottom\",attrs:{\"slot\":\"actions\"},slot:\"actions\"},[_vm._l((_vm.errors),function(err,i){return _c('Banner',{key:i,attrs:{\"color\":\"error\",\"label\":err}})}),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"btn role-secondary mr-10\",on:{\"click\":_vm.close}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.modal.restart.cancel'))+\" \")]),_c('AsyncButton',{attrs:{\"mode\":\"restart\"},on:{\"click\":_vm.apply}})],1)],2)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Card } from '@components/Card';\nimport { Banner } from '@components/Banner';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nexport default {\n  components: {\n    Card,\n    AsyncButton,\n    Banner,\n  },\n  props: {\n    vm: {\n      type:     Object,\n      required: true\n    },\n  },\n  data() {\n    return { errors: [], resolve: null };\n  },\n  computed: { ...mapGetters({ t: 'i18n/t' }) },\n  methods:  {\n    close() {\n      this.resolve();\n      this.$emit('close');\n    },\n    apply(buttonDone) {\n      try {\n        this.vm.doActionGrowl('restart', {});\n        buttonDone(true);\n        this.resolve();\n        this.close();\n      } catch (err) {\n        console.error(err); // eslint-disable-line\n        this.errors = exceptionToErrorsArray(err);\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <modal\n    class=\"restart-modal\"\n    name=\"restartDialog\"\n    :width=\"600\"\n    height=\"auto\"\n    :click-to-close=\"false\"\n    @closed=\"close\"\n  >\n    <Card\n      class=\"prompt-restart\"\n      :show-highlight-border=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text\"\n        v-html=\"t('harvester.modal.restart.title')\"\n      />\n\n      <template slot=\"body\">\n        <slot name=\"body\">\n          <div\n            class=\"pl-10 pr-10\"\n            v-html=\"t('harvester.modal.restart.tip')\"\n          />\n        </slot>\n      </template>\n\n      <div\n        slot=\"actions\"\n        class=\"bottom\"\n      >\n        <Banner\n          v-for=\"(err, i) in errors\"\n          :key=\"i\"\n          color=\"error\"\n          :label=\"err\"\n        />\n        <div class=\"buttons\">\n          <button\n            class=\"btn role-secondary mr-10\"\n            @click=\"close\"\n          >\n            {{ t('harvester.modal.restart.cancel') }}\n          </button>\n\n          <AsyncButton\n            mode=\"restart\"\n            @click=\"apply\"\n          />\n        </div>\n      </div>\n    </Card>\n  </modal>\n</template>\n<style lang='scss' scoped>\n  .restart-modal {\n    z-index: 45;\n  }\n  .prompt-restart {\n    margin: 0;\n  }\n  .bottom {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    .banner {\n      margin-top: 0\n    }\n    .buttons {\n      display: flex;\n      justify-content: flex-end;\n      width: 100%;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RestartVMDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RestartVMDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RestartVMDialog.vue?vue&type=template&id=c430a37c&scoped=true\"\nimport script from \"./RestartVMDialog.vue?vue&type=script&lang=js\"\nexport * from \"./RestartVMDialog.vue?vue&type=script&lang=js\"\nimport style0 from \"./RestartVMDialog.vue?vue&type=style&index=0&id=c430a37c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c430a37c\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualMachineSSHKey.vue?vue&type=style&index=0&id=e1902d82&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6e8b7c3a\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".box[data-v-0f12bd93]{position:relative}.title[data-v-0f12bd93]{display:flex}.title .state[data-v-0f12bd93]{font-size:16px}.remove[data-v-0f12bd93]{position:absolute;top:10px;right:10px;padding:0}.bootOrder[data-v-0f12bd93]{display:flex;align-items:center}.buttons[data-v-0f12bd93]{width:100%;display:flex;justify-content:flex-end}.volume-status[data-v-0f12bd93]:first-letter{text-transform:uppercase}.resource-external[data-v-0f12bd93]{display:flex;justify-content:center;align-items:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export const HCI_SETTING = {\n  BACKUP_TARGET:             'backup-target',\n  CONTAINERD_REGISTRY:       'containerd-registry',\n  LOG_LEVEL:                 'log-level',\n  SERVER_VERSION:            'server-version',\n  UI_INDEX:                  'ui-index',\n  UI_PLUGIN_INDEX:           'ui-plugin-index',\n  UPGRADE_CHECKER_ENABLED:   'upgrade-checker-enabled',\n  UPGRADE_CHECKER_URL:       'upgrade-checker-url',\n  VLAN:                      'vlan',\n  UI_SOURCE:                 'ui-source',\n  HTTP_PROXY:                'http-proxy',\n  ADDITIONAL_CA:             'additional-ca',\n  OVERCOMMIT_CONFIG:         'overcommit-config',\n  CLUSTER_REGISTRATION_URL:  'cluster-registration-url',\n  DEFAULT_STORAGE_CLASS:     'default-storage-class',\n  VIP:                       'vip-pools',\n  SUPPORT_BUNDLE_TIMEOUT:    'support-bundle-timeout',\n  SUPPORT_BUNDLE_IMAGE:      'support-bundle-image',\n  STORAGE_NETWORK:           'storage-network',\n  VM_FORCE_RESET_POLICY:     'vm-force-reset-policy',\n  SSL_CERTIFICATES:          'ssl-certificates',\n  SSL_PARAMETERS:            'ssl-parameters',\n  SUPPORT_BUNDLE_NAMESPACES: 'support-bundle-namespaces',\n  AUTO_DISK_PROVISION_PATHS: 'auto-disk-provision-paths',\n  RELEASE_DOWNLOAD_URL:      'release-download-url',\n  CCM_CSI_VERSION:           'harvester-csi-ccm-versions',\n};\n\nexport const HCI_ALLOWED_SETTINGS = {\n  [HCI_SETTING.BACKUP_TARGET]: {\n    kind: 'json', from: 'import', canReset: true\n  },\n  [HCI_SETTING.LOG_LEVEL]: {\n    kind:    'enum',\n    options: ['info', 'debug', 'trace']\n  },\n  [HCI_SETTING.VLAN]: {\n    kind: 'custom', from: 'import', alias: 'vlan'\n  },\n  [HCI_SETTING.SERVER_VERSION]:          { readOnly: true },\n  [HCI_SETTING.UPGRADE_CHECKER_ENABLED]: { kind: 'boolean' },\n  [HCI_SETTING.UPGRADE_CHECKER_URL]:     { kind: 'url' },\n  [HCI_SETTING.HTTP_PROXY]:              { kind: 'json', from: 'import' },\n  [HCI_SETTING.ADDITIONAL_CA]:           {\n    kind: 'multiline', canReset: true, from: 'import'\n  },\n  [HCI_SETTING.OVERCOMMIT_CONFIG]:      { kind: 'json', from: 'import' },\n  [HCI_SETTING.SUPPORT_BUNDLE_TIMEOUT]: {},\n  [HCI_SETTING.SUPPORT_BUNDLE_IMAGE]:   { kind: 'json', from: 'import' },\n  [HCI_SETTING.STORAGE_NETWORK]:        { kind: 'custom', from: 'import' },\n  [HCI_SETTING.VM_FORCE_RESET_POLICY]:  { kind: 'json', from: 'import' },\n  [HCI_SETTING.SSL_CERTIFICATES]:       { kind: 'json', from: 'import' },\n  [HCI_SETTING.VIP]:                    {\n    kind: 'json', from: 'import', canReset: true\n  },\n  [HCI_SETTING.SSL_PARAMETERS]: {\n    kind: 'json', from: 'import', canReset: true\n  },\n  [HCI_SETTING.SUPPORT_BUNDLE_NAMESPACES]: { from: 'import', canReset: true },\n  [HCI_SETTING.AUTO_DISK_PROVISION_PATHS]: { canReset: true },\n  [HCI_SETTING.RELEASE_DOWNLOAD_URL]:      { kind: 'url' },\n  [HCI_SETTING.UI_PLUGIN_INDEX]:           { kind: 'url' },\n  [HCI_SETTING.CONTAINERD_REGISTRY]:       {\n    kind: 'json', from: 'import', canReset: true\n  },\n  [HCI_SETTING.UI_SOURCE]: {\n    kind:    'enum',\n    options: ['auto', 'external', 'bundled']\n  },\n  [HCI_SETTING.UI_INDEX]: { kind: 'url' },\n};\n\nexport const HCI_SINGLE_CLUSTER_ALLOWED_SETTING = { [HCI_SETTING.CLUSTER_REGISTRATION_URL]: { kind: 'url' } };\n","import YAML from 'yaml';\nimport jsyaml from 'js-yaml';\nimport isEqual from 'lodash/isEqual';\nimport isEmpty from 'lodash/isEmpty';\nimport difference from 'lodash/difference';\n\nimport { sortBy } from '@shell/utils/sort';\nimport { set } from '@shell/utils/object';\n\nimport { allHash } from '@shell/utils/promise';\nimport { randomStr } from '@shell/utils/string';\nimport { base64Decode } from '@shell/utils/crypto';\nimport { formatSi, parseSi } from '@shell/utils/units';\nimport { SOURCE_TYPE, ACCESS_CREDENTIALS } from '../../config/harvester-map';\nimport { _CLONE, _CREATE, _VIEW } from '@shell/config/query-params';\nimport {\n  PV, PVC, STORAGE_CLASS, NODE, SECRET, CONFIG_MAP, NETWORK_ATTACHMENT\n} from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../../types';\nimport { HCI_SETTING } from '../../config/settings';\nimport { HOSTNAME } from '@shell/config/labels-annotations';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport impl, { QGA_JSON, USB_TABLET } from './impl';\n\nexport const MANAGEMENT_NETWORK = 'management Network';\n\nexport const OS = [{\n  label: 'Windows',\n  value: 'windows'\n}, {\n  label: 'Linux',\n  value: 'linux'\n}, {\n  label: 'SUSE Linux Enterprise',\n  value: 'SLEs'\n}, {\n  label: 'Debian',\n  value: 'debian'\n}, {\n  label: 'Fedora',\n  value: 'fedora'\n}, {\n  label: 'Gentoo',\n  value: 'gentoo'\n}, {\n  label: 'Oracle',\n  value: 'oracle'\n}, {\n  label: 'Red Hat',\n  value: 'redhat'\n}, {\n  label: 'openSUSE',\n  value: 'openSUSE',\n}, {\n  label: 'Ubuntu',\n  value: 'ubuntu'\n}, {\n  label: 'Other Linux',\n  match: ['centos'],\n  value: 'otherLinux'\n}];\n\nexport const CD_ROM = 'cd-rom';\nexport const HARD_DISK = 'disk';\n\nexport default {\n  mixins: [impl],\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    resource: {\n      type:    String,\n      default: ''\n    }\n  },\n\n  async fetch() {\n    // const inStore = this.$store.getters['currentProduct'].inStore;\n    const hash = {\n      pvs:               this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: PV }),\n      pvcs:              this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: PVC }),\n      storageClasses:    this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: STORAGE_CLASS }),\n      sshs:              this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.SSH }),\n      settings:          this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.SETTING }),\n      images:            this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.IMAGE }),\n      versions:          this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM_VERSION }),\n      templates:         this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM_TEMPLATE }),\n      networkAttachment: this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: NETWORK_ATTACHMENT }),\n      vmis:              this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VMI }),\n      vmims:             this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VMIM }),\n      vms:               this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM }),\n      secrets:           this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: SECRET }),\n      addons:            this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.ADD_ONS }),\n    };\n\n    if (this.$store.getters[`${ PRODUCT_NAME }/schemaFor`](NODE)) {\n      hash.nodes = this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: NODE });\n    }\n\n    if (this.$store.getters[`${ PRODUCT_NAME }/schemaFor`](HCI.CLUSTER_NETWORK)) {\n      hash.clusterNetworks = this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.CLUSTER_NETWORK });\n    }\n\n    const res = await allHash(hash);\n\n    const hasPCISchema = this.$store.getters[`${ PRODUCT_NAME }/schemaFor`](HCI.PCI_DEVICE);\n\n    this.enabledPCI = res.addons.find((addon) => addon.name === 'pcidevices-controller')?.spec?.enabled === true && hasPCISchema;\n  },\n\n  data() {\n    const isClone = this.realMode === _CLONE;\n\n    return {\n      OS,\n      isClone,\n      spec:                       null,\n      osType:                     'linux',\n      sshKey:                     [],\n      runStrategy:                'RerunOnFailure',\n      installAgent:               true,\n      hasCreateVolumes:           [],\n      installUSBTablet:           true,\n      networkScript:              '',\n      userScript:                 '',\n      imageId:                    '',\n      diskRows:                   [],\n      networkRows:                [],\n      machineType:                '',\n      secretName:                 '',\n      secretRef:                  null,\n      showAdvanced:               false,\n      deleteAgent:                true,\n      memory:                     null,\n      cpu:                        '',\n      reservedMemory:             null,\n      accessCredentials:          [],\n      efiEnabled:                 true,\n      secureBoot:                 true,\n      userDataTemplateId:         '',\n      saveUserDataAsClearText:    false,\n      saveNetworkDataAsClearText: false,\n      enabledPCI:                 false,\n      immutableMode:              this.realMode === _CREATE ? _CREATE : _VIEW,\n    };\n  },\n\n  computed: {\n    inStore() {\n      // return this.$store.getters['currentProduct'].inStore;\n      return PRODUCT_NAME;\n    },\n\n    images() {\n      return this.$store.getters[`${ this.inStore }/all`](HCI.IMAGE);\n    },\n\n    versions() {\n      return this.$store.getters[`${ this.inStore }/all`](HCI.VM_VERSION);\n    },\n\n    templates() {\n      return this.$store.getters[`${ this.inStore }/all`](HCI.VM_TEMPLATE);\n    },\n\n    pvcs() {\n      return this.$store.getters[`${ this.inStore }/all`](PVC);\n    },\n\n    secrets() {\n      return this.$store.getters[`${ this.inStore }/all`](SECRET);\n    },\n\n    nodesIdOptions() {\n      const nodes = this.$store.getters[`${ this.inStore }/all`](NODE);\n\n      return nodes.filter((N) => !N.isUnSchedulable).map((node) => {\n        return {\n          label: node.nameDisplay,\n          value: node.id\n        };\n      });\n    },\n\n    defaultStorageClass() {\n      const defaultStorage = this.$store.getters[`${ this.inStore }/all`](STORAGE_CLASS).find( (O) => O.isDefault);\n\n      return defaultStorage?.metadata?.name || 'longhorn';\n    },\n\n    storageClassSetting() {\n      try {\n        const storageClassValue = this.$store.getters[`${ this.inStore }/all`](HCI.SETTING).find( (O) => O.id === HCI_SETTING.DEFAULT_STORAGE_CLASS)?.value;\n\n        return JSON.parse(storageClassValue);\n      } catch (e) {\n        return {};\n      }\n    },\n\n    customVolumeMode() {\n      return this.storageClassSetting.volumeMode || 'Block';\n    },\n\n    customAccessMode() {\n      return this.storageClassSetting.accessModes || 'ReadWriteMany';\n    },\n\n    isWindows() {\n      return this.osType === 'windows';\n    },\n\n    needNewSecret() {\n      // When creating a template it is always necessary to create a new secret.\n      return this.resource === HCI.VM_VERSION || this.isCreate;\n    },\n  },\n\n  async created() {\n    await this.$store.dispatch(`${ this.inStore }/findAll`, { type: SECRET });\n    this.getInitConfig({ value: this.value, init: this.isCreate });\n  },\n\n  methods: {\n    getInitConfig(config) {\n      const {\n        value, existUserData, fromTemplate = false, init = false\n      } = config;\n\n      const vm = this.resource === HCI.VM ? value : this.resource === HCI.BACKUP ? this.value.status?.source : value.spec.vm;\n\n      const spec = vm?.spec;\n\n      if (!spec) {\n        return;\n      }\n      const resources = spec.template.spec.domain.resources;\n\n      // If the user is created via yaml, there may be no \"resources.limits\": kubectl apply -f https://kubevirt.io/labs/manifests/vm.yaml\n      if (!resources?.limits || (resources?.limits && !resources?.limits?.memory && resources?.limits?.memory !== null)) {\n        spec.template.spec.domain.resources = {\n          ...spec.template.spec.domain.resources,\n          limits: {\n            ...spec.template.spec.domain.resources.limits,\n            memory: spec.template.spec.domain.resources.requests.memory\n          }\n        };\n      }\n\n      const runStrategy = spec.runStrategy || 'RerunOnFailure';\n      const machineType = value.machineType;\n      const cpu = spec.template.spec.domain?.cpu?.cores;\n      const memory = spec.template.spec.domain.resources.limits.memory;\n      const reservedMemory = vm.metadata?.annotations?.[HCI_ANNOTATIONS.VM_RESERVED_MEMORY];\n\n      const sshKey = this.getSSHFromAnnotation(spec) || [];\n\n      const imageId = this.getRootImageId(vm) || '';\n      const diskRows = this.getDiskRows(vm);\n      const networkRows = this.getNetworkRows(vm, { fromTemplate, init });\n      const hasCreateVolumes = this.getHasCreatedVolumes(spec) || [];\n\n      let { userData = undefined, networkData = undefined } = this.getCloudInitNoCloud(spec);\n\n      if (this.resource === HCI.BACKUP) {\n        const secretBackups = this.value.status?.secretBackups;\n\n        if (secretBackups) {\n          const secretNetworkData = secretBackups[0]?.data?.networkdata || '';\n          const secretUserData = secretBackups[0]?.data?.userdata || '';\n\n          userData = base64Decode(secretUserData);\n          networkData = base64Decode(secretNetworkData);\n        }\n      }\n      const osType = this.getOsType(vm) || 'linux';\n\n      userData = this.isCreate && !existUserData && !this.isClone ? this.getInitUserData({ osType }) : userData;\n\n      const installUSBTablet = this.isInstallUSBTablet(spec);\n      const installAgent = this.hasInstallAgent(userData, osType, true);\n      const efiEnabled = this.isEfiEnabled(spec);\n      const secureBoot = this.isSecureBoot(spec);\n\n      const secretRef = this.getSecret(spec);\n      const accessCredentials = this.getAccessCredentials(spec);\n\n      if (Object.prototype.hasOwnProperty.call(spec, 'running')) {\n        delete spec.running;\n        spec.runStrategy = 'RerunOnFailure';\n      }\n\n      this.$set(this, 'spec', spec);\n      this.$set(this, 'runStrategy', runStrategy);\n      this.$set(this, 'secretRef', secretRef);\n      this.$set(this, 'accessCredentials', accessCredentials);\n      this.$set(this, 'userScript', userData);\n      this.$set(this, 'networkScript', networkData);\n\n      this.$set(this, 'sshKey', sshKey);\n      this.$set(this, 'osType', osType);\n      this.$set(this, 'installAgent', installAgent);\n\n      this.$set(this, 'cpu', cpu);\n      this.$set(this, 'memory', memory);\n      this.$set(this, 'reservedMemory', reservedMemory);\n      this.$set(this, 'machineType', machineType);\n\n      this.$set(this, 'installUSBTablet', installUSBTablet);\n      this.$set(this, 'efiEnabled', efiEnabled);\n      this.$set(this, 'secureBoot', secureBoot);\n\n      this.$set(this, 'hasCreateVolumes', hasCreateVolumes);\n      this.$set(this, 'networkRows', networkRows);\n      this.$set(this, 'imageId', imageId);\n\n      this.$set(this, 'diskRows', diskRows);\n\n      this.refreshYamlEditor();\n    },\n\n    getDiskRows(vm) {\n      const namespace = vm.metadata.namespace;\n      const _volumes = vm.spec.template.spec.volumes || [];\n      const _disks = vm.spec.template.spec.domain.devices.disks || [];\n      const _volumeClaimTemplates = this.getVolumeClaimTemplates(vm);\n\n      let out = [];\n\n      if (_disks.length === 0) {\n        out.push({\n          id:               randomStr(5),\n          source:           SOURCE_TYPE.IMAGE,\n          name:             'disk-0',\n          accessMode:       'ReadWriteMany',\n          bus:              'virtio',\n          volumeName:       '',\n          size:             '10Gi',\n          type:             HARD_DISK,\n          storageClassName: '',\n          image:            this.imageId,\n          volumeMode:       'Block',\n        });\n      } else {\n        out = _disks.map( (DISK, index) => {\n          const volume = _volumes.find( (V) => V.name === DISK.name );\n\n          let size = '';\n          let image = '';\n          let source = '';\n          let realName = '';\n          let container = '';\n          let volumeName = '';\n          let accessMode = '';\n          let volumeMode = '';\n          let storageClassName = '';\n          let hotpluggable = false;\n          let dataSource = null;\n\n          const type = DISK?.cdrom ? CD_ROM : DISK?.disk ? HARD_DISK : '';\n\n          if (volume?.containerDisk) { // SOURCE_TYPE.CONTAINER\n            source = SOURCE_TYPE.CONTAINER;\n            container = volume.containerDisk.image;\n          }\n\n          if (volume.persistentVolumeClaim && volume.persistentVolumeClaim?.claimName) {\n            volumeName = volume.persistentVolumeClaim.claimName;\n            const DVT = _volumeClaimTemplates.find( (T) => T.metadata.name === volumeName);\n\n            realName = volumeName;\n            // If the DVT can be found, it cannot be an existing volume\n            if (DVT) {\n              // has annotation (HCI_ANNOTATIONS.IMAGE_ID) => SOURCE_TYPE.IMAGE\n              if (DVT.metadata?.annotations?.[HCI_ANNOTATIONS.IMAGE_ID] !== undefined) {\n                image = DVT.metadata?.annotations?.[HCI_ANNOTATIONS.IMAGE_ID];\n                source = SOURCE_TYPE.IMAGE;\n              } else {\n                source = SOURCE_TYPE.NEW;\n              }\n\n              const dataVolumeSpecPVC = DVT?.spec || {};\n\n              volumeMode = dataVolumeSpecPVC?.volumeMode;\n              accessMode = dataVolumeSpecPVC?.accessModes?.[0];\n              size = dataVolumeSpecPVC?.resources?.requests?.storage || '10Gi';\n              storageClassName = dataVolumeSpecPVC?.storageClassName;\n              dataSource = dataVolumeSpecPVC?.dataSource;\n            } else {\n              // SOURCE_TYPE.ATTACH_VOLUME\n              // Compatible with VMS that have been created before, Because they're not saved in the annotation\n              const allPVCs = this.$store.getters[`${ PRODUCT_NAME }/all`](PVC);\n              const pvcResource = allPVCs.find( (O) => O.id === `${ namespace }/${ volume?.persistentVolumeClaim?.claimName }`);\n\n              source = SOURCE_TYPE.ATTACH_VOLUME;\n              accessMode = pvcResource?.spec?.accessModes?.[0] || 'ReadWriteMany';\n              size = pvcResource?.spec?.resources?.requests?.storage || '10Gi';\n              storageClassName = pvcResource?.spec?.storageClassName;\n              volumeMode = pvcResource?.spec?.volumeMode || 'Block';\n              volumeName = pvcResource?.metadata?.name || '';\n            }\n\n            hotpluggable = volume.persistentVolumeClaim.hotpluggable || false;\n          }\n\n          const bus = DISK?.disk?.bus || DISK?.cdrom?.bus;\n\n          const bootOrder = DISK?.bootOrder ? DISK?.bootOrder : index;\n\n          const parseValue = parseSi(size);\n\n          const formatSize = formatSi(parseValue, {\n            increment:   1024,\n            addSuffix:   false,\n            maxExponent: 3,\n            minExponent: 3,\n          });\n\n          const volumeStatus = this.pvcs.find((P) => P.id === `${ this.value.metadata.namespace }/${ volumeName }`)?.relatedPV?.metadata?.annotations?.[HCI_ANNOTATIONS.VOLUME_ERROR];\n\n          return {\n            id:         randomStr(5),\n            bootOrder,\n            source,\n            name:       DISK.name,\n            realName,\n            bus,\n            volumeName,\n            container,\n            accessMode,\n            size:       `${ formatSize }Gi`,\n            volumeMode: volumeMode || this.customVolumeMode,\n            image,\n            type,\n            storageClassName,\n            hotpluggable,\n            volumeStatus,\n            dataSource\n          };\n        });\n      }\n\n      out = sortBy(out, 'bootOrder');\n\n      return out.filter( (O) => O.name !== 'cloudinitdisk');\n    },\n\n    getNetworkRows(vm, config) {\n      const { fromTemplate = false, init = false } = config;\n\n      const networks = vm.spec.template.spec.networks || [];\n      const interfaces = vm.spec.template.spec.domain.devices.interfaces || [];\n\n      const out = interfaces.map( (I, index) => {\n        const network = networks.find( (N) => I.name === N.name);\n\n        // const type = I.sriov ? 'sriov' : I.bridge ? 'bridge' : 'masquerade';\n        const type = I.masquerade ? 'masquerade' : I.bridge ? 'masquerade' : 'macvtap';\n\n        const isPod = !!network.pod;\n\n        return {\n          ...I,\n          index,\n          type,\n          isPod,\n          newCreateId: (fromTemplate || init) ? randomStr(10) : false,\n          model:       I.model,\n          networkName: isPod ? MANAGEMENT_NETWORK : network?.multus?.networkName,\n        };\n      });\n\n      return out;\n    },\n\n    parseVM() {\n      this.userData = this.getUserData({ osType: this.osType, installAgent: this.installAgent });\n      this.parseOther();\n      this.parseAccessCredentials();\n      this.parseNetworkRows(this.networkRows);\n      this.parseDiskRows(this.diskRows);\n    },\n\n    parseOther() {\n      if (!this.spec.template.spec.domain.machine) {\n        this.$set(this.spec.template.spec.domain, 'machine', { type: this.machineType });\n      } else {\n        this.$set(this.spec.template.spec.domain.machine, 'type', this.machineType);\n      }\n\n      this.spec.template.spec.domain.cpu.cores = this.cpu;\n      this.spec.template.spec.domain.resources.limits.cpu = this.cpu ? this.cpu.toString() : this.cpu;\n      this.spec.template.spec.domain.resources.limits.memory = this.memory;\n\n      // parse reserved memory\n      const vm = this.resource === HCI.VM ? this.value : this.value.spec.vm;\n\n      if (!this.reservedMemory) {\n        delete vm.metadata.annotations[HCI_ANNOTATIONS.VM_RESERVED_MEMORY];\n      } else {\n        vm.metadata.annotations[HCI_ANNOTATIONS.VM_RESERVED_MEMORY] = this.reservedMemory;\n      }\n    },\n\n    parseDiskRows(disk) {\n      const disks = [];\n      const volumes = [];\n      const diskNameLables = [];\n      const volumeClaimTemplates = [];\n\n      disk.forEach( (R, index) => {\n        const prefixName = this.value.metadata?.name || '';\n\n        let dataVolumeName = '';\n\n        if (R.source === SOURCE_TYPE.ATTACH_VOLUME) {\n          dataVolumeName = R.volumeName;\n        } else if (this.isClone || !this.hasCreateVolumes.includes(R.realName)) {\n          dataVolumeName = `${ prefixName }-${ R.name }-${ randomStr(5).toLowerCase() }`;\n        } else {\n          dataVolumeName = R.realName;\n        }\n\n        const _disk = this.parseDisk(R, index);\n        const _volume = this.parseVolume(R, dataVolumeName);\n        const _dataVolumeTemplate = this.parseVolumeClaimTemplate(R, dataVolumeName);\n\n        disks.push(_disk);\n        volumes.push(_volume);\n        diskNameLables.push(dataVolumeName);\n\n        if (R.source !== SOURCE_TYPE.CONTAINER) {\n          volumeClaimTemplates.push(_dataVolumeTemplate);\n        }\n      });\n\n      if (!this.secretName || this.needNewSecret) {\n        this.secretName = this.generateSecretName(this.secretNamePrefix);\n      }\n\n      if (!disks.find( (D) => D.name === 'cloudinitdisk') && (this.userData || this.networkData)) {\n        if (!this.isWindows) {\n          disks.push({\n            name: 'cloudinitdisk',\n            disk: { bus: 'virtio' }\n          });\n\n          const userData = this.getUserData({ osType: this.osType, installAgent: this.installAgent });\n\n          const cloudinitdisk = {\n            name:             'cloudinitdisk',\n            cloudInitNoCloud: {}\n          };\n\n          if (this.saveUserDataAsClearText) {\n            cloudinitdisk.cloudInitNoCloud.userData = userData;\n          } else {\n            cloudinitdisk.cloudInitNoCloud.secretRef = { name: this.secretName };\n          }\n\n          if (this.saveNetworkDataAsClearText) {\n            cloudinitdisk.cloudInitNoCloud.networkData = this.networkScript;\n          } else {\n            cloudinitdisk.cloudInitNoCloud.networkDataSecretRef = { name: this.secretName };\n          }\n\n          volumes.push(cloudinitdisk);\n        }\n      }\n\n      let spec = {\n        ...this.spec,\n        runStrategy: this.runStrategy,\n        template:    {\n          ...this.spec.template,\n          metadata: {\n            ...this.spec?.template?.metadata,\n            annotations: {\n              ...this.spec?.template?.metadata?.annotations,\n              [HCI_ANNOTATIONS.SSH_NAMES]: JSON.stringify(this.sshKey)\n            },\n            labels: {\n              ...this.spec?.template?.metadata?.labels,\n              [HCI_ANNOTATIONS.VM_NAME]: this.value?.metadata?.name,\n            }\n          },\n          spec: {\n            ...this.spec.template?.spec,\n            domain: {\n              ...this.spec.template?.spec?.domain,\n              devices: {\n                ...this.spec.template?.spec?.domain?.devices,\n                disks,\n              },\n            },\n            volumes,\n          }\n        }\n      };\n\n      if (volumes.length === 0) {\n        delete spec.template.spec.volumes;\n      }\n\n      if (this.resource === HCI.VM) {\n        if (!this.isSingle) {\n          spec = this.multiVMScheduler(spec);\n        }\n\n        this.$set(this.value.metadata, 'annotations', {\n          ...this.value.metadata.annotations,\n          [HCI_ANNOTATIONS.VOLUME_CLAIM_TEMPLATE]: JSON.stringify(volumeClaimTemplates),\n          [HCI_ANNOTATIONS.NETWORK_IPS]:           JSON.stringify(this.value.networkIps)\n        });\n\n        this.$set(this.value.metadata, 'labels', {\n          ...this.value.metadata.labels,\n          [HCI_ANNOTATIONS.CREATOR]: 'harvester',\n          [HCI_ANNOTATIONS.OS]:      this.osType\n        });\n\n        this.$set(this.value, 'spec', spec);\n        this.$set(this, 'spec', spec);\n      } else if (this.resource === HCI.VM_VERSION) {\n        this.$set(this.value.spec.vm, 'spec', spec);\n        this.$set(this.value.spec.vm.metadata, 'annotations', { ...this.value.spec.vm.metadata.annotations, [HCI_ANNOTATIONS.VOLUME_CLAIM_TEMPLATE]: JSON.stringify(volumeClaimTemplates) });\n        this.$set(this.value.spec.vm.metadata, 'labels', { [HCI_ANNOTATIONS.OS]: this.osType });\n        this.$set(this, 'spec', spec);\n      }\n    },\n\n    multiVMScheduler(spec) {\n      spec.template.metadata.labels[HCI_ANNOTATIONS.VM_NAME_PREFIX] = this.namePrefix;\n\n      const rule = {\n        weight:          1,\n        podAffinityTerm: {\n          topologyKey:   HOSTNAME,\n          labelSelector: { matchLabels: { [HCI_ANNOTATIONS.VM_NAME_PREFIX]: this.namePrefix } }\n        }\n      };\n\n      return {\n        ...spec,\n        template: {\n          ...spec.template,\n          spec: {\n            ...spec.template.spec,\n            affinity: {\n              ...spec.template.spec.affinity,\n              podAntiAffinity: {\n                ...spec.template.spec?.affinity?.podAntiAffinity,\n                preferredDuringSchedulingIgnoredDuringExecution: [\n                  ...(spec.template.spec?.affinity?.podAntiAffinity?.preferredDuringSchedulingIgnoredDuringExecution || []),\n                  rule\n                ]\n              }\n            }\n          }\n        }\n      };\n    },\n\n    parseNetworkRows(networkRow) {\n      const networks = [];\n      const interfaces = [];\n\n      networkRow.forEach( (R) => {\n        const _network = this.parseNetwork(R);\n        const _interface = this.parseInterface(R);\n\n        networks.push(_network);\n        interfaces.push(_interface);\n      });\n\n      const spec = {\n        ...this.spec.template.spec,\n        domain: {\n          ...this.spec.template.spec.domain,\n          devices: {\n            ...this.spec.template.spec.domain.devices,\n            interfaces,\n          },\n        },\n        networks\n      };\n\n      this.$set(this.spec.template, 'spec', spec);\n    },\n\n    parseAccessCredentials() {\n      const out = [];\n      const annotations = {};\n      const users = JSON.parse(this.spec?.template?.metadata?.annotations?.[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_USERS] || '[]');\n\n      for (const row of this.accessCredentials) {\n        if (this.needNewSecret) {\n          row.secretName = this.generateSecretName(this.secretNamePrefix);\n        }\n\n        if (row.source === ACCESS_CREDENTIALS.RESET_PWD) {\n          users.push(row.username);\n          out.push({\n            userPassword: {\n              source:            { secret: { secretName: row.secretName } },\n              propagationMethod: { qemuGuestAgent: { } }\n            }\n          });\n        }\n\n        if (row.source === ACCESS_CREDENTIALS.INJECT_SSH) {\n          users.push(...row.users);\n          annotations[row.secretName] = row.sshkeys;\n          out.push({\n            sshPublicKey: {\n              source:            { secret: { secretName: row.secretName } },\n              propagationMethod: { qemuGuestAgent: { users: row.users } }\n            }\n          });\n        }\n      }\n\n      if (out.length === 0 && !!this.spec.template.spec.accessCredentials) {\n        delete this.spec.template.spec.accessCredentials;\n      } else {\n        this.spec.template.spec.accessCredentials = out;\n      }\n\n      if (users.length !== 0) {\n        this.spec.template.metadata.annotations[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_USERS] = JSON.stringify(Array.from(new Set(users)));\n        this.spec.template.metadata.annotations[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_NAMES] = JSON.stringify(annotations);\n      }\n    },\n\n    getInitUserData(config) {\n      const _QGA_JSON = this.getMatchQGA(config.osType);\n\n      const out = jsyaml.dump(_QGA_JSON);\n\n      return `#cloud-config\\n${ out }`;\n    },\n\n    /**\n     * Generate user data yaml which is decide by the \"Install guest agent\",\n     * \"OS type\", \"SSH Keys\" and user input.\n     * @param config\n     */\n    getUserData(config) {\n      try {\n        // https://github.com/eemeli/yaml/issues/136\n        let userDataDoc = this.userScript ? YAML.parseDocument(this.userScript) : YAML.parseDocument({});\n\n        const allSSHAuthorizedKeys = this.mergeSSHAuthorizedKeys(this.userScript);\n\n        if (allSSHAuthorizedKeys.length > 0) {\n          userDataDoc.setIn(['ssh_authorized_keys'], allSSHAuthorizedKeys);\n        } else if (YAML.isCollection(userDataDoc.getIn('ssh_authorized_keys'))) {\n          userDataDoc.deleteIn(['ssh_authorized_keys']);\n        }\n\n        userDataDoc = config.installAgent ? this.mergeQGA({ userDataDoc, ...config }) : this.deleteQGA({ userDataDoc, ...config });\n        const userDataYaml = userDataDoc.toString();\n\n        if (userDataYaml === '{}\\n') {\n          // When the YAML parsed value is '{}\\n', it means that the userData is empty, then undefined is returned.\n          return undefined;\n        }\n\n        return userDataYaml;\n      } catch (e) {\n        console.error('Error: Unable to parse yaml document', e); // eslint-disable-line no-console\n\n        return this.userScript;\n      }\n    },\n\n    updateSSHKey(neu) {\n      this.$set(this, 'sshKey', neu);\n    },\n\n    updateCpuMemory(cpu, memory) {\n      this.$set(this, 'cpu', cpu);\n      this.$set(this, 'memory', memory);\n    },\n\n    parseDisk(R, index) {\n      const out = { name: R.name };\n\n      if (R.type === HARD_DISK) {\n        out.disk = { bus: R.bus };\n      } else if (R.type === CD_ROM) {\n        out.cdrom = { bus: R.bus };\n      }\n\n      out.bootOrder = index + 1;\n\n      return out;\n    },\n\n    parseVolume(R, dataVolumeName) {\n      const out = { name: R.name };\n\n      if (R.source === SOURCE_TYPE.CONTAINER) {\n        out.containerDisk = { image: R.container };\n      } else if (R.source === SOURCE_TYPE.IMAGE || R.source === SOURCE_TYPE.NEW || R.source === SOURCE_TYPE.ATTACH_VOLUME) {\n        out.persistentVolumeClaim = { claimName: dataVolumeName };\n        if (R.hotpluggable) {\n          out.persistentVolumeClaim.hotpluggable = true;\n        }\n      }\n\n      return out;\n    },\n\n    parseVolumeClaimTemplate(R, dataVolumeName) {\n      if (!String(R.size).includes('Gi') && R.size) {\n        R.size = `${ R.size }Gi`;\n      }\n\n      const out = {\n        metadata: { name: dataVolumeName },\n        spec:     {\n          accessModes: [R.accessMode],\n          resources:   { requests: { storage: R.size } },\n          volumeMode:  R.volumeMode\n        }\n      };\n\n      if (R.dataSource) {\n        out.spec.dataSource = R.dataSource;\n      }\n\n      switch (R.source) {\n      case SOURCE_TYPE.ATTACH_VOLUME:\n        out.spec.storageClassName = R.storageClassName;\n        break;\n      case SOURCE_TYPE.NEW:\n        out.spec.storageClassName = R.storageClassName;\n        break;\n      case SOURCE_TYPE.IMAGE: {\n        const image = this.images.find( (I) => R.image === I.id);\n\n        if (image) {\n          out.spec.storageClassName = `longhorn-${ image.metadata.name }`;\n          out.metadata.annotations = { [HCI_ANNOTATIONS.IMAGE_ID]: image.id };\n        } else {\n          out.metadata.annotations = { [HCI_ANNOTATIONS.IMAGE_ID]: '' };\n        }\n\n        break;\n      }\n      }\n\n      return out;\n    },\n\n    getSSHListValue(arr) {\n      return arr.map( (id) => this.getSSHValue(id)).filter( (O) => O !== undefined);\n    },\n\n    parseInterface(R) {\n      const _interface = {};\n      const type = R.type;\n\n      _interface[type] = {};\n\n      if (R.macAddress) {\n        _interface.macAddress = R.macAddress;\n      }\n\n      _interface.model = R.model;\n      _interface.name = R.name;\n\n      return _interface;\n    },\n\n    parseNetwork(R) {\n      const out = { name: R.name };\n\n      if (R.isPod) {\n        out.pod = {};\n      } else {\n        out.multus = { networkName: R.networkName };\n      }\n\n      return out;\n    },\n\n    updateUserData(value) {\n      this.userScript = value;\n    },\n\n    updateNetworkData(value) {\n      this.networkScript = value;\n    },\n\n    mergeSSHAuthorizedKeys(yaml) {\n      try {\n        const sshAuthorizedKeys = YAML.parseDocument(yaml)\n          .get('ssh_authorized_keys')\n          ?.toJSON() || [];\n\n        const sshList = this.getSSHListValue(this.sshKey);\n\n        return sshAuthorizedKeys.length ? [...new Set([...sshList, ...sshAuthorizedKeys])] : sshList;\n      } catch (e) {\n        return [];\n      }\n    },\n\n    /**\n     * @param paths A Object path, e.g. 'a.b.c' => ['a', 'b', 'c']. Refer to https://eemeli.org/yaml/#scalar-values\n     * @returns\n     */\n    deleteYamlDocProp(doc, paths) {\n      try {\n        const item = doc.getIn([])?.items[0];\n        const key = item?.key;\n        const hasCloudConfigComment = !!key?.commentBefore?.includes('cloud-config');\n        const isMatchProp = key.source === paths[paths.length - 1];\n\n        if (key && hasCloudConfigComment && isMatchProp) {\n          // Comments are mounted on the next node and we should not delete the node containing cloud-config\n        } else {\n          doc.deleteIn(paths);\n        }\n      } catch (e) {}\n    },\n\n    mergeQGA(config) {\n      const { osType, userDataDoc } = config;\n      const _QGA_JSON = this.getMatchQGA(osType);\n      const userDataYAML = userDataDoc.toString();\n      const userDataJSON = YAML.parse(userDataYAML);\n      let packages = userDataJSON?.packages || [];\n      let runcmd = userDataJSON?.runcmd || [];\n\n      userDataDoc.setIn(['package_update'], true);\n\n      if (Array.isArray(packages)) {\n        if (!packages.includes('qemu-guest-agent')) {\n          packages.push('qemu-guest-agent');\n        }\n      } else {\n        packages = QGA_JSON.packages;\n      }\n\n      if (Array.isArray(runcmd)) {\n        let findIndex = -1;\n        const hasSameRuncmd = runcmd.find( (S) => Array.isArray(S) && S.join('-') === _QGA_JSON.runcmd[0].join('-'));\n\n        const hasSimilarRuncmd = runcmd.find( (S, index) => {\n          if (Array.isArray(S) && S.join('-') === this.getSimilarRuncmd(osType).join('-')) {\n            findIndex = index;\n\n            return true;\n          }\n\n          return false;\n        });\n\n        if (hasSimilarRuncmd) {\n          runcmd[findIndex] = _QGA_JSON.runcmd[0];\n        } else if (!hasSameRuncmd) {\n          runcmd.push(_QGA_JSON.runcmd[0]);\n        }\n      } else {\n        runcmd = _QGA_JSON.runcmd;\n      }\n\n      if (packages.length > 0) {\n        userDataDoc.setIn(['packages'], packages);\n      } else {\n        userDataDoc.setIn(['packages'], []); // It needs to be set empty first, as it is possible that cloud-init comments are mounted on this node\n        this.deleteYamlDocProp(userDataDoc, ['packages']);\n        this.deleteYamlDocProp(userDataDoc, ['package_update']);\n      }\n\n      if (runcmd.length > 0) {\n        userDataDoc.setIn(['runcmd'], runcmd);\n      } else {\n        this.deleteYamlDocProp(userDataDoc, ['runcmd']);\n      }\n\n      return userDataDoc;\n    },\n\n    deleteQGA(config) {\n      const { osType, userDataDoc, deletePackage = false } = config;\n\n      const userDataTemplateValue = this.$store.getters[`${ PRODUCT_NAME }/byId`](CONFIG_MAP, this.userDataTemplateId)?.data?.cloudInit || '';\n\n      const userDataYAML = userDataDoc.toString();\n      const userDataJSON = YAML.parse(userDataYAML);\n      const packages = userDataJSON?.packages || [];\n      const runcmd = userDataJSON?.runcmd || [];\n\n      if (Array.isArray(packages) && deletePackage) {\n        const templateHasQGAPackage = this.convertToJson(userDataTemplateValue);\n\n        for (let i = 0; i < packages.length; i++) {\n          if (packages[i] === 'qemu-guest-agent') {\n            if (!(Array.isArray(templateHasQGAPackage?.packages) && templateHasQGAPackage.packages.includes('qemu-guest-agent'))) {\n              packages.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      if (Array.isArray(runcmd)) {\n        const _QGA_JSON = this.getMatchQGA(osType);\n\n        for (let i = 0; i < runcmd.length; i++) {\n          if (Array.isArray(runcmd[i]) && runcmd[i].join('-') === _QGA_JSON.runcmd[0].join('-')) {\n            runcmd.splice(i, 1);\n          }\n        }\n      }\n\n      if (packages.length > 0) {\n        userDataDoc.setIn(['packages'], packages);\n      } else {\n        userDataDoc.setIn(['packages'], []);\n        this.deleteYamlDocProp(userDataDoc, ['packages']);\n        this.deleteYamlDocProp(userDataDoc, ['package_update']);\n      }\n\n      if (runcmd.length > 0) {\n        userDataDoc.setIn(['runcmd'], runcmd);\n      } else {\n        this.deleteYamlDocProp(userDataDoc, ['runcmd']);\n      }\n\n      return userDataDoc;\n    },\n\n    generateSecretName(name) {\n      return name ? `${ name }-${ randomStr(5).toLowerCase() }` : undefined;\n    },\n\n    getOwnerReferencesFromVM(resource) {\n      const name = resource.metadata.name;\n      const kind = resource.kind;\n      const apiVersion = this.resource === HCI.VM ? 'kubevirt.io/v1' : 'harvesterhci.io/v1beta1';\n      const uid = resource?.metadata?.uid;\n\n      return [{\n        name,\n        kind,\n        uid,\n        apiVersion,\n      }];\n    },\n\n    async saveSecret(vm) {\n      if (!vm?.spec || !this.secretName || this.isWindows) {\n        return true;\n      }\n\n      let secret = this.getSecret(vm.spec);\n\n      // const userData = this.getUserData({ osType: this.osType, installAgent: this.installAgent });\n      if (!secret && this.isEdit && this.secretRef) {\n        // When editing the vm, if the userData and networkData are deleted, we also need to clean up the secret values\n        secret = this.secretRef;\n      }\n\n      if (!secret || this.needNewSecret) {\n        secret = await this.$store.dispatch(`${ PRODUCT_NAME }/create`, {\n          metadata: {\n            name:            this.secretName,\n            namespace:       this.value.metadata.namespace,\n            labels:          { [HCI_ANNOTATIONS.CLOUD_INIT]: 'harvester' },\n            ownerReferences: this.getOwnerReferencesFromVM(vm)\n          },\n          type: SECRET\n        });\n      }\n\n      try {\n        if (secret) {\n          // If none of the data comes from the secret, then no data needs to be saved to the secret\n          if (!this.saveUserDataAsClearText || !this.saveNetworkDataAsClearText) {\n            secret.setData('userdata', this.userData || '');\n            secret.setData('networkdata', this.networkScript || '');\n            await secret.save();\n          }\n        }\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    },\n\n    async saveAccessCredentials(vm) {\n      if (!vm?.spec) {\n        return true;\n      }\n\n      // save\n      const toSave = [];\n\n      for (const row of this.accessCredentials) {\n        let secretRef = row.secretRef;\n\n        if (!secretRef || this.needNewSecret) {\n          secretRef = await this.$store.dispatch(`${ PRODUCT_NAME }/create`, {\n            metadata: {\n              name:            row.secretName,\n              namespace:       vm.metadata.namespace,\n              labels:          { [HCI_ANNOTATIONS.CLOUD_INIT]: 'harvester' },\n              ownerReferences: this.getOwnerReferencesFromVM(vm)\n            },\n            type: SECRET\n          });\n        }\n\n        if (row.source === ACCESS_CREDENTIALS.RESET_PWD) {\n          secretRef.setData(row.username, row.newPassword);\n        }\n\n        if (row.source === ACCESS_CREDENTIALS.INJECT_SSH) {\n          for (const secretId of row.sshkeys) {\n            const keypair = (this.$store.getters['cluster/all'](HCI.SSH) || []).find((s) => s.id === secretId);\n\n            secretRef.setData(`${ keypair.metadata.namespace }-${ keypair.metadata.name }`, keypair.spec.publicKey);\n          }\n        }\n\n        toSave.push(secretRef);\n      }\n\n      try {\n        for (const resource of toSave) {\n          await resource.save();\n        }\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    },\n\n    getAccessCredentialsValidation() {\n      const errors = [];\n\n      for (let i = 0; i < this.accessCredentials.length; i++) {\n        const row = this.accessCredentials[i];\n        const source = row.source;\n\n        if (source === ACCESS_CREDENTIALS.RESET_PWD) {\n          if (!row.username) {\n            const fieldName = this.t('harvester.virtualMachine.input.username');\n            const message = this.t('validation.required', { key: fieldName });\n\n            errors.push(message);\n          }\n\n          if (!row.newPassword) {\n            const fieldName = this.t('harvester.virtualMachine.input.password');\n            const message = this.t('validation.required', { key: fieldName });\n\n            errors.push(message);\n          }\n\n          if (row.newPassword && row.newPassword.length < 6) {\n            const fieldName = this.t('harvester.virtualMachine.input.password');\n            const message = this.t('validation.number.min', { key: fieldName, val: '6' });\n\n            errors.push(message);\n          }\n        } else {\n          if (!row.users || row.users.length === 0) {\n            const fieldName = this.t('harvester.virtualMachine.input.username');\n            const message = this.t('validation.required', { key: fieldName });\n\n            errors.push(message);\n          }\n\n          if (!row.sshkeys || row.sshkeys.length === 0) {\n            const fieldName = this.t('harvester.virtualMachine.input.sshKeyValue');\n            const message = this.t('validation.required', { key: fieldName });\n\n            errors.push(message);\n          }\n        }\n\n        if (errors.length > 0) {\n          break;\n        }\n      }\n\n      return errors;\n    },\n\n    getHasCreatedVolumes(spec) {\n      const out = [];\n\n      if (spec.template.spec.volumes) {\n        spec.template.spec.volumes.forEach((V) => {\n          if (V?.persistentVolumeClaim?.claimName) {\n            out.push(V.persistentVolumeClaim.claimName);\n          }\n        });\n      }\n\n      return out;\n    },\n\n    handlerUSBTablet(val) {\n      const hasExist = this.isInstallUSBTablet(this.spec);\n      const inputs = this.spec.template.spec.domain.devices?.inputs || [];\n\n      if (val && !hasExist) {\n        if (inputs.length > 0) {\n          inputs.push(USB_TABLET[0]);\n        } else {\n          Object.assign(this.spec.template.spec.domain.devices, {\n            inputs: [\n              USB_TABLET[0]\n            ]\n          });\n        }\n      } else if (!val) {\n        const index = inputs.findIndex((O) => isEqual(O, USB_TABLET[0]));\n\n        if (hasExist && inputs.length === 1) {\n          this.$delete(this.spec.template.spec.domain.devices, 'inputs');\n        } else if (hasExist) {\n          inputs.splice(index, 1);\n          this.$set(this.spec.template.spec.domain.devices, 'inputs', inputs);\n        }\n      }\n    },\n\n    setBootMethod(boot = { efi: false, secureBoot: false }) {\n      if (boot.efi && boot.secureBoot) {\n        set(this.spec.template.spec.domain, 'features.smm.enabled', true);\n        set(this.spec.template.spec.domain, 'firmware.bootloader.efi.secureBoot', true);\n      } else if (boot.efi && !boot.secureBoot) {\n        set(this.spec.template.spec.domain, 'features.smm.enabled', false);\n        set(this.spec.template.spec.domain, 'firmware.bootloader.efi.secureBoot', false);\n      } else {\n        this.$delete(this.spec.template.spec.domain, 'firmware');\n        this.$delete(this.spec.template.spec.domain.features, 'smm');\n      }\n    },\n\n    deleteSSHFromUserData(ssh = []) {\n      const sshAuthorizedKeys = this.getSSHFromUserData(this.userScript);\n\n      ssh.map((id) => {\n        const index = sshAuthorizedKeys.findIndex((value) => value === this.getSSHValue(id));\n\n        if (index >= 0) {\n          sshAuthorizedKeys.splice(index, 1);\n        }\n      });\n\n      const userDataJson = this.convertToJson(this.userScript);\n\n      userDataJson.ssh_authorized_keys = sshAuthorizedKeys;\n\n      if (sshAuthorizedKeys.length === 0) {\n        delete userDataJson.ssh_authorized_keys;\n      }\n\n      if (isEmpty(userDataJson)) {\n        this.$set(this, 'userScript', undefined);\n      } else {\n        this.$set(this, 'userScript', jsyaml.dump(userDataJson));\n      }\n\n      this.refreshYamlEditor();\n    },\n\n    refreshYamlEditor() {\n      this.$nextTick(() => {\n        this.$refs.yamlEditor?.updateValue();\n      });\n    },\n\n    toggleAdvanced() {\n      this.showAdvanced = !this.showAdvanced;\n    },\n\n    updateAgent(value) {\n      if (!value) {\n        this.deletePackage = true;\n      }\n    },\n\n    updateDataTemplateId(type, id) {\n      if (type === 'user') {\n        const oldInstallAgent = this.installAgent;\n\n        this.userDataTemplateId = id;\n        this.$nextTick(() => {\n          if (oldInstallAgent) {\n            this.installAgent = oldInstallAgent;\n          }\n        });\n      }\n    },\n\n    updateReserved(value = {}) {\n      const { memory } = value;\n\n      this.$set(this, 'reservedMemory', memory);\n    },\n  },\n\n  watch: {\n    diskRows: {\n      handler(neu, old) {\n        if (Array.isArray(neu)) {\n          const imageId = neu[0]?.image;\n          const image = this.images.find( (I) => imageId === I.id);\n          const osType = image?.imageOSType;\n\n          const oldImageId = old[0]?.image;\n\n          if (this.isCreate && oldImageId === imageId && imageId) {\n            this.osType = osType;\n          }\n        }\n      }\n    },\n\n    secretRef: {\n      handler(secret) {\n        if (secret && this.resource !== HCI.BACKUP) {\n          this.secretName = secret?.metadata.name;\n        }\n      },\n      immediate: true,\n      deep:      true\n    },\n\n    isWindows(val) {\n      if (val) {\n        this.$set(this, 'sshKey', []);\n        this.$set(this, 'userScript', undefined);\n        this.$set(this, 'installAgent', false);\n      }\n    },\n\n    installUSBTablet(val) {\n      this.handlerUSBTablet(val);\n    },\n\n    efiEnabled(val) {\n      this.setBootMethod({ efi: val, secureBoot: this.secureBoot });\n    },\n\n    secureBoot(val) {\n      this.setBootMethod({ efi: this.efiEnabled, secureBoot: val });\n    },\n\n    installAgent: {\n      /**\n       * rules\n       * 1. The value in user Data is the first priority\n       * 2. After selecting the template, if checkbox is checked, only merge operation will be performed on user data,\n       *    if checkbox is unchecked, no value will be deleted in user data\n       */\n      handler(neu) {\n        if (this.deleteAgent) {\n          let out = this.getUserData({\n            installAgent: neu, osType: this.osType, deletePackage: this.deletePackage\n          });\n\n          if (neu) {\n            const hasCloudComment = this.hasCloudConfigComment(out);\n\n            if (!hasCloudComment) {\n              out = `#cloud-config\\n${ out }`;\n            }\n          }\n\n          this.$set(this, 'userScript', out);\n          this.refreshYamlEditor();\n        }\n        this.deleteAgent = true;\n        this.deletePackage = false;\n      }\n    },\n\n    osType(neu) {\n      const out = this.getUserData({ installAgent: this.installAgent, osType: neu });\n\n      this.$set(this, 'userScript', out);\n      this.refreshYamlEditor();\n    },\n\n    userScript(neu, old) {\n      const hasInstallAgent = this.hasInstallAgent(neu, this.osType, this.installAgent);\n\n      if (hasInstallAgent !== this.installAgent) {\n        this.deleteAgent = false;\n        this.installAgent = hasInstallAgent;\n      }\n    },\n\n    sshKey(neu, old) {\n      const _diff = difference(old, neu);\n\n      if (_diff.length && this.isEdit) {\n        this.deleteSSHFromUserData(_diff);\n      }\n    }\n  }\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#vm[data-v-79036326] .vm-radio-group .radio-group{display:flex}#vm[data-v-79036326] .vm-radio-group .radio-group .radio-container{margin-right:30px}#vm .restart[data-v-79036326]{display:flex;justify-content:flex-end}#vm .banner-right[data-v-79036326]{width:auto;display:flex;justify-items:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CompatibilityMatrix.vue?vue&type=style&index=0&id=7b101210&prod&lang=scss\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".restart-modal[data-v-c430a37c]{z-index:45}.prompt-restart[data-v-c430a37c]{margin:0}.bottom[data-v-c430a37c]{display:flex;flex-direction:column;flex:1}.bottom .banner[data-v-c430a37c]{margin-top:0}.bottom .buttons[data-v-c430a37c]{display:flex;justify-content:flex-end;width:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RestartVMDialog.vue?vue&type=style&index=0&id=c430a37c&prod&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6386f148&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3bcd258b\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-7d491695] .resource-yaml{flex:1;display:flex;flex-direction:column}[data-v-7d491695] .resource-yaml .yaml-editor{flex:1;min-height:200px}[data-v-7d491695] .resource-yaml .yaml-editor .code-mirror .CodeMirror{min-height:200px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=79036326&prod&lang=scss&scoped=true\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".infoBox[data-v-b57c60be]{position:relative}.remove-vol[data-v-b57c60be]{position:absolute;top:10px;right:16px;padding:0;max-height:28px;min-height:28px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".action[data-v-4ed320b6]{display:flex;flex-direction:row-reverse}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Banner',{staticClass:\"mb-20\",attrs:{\"color\":\"info\",\"label\":_vm.t('harvester.virtualMachine.accessCredentials.tips')}}),_vm._l((_vm.rows),function(row,i){return _c('div',{key:row.id},[_c('InfoBox',{staticClass:\"volume-source\"},[(_vm.isEdit)?_c('button',{staticClass:\"role-link btn btn-sm remove-vol\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.remove(row)}}},[_c('i',{staticClass:\"icon icon-x\"})]):_vm._e(),_c('h3',[_c('span',[_vm._v(\" \"+_vm._s(_vm.headerFor(row.source))+\" \")])]),_c('div',[_c(_vm.componentFor(row.source),{tag:\"component\",attrs:{\"rows\":_vm.rows,\"resource\":_vm.resource,\"user-options\":_vm.userOptions,\"mode\":_vm.mode,\"idx\":i},on:{\"update\":_vm.update,\"update:newUser\":_vm.updateNewUser},model:{value:(_vm.rows[i]),callback:function ($$v) {_vm.$set(_vm.rows, i, $$v)},expression:\"rows[i]\"}})],1)])],1)}),(_vm.isEdit && _vm.isQemuInstalled)?_c('div',{staticClass:\"mt-20\"},[_c('button',{staticClass:\"btn btn-sm bg-primary mr-15 mb-10\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addCredentials(_vm.ACCESS_CREDENTIALS.RESET_PWD)}}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.accessCredentials.resetPwd.label'))+\" \")]),_c('button',{staticClass:\"btn btn-sm bg-primary mr-15 mb-10\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addCredentials(_vm.ACCESS_CREDENTIALS.INJECT_SSH)}}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.accessCredentials.injectSSH.label'))+\" \")])]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nimport { Banner } from '@components/Banner';\nimport InfoBox from '@shell/components/InfoBox';\n\nimport { randomStr } from '@shell/utils/string';\nimport { removeObject } from '@shell/utils/array';\nimport { ACCESS_CREDENTIALS } from '../../../config/harvester-map';\nimport { _EDIT } from '@shell/config/query-params';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\n\nconst _NEW = '_NEW';\n\nexport default {\n  components: {\n    Banner,\n    InfoBox\n  },\n\n  props: {\n    value: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    resource: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n\n    disableCreate: {\n      type:    Boolean,\n      default: false\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false\n    },\n\n    isQemuInstalled: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      ACCESS_CREDENTIALS,\n      toRemove:       [],\n      toSave:         [],\n      rows:           [],\n      newUserOptions: [],\n    };\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    isEdit() {\n      return this.mode === _EDIT;\n    },\n\n    historyUsersOptions() {\n      const out = JSON.parse(this.resource?.spec?.template?.metadata?.annotations?.[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_USERS] || '[]');\n\n      out.unshift({\n        label: this.t('harvester.virtualMachine.accessCredentials.injectSSH.addUser'),\n        value: _NEW,\n      });\n\n      return out;\n    },\n\n    userOptions() {\n      return Array.from(new Set([...this.historyUsersOptions, ...this.newUserOptions]));\n    },\n  },\n\n  watch: {\n    value: {\n      handler(neu) {\n        this.rows = [...neu];\n      },\n      deep:      true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    addCredentials(type) {\n      const neu = {\n        source:      type,\n        users:       [],\n        sshkeys:     [],\n        username:    '',\n        newPassword: '',\n        secretName:  this.generateSecretName(this.resource.metadata.name),\n      };\n\n      this.rows.push(neu);\n      this.update();\n    },\n\n    remove(row) {\n      removeObject(this.rows, row);\n      this.update();\n    },\n\n    update() {\n      this.$emit('input', this.rows);\n    },\n\n    updateNewUser(newUser) {\n      this.newUserOptions.push(newUser);\n    },\n\n    generateSecretName(name) {\n      return name ? `${ name }-${ randomStr(5).toLowerCase() }` : undefined;\n    },\n\n    componentFor(type) {\n      switch (type) {\n      case ACCESS_CREDENTIALS.RESET_PWD:\n        return require(`./type/basicAuth.vue`).default;\n      case ACCESS_CREDENTIALS.INJECT_SSH:\n        return require(`./type/sshkey.vue`).default;\n      }\n    },\n\n    headerFor(type) {\n      return {\n        userPassword: this.$store.getters['i18n/t']('harvester.virtualMachine.accessCredentials.resetPwd.label'),\n        sshPublicKey: this.$store.getters['i18n/t']('harvester.virtualMachine.accessCredentials.injectSSH.label'),\n      }[type];\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      class=\"mb-20\"\n      color=\"info\"\n      :label=\"t('harvester.virtualMachine.accessCredentials.tips')\"\n    />\n\n    <div\n      v-for=\"(row, i) in rows\"\n      :key=\"row.id\"\n    >\n      <InfoBox class=\"volume-source\">\n        <button\n          v-if=\"isEdit\"\n          type=\"button\"\n          class=\"role-link btn btn-sm remove-vol\"\n          @click=\"remove(row)\"\n        >\n          <i class=\"icon icon-x\" />\n        </button>\n        <h3>\n          <span>\n            {{ headerFor(row.source) }}\n          </span>\n        </h3>\n        <div>\n          <component\n            :is=\"componentFor(row.source)\"\n            v-model=\"rows[i]\"\n            :rows=\"rows\"\n            :resource=\"resource\"\n            :user-options=\"userOptions\"\n            :mode=\"mode\"\n            :idx=\"i\"\n            @update=\"update\"\n            @update:newUser=\"updateNewUser\"\n          />\n        </div>\n      </InfoBox>\n    </div>\n\n    <div\n      v-if=\"isEdit && isQemuInstalled\"\n      class=\"mt-20\"\n    >\n      <button\n        type=\"button\"\n        class=\"btn btn-sm bg-primary mr-15 mb-10\"\n        @click=\"addCredentials(ACCESS_CREDENTIALS.RESET_PWD)\"\n      >\n        {{ t('harvester.virtualMachine.accessCredentials.resetPwd.label') }}\n      </button>\n\n      <button\n        type=\"button\"\n        class=\"btn btn-sm bg-primary mr-15 mb-10\"\n        @click=\"addCredentials(ACCESS_CREDENTIALS.INJECT_SSH)\"\n      >\n        {{ t('harvester.virtualMachine.accessCredentials.injectSSH.label') }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n  .volume-source {\n    position: relative;\n  }\n\n  .remove-vol {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    padding: 0px;\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6386f148&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6386f148&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6386f148\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.templateSpec && _vm.spec)?_c('CruResource',{attrs:{\"done-route\":_vm.doneRoute,\"resource\":_vm.value,\"can-yaml\":false,\"mode\":_vm.mode,\"errors\":_vm.errors,\"apply-hooks\":_vm.applyHooks},on:{\"finish\":_vm.saveVMT}},[_c('NameNsDescription',{attrs:{\"mode\":_vm.realTemplateMode,\"name-label\":\"harvester.vmTemplate.nameNsDescription.name\",\"namespaced\":true},model:{value:(_vm.templateValue),callback:function ($$v) {_vm.templateValue=$$v},expression:\"templateValue\"}}),(_vm.templateId)?_c('Checkbox',{staticClass:\"mb-20\",attrs:{\"label\":_vm.t('tableHeaders.defaultVersion'),\"type\":\"checkbox\",\"mode\":_vm.mode},model:{value:(_vm.isDefaultVersion),callback:function ($$v) {_vm.isDefaultVersion=$$v},expression:\"isDefaultVersion\"}}):_vm._e(),_c('Tabbed',{attrs:{\"side-tabs\":true},on:{\"changed\":_vm.onTabChanged}},[_c('Tab',{attrs:{\"name\":\"Basics\",\"label\":_vm.t('harvester.vmTemplate.tabs.basics')}},[_c('CpuMemory',{attrs:{\"cpu\":_vm.cpu,\"memory\":_vm.memory,\"disabled\":_vm.isConfig},on:{\"updateCpuMemory\":_vm.updateCpuMemory}}),_c('div',{staticClass:\"mb-20\"},[_c('SSHKey',{attrs:{\"namespace\":_vm.templateValue.metadata.namespace,\"disable-create\":_vm.isView,\"mode\":_vm.mode},on:{\"update:sshKey\":_vm.updateSSHKey},model:{value:(_vm.sshKey),callback:function ($$v) {_vm.sshKey=$$v},expression:\"sshKey\"}})],1)],1),_c('Tab',{attrs:{\"name\":\"Volume\",\"label\":_vm.t('harvester.tab.volume'),\"weight\":-1}},[_c('Volume',{attrs:{\"mode\":_vm.mode,\"namespace\":_vm.value.metadata.namespace,\"existing-volume-disabled\":true},model:{value:(_vm.diskRows),callback:function ($$v) {_vm.diskRows=$$v},expression:\"diskRows\"}})],1),_c('Tab',{attrs:{\"name\":\"Network\",\"label\":_vm.t('harvester.tab.network'),\"weight\":-2}},[_c('Network',{attrs:{\"namespace\":_vm.templateValue.metadata.namespace,\"mode\":_vm.mode},model:{value:(_vm.networkRows),callback:function ($$v) {_vm.networkRows=$$v},expression:\"networkRows\"}})],1),_c('Tab',{attrs:{\"name\":\"nodeScheduling\",\"label\":_vm.t('workload.container.titles.nodeScheduling'),\"weight\":-89}},[_c('NodeScheduling',{attrs:{\"mode\":_vm.mode,\"value\":_vm.spec.template.spec,\"nodes\":_vm.nodesIdOptions}})],1),_c('Tab',{attrs:{\"name\":\"advanced\",\"label\":_vm.t('harvester.tab.advanced'),\"weight\":-99}},[_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label-key\":\"harvester.virtualMachine.runStrategy\",\"options\":_vm.RunStrategys,\"mode\":_vm.mode},model:{value:(_vm.runStrategy),callback:function ($$v) {_vm.runStrategy=$$v},expression:\"runStrategy\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label-key\":\"harvester.virtualMachine.osType\",\"mode\":_vm.mode,\"options\":_vm.OS},model:{value:(_vm.osType),callback:function ($$v) {_vm.osType=$$v},expression:\"osType\"}})],1)]),_c('div',{staticClass:\"row mb-20\"},[(_vm.showAdvanced)?_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('harvester.generic.showMore'),expression:\"'harvester.generic.showMore'\"}],attrs:{\"role\":\"button\"},on:{\"click\":_vm.toggleAdvanced}}):_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('harvester.generic.showMore'),expression:\"'harvester.generic.showMore'\"}],attrs:{\"role\":\"button\"},on:{\"click\":_vm.toggleAdvanced}})]),(_vm.showAdvanced)?_c('div',{staticClass:\"mb-20\"},[_c('Reserved',{attrs:{\"reserved-memory\":_vm.reservedMemory,\"mode\":_vm.mode},on:{\"updateReserved\":_vm.updateReserved}})],1):_vm._e(),_c('CloudConfig',{ref:\"yamlEditor\",attrs:{\"mode\":_vm.mode,\"user-script\":_vm.userScript,\"namespace\":_vm.templateValue.metadata.namespace,\"network-script\":_vm.networkScript},on:{\"updateUserData\":_vm.updateUserData,\"updateNetworkData\":_vm.updateNetworkData}}),_c('div',{staticClass:\"spacer\"}),_c('Checkbox',{staticClass:\"check\",attrs:{\"type\":\"checkbox\",\"label\":_vm.t('harvester.virtualMachine.enableUsb'),\"mode\":_vm.mode},model:{value:(_vm.installUSBTablet),callback:function ($$v) {_vm.installUSBTablet=$$v},expression:\"installUSBTablet\"}}),_c('Checkbox',{staticClass:\"check\",attrs:{\"type\":\"checkbox\",\"label-key\":\"harvester.virtualMachine.installAgent\",\"mode\":_vm.mode},model:{value:(_vm.installAgent),callback:function ($$v) {_vm.installAgent=$$v},expression:\"installAgent\"}}),_c('Checkbox',{staticClass:\"check\",attrs:{\"type\":\"checkbox\",\"label\":_vm.t('harvester.virtualMachine.efiEnabled'),\"mode\":_vm.mode},model:{value:(_vm.efiEnabled),callback:function ($$v) {_vm.efiEnabled=$$v},expression:\"efiEnabled\"}}),(_vm.efiEnabled)?_c('Checkbox',{staticClass:\"check\",attrs:{\"type\":\"checkbox\",\"label\":_vm.t('harvester.virtualMachine.secureBoot'),\"mode\":_vm.mode},model:{value:(_vm.secureBoot),callback:function ($$v) {_vm.secureBoot=$$v},expression:\"secureBoot\"}}):_vm._e()],1)],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('UnitInput',{directives:[{name:\"int-number\",rawName:\"v-int-number\"}],attrs:{\"label\":_vm.t('harvester.virtualMachine.input.reservedMemory'),\"mode\":_vm.mode,\"input-exponent\":2,\"increment\":1024,\"output-modifier\":true},on:{\"input\":_vm.change},model:{value:(_vm.memory),callback:function ($$v) {_vm.memory=$$v},expression:\"memory\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport UnitInput from '@shell/components/form/UnitInput';\n\nexport default {\n  name:       'HarvesterReserved',\n  components: { UnitInput },\n\n  props: {\n    reservedMemory: {\n      type:    String,\n      default: null\n    },\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n  },\n\n  data() {\n    return { memory: this.reservedMemory };\n  },\n\n  watch: {\n    reservedMemory(memory) {\n      this.memory = memory;\n    },\n  },\n\n  methods: {\n    change() {\n      const { memory } = this;\n\n      this.$emit('updateReserved', { memory });\n    },\n  }\n};\n</script>\n\n<template>\n  <div class=\"row mb-20\">\n    <div class=\"col span-6\">\n      <UnitInput\n        v-model=\"memory\"\n        v-int-number\n        :label=\"t('harvester.virtualMachine.input.reservedMemory')\"\n        :mode=\"mode\"\n        :input-exponent=\"2\"\n        :increment=\"1024\"\n        :output-modifier=\"true\"\n        @input=\"change\"\n      />\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualMachineReserved.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualMachineReserved.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./VirtualMachineReserved.vue?vue&type=template&id=ef2607b4\"\nimport script from \"./VirtualMachineReserved.vue?vue&type=script&lang=js\"\nexport * from \"./VirtualMachineReserved.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapGetters } from 'vuex';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport CruResource from '@shell/components/CruResource';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport NodeScheduling from '@shell/components/form/NodeScheduling';\n\nimport Reserved from './kubevirt.io.virtualmachine/VirtualMachineReserved';\nimport Volume from './kubevirt.io.virtualmachine/VirtualMachineVolume';\nimport Network from './kubevirt.io.virtualmachine/VirtualMachineNetwork';\nimport CpuMemory from './kubevirt.io.virtualmachine/VirtualMachineCpuMemory';\nimport CloudConfig from './kubevirt.io.virtualmachine/VirtualMachineCloudConfig';\nimport SSHKey from './kubevirt.io.virtualmachine/VirtualMachineSSHKey';\n\nimport { HCI, PRODUCT_NAME } from '../types';\nimport { randomStr } from '@shell/utils/string';\nimport { RunStrategys } from '../config/harvester-map';\nimport { _CONFIG, _EDIT, _VIEW } from '@shell/config/query-params';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\n\nimport VM_MIXIN from '../mixins/harvester-vm';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { AFTER_SAVE_HOOKS } from '@shell/mixins/child-hook';\n\nexport default {\n  name: 'HarvesterEditVMTemplate',\n\n  components: {\n    Tab,\n    SSHKey,\n    Volume,\n    Tabbed,\n    Network,\n    Checkbox,\n    CpuMemory,\n    CruResource,\n    CloudConfig,\n    LabeledSelect,\n    NameNsDescription,\n    NodeScheduling,\n    Reserved,\n  },\n\n  mixins: [CreateEditView, VM_MIXIN],\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  data() {\n    if (this.mode === _EDIT) {\n      this.value.cleanForNew();\n    }\n\n    const templateId = this.value.templateId || this.$route.query.templateId;\n\n    return {\n      templateId,\n      templateValue:    null,\n      templateSpec:     null,\n      versionName:      '',\n      description:      '',\n      defaultVersion:   null,\n      isDefaultVersion: false,\n      RunStrategys,\n    };\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n    isConfig() {\n      return this.$route.query?.as === _CONFIG || this.isView;\n    },\n\n    realTemplateMode() {\n      return this.templateId ? _VIEW : this.mode;\n    },\n    secretNamePrefix() {\n      return this.templateValue?.metadata?.name;\n    }\n  },\n\n  watch: {\n    templateId: {\n      async handler(neu) {\n        const templates = await this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM_TEMPLATE });\n        let templateValue = templates.find( (V) => V.id === neu) || null;\n        let templateSpec = templateValue?.spec;\n\n        if (!templateValue) {\n          templateSpec = {\n            description:      '',\n            defaultVersionId: ''\n          };\n\n          templateValue = await this.$store.dispatch(`${ PRODUCT_NAME }/create`, {\n            metadata: {\n              name:      '',\n              namespace: ''\n            },\n            spec: templateSpec,\n            type: HCI.VM_TEMPLATE\n          });\n        }\n\n        this.templateValue = templateValue;\n        this.templateSpec = templateSpec;\n      },\n      immediate: true\n    }\n  },\n\n  created() {\n    this.registerAfterHook(async() => {\n      if (this.isDefaultVersion) {\n        // Set the default version according to annotation:[HCI_ANNOTATIONS.TEMPLATE_VERSION_CUSTOM_NAME]\n        const versions = await this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM_VERSION, opt: { force: true } });\n\n        const version = versions.find( (V) => V?.metadata?.annotations?.[HCI_ANNOTATIONS.TEMPLATE_VERSION_CUSTOM_NAME] === this.customName);\n\n        if (version) {\n          try {\n            this.templateValue.defaultVersionId = version.id;\n\n            const data = [{\n              op: 'replace', path: '/spec/defaultVersionId', value: version.id\n            }];\n\n            await this.templateValue.patch( data, { url: this.templateValue.linkFor('view') });\n          } catch (err) {\n            return Promise.reject(new Error(err.message));\n          }\n        }\n      }\n    });\n  },\n\n  mounted() {\n    this.imageId = this.diskRows[0]?.image || '';\n  },\n\n  methods: {\n    async saveVMT(buttonCb) {\n      this.parseVM();\n\n      const templates = await this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM_TEMPLATE });\n      const template = templates.find( (O) => O.metadata.name === this.templateValue.metadata.name);\n\n      try {\n        if (!this.templateId) {\n          if (this.templateValue?.metadata?.name) {\n            await this.templateValue.save();\n          } else {\n            this.errors = [this.t('validation.required', { key: this.t('harvester.vmTemplate.nameNsDescription.name') })];\n            buttonCb(false);\n\n            return;\n          }\n        } else {\n          template.save();\n        }\n\n        this.value.cleanForNew();\n        this.customName = randomStr(10);\n        this.$set(this.value.metadata, 'annotations', {\n          ...this.value.metadata.annotations,\n          [HCI_ANNOTATIONS.TEMPLATE_VERSION_CUSTOM_NAME]: this.customName\n        });\n\n        const name = this.templateValue.metadata.name || template.metadata.name;\n        const namespace = this.templateValue.metadata.namespace || template.metadata.namespace;\n\n        if (this.isCreate) {\n          this.value.metadata.namespace = namespace;\n        }\n\n        this.$set(this.value.spec, 'templateId', `${ namespace }/${ name }`);\n        const res = await this.value.save();\n\n        await this.saveSecret(res);\n        await this.applyHooks(AFTER_SAVE_HOOKS);\n        this.done();\n      } catch (e) {\n        this.errors = [e];\n        buttonCb(false);\n      }\n    },\n\n    onTabChanged({ tab }) {\n      if (tab.name === 'advanced') {\n        this.$refs.yamlEditor?.refresh();\n      }\n    }\n  },\n};\n</script>\n\n<template>\n  <CruResource\n    v-if=\"templateSpec && spec\"\n    :done-route=\"doneRoute\"\n    :resource=\"value\"\n    :can-yaml=\"false\"\n    :mode=\"mode\"\n    :errors=\"errors\"\n    :apply-hooks=\"applyHooks\"\n    @finish=\"saveVMT\"\n  >\n    <NameNsDescription\n      v-model=\"templateValue\"\n      :mode=\"realTemplateMode\"\n      name-label=\"harvester.vmTemplate.nameNsDescription.name\"\n      :namespaced=\"true\"\n    />\n\n    <Checkbox\n      v-if=\"templateId\"\n      v-model=\"isDefaultVersion\"\n      class=\"mb-20\"\n      :label=\"t('tableHeaders.defaultVersion')\"\n      type=\"checkbox\"\n      :mode=\"mode\"\n    />\n\n    <Tabbed\n      :side-tabs=\"true\"\n      @changed=\"onTabChanged\"\n    >\n      <Tab\n        name=\"Basics\"\n        :label=\"t('harvester.vmTemplate.tabs.basics')\"\n      >\n        <CpuMemory\n          :cpu=\"cpu\"\n          :memory=\"memory\"\n          :disabled=\"isConfig\"\n          @updateCpuMemory=\"updateCpuMemory\"\n        />\n\n        <div class=\"mb-20\">\n          <SSHKey\n            v-model=\"sshKey\"\n            :namespace=\"templateValue.metadata.namespace\"\n            :disable-create=\"isView\"\n            :mode=\"mode\"\n            @update:sshKey=\"updateSSHKey\"\n          />\n        </div>\n      </Tab>\n\n      <Tab\n        name=\"Volume\"\n        :label=\"t('harvester.tab.volume')\"\n        :weight=\"-1\"\n      >\n        <Volume\n          v-model=\"diskRows\"\n          :mode=\"mode\"\n          :namespace=\"value.metadata.namespace\"\n          :existing-volume-disabled=\"true\"\n        />\n      </Tab>\n\n      <Tab\n        name=\"Network\"\n        :label=\"t('harvester.tab.network')\"\n        :weight=\"-2\"\n      >\n        <Network\n          v-model=\"networkRows\"\n          :namespace=\"templateValue.metadata.namespace\"\n          :mode=\"mode\"\n        />\n      </Tab>\n\n      <Tab\n        name=\"nodeScheduling\"\n        :label=\"t('workload.container.titles.nodeScheduling')\"\n        :weight=\"-89\"\n      >\n        <NodeScheduling\n          :mode=\"mode\"\n          :value=\"spec.template.spec\"\n          :nodes=\"nodesIdOptions\"\n        />\n      </Tab>\n\n      <Tab\n        name=\"advanced\"\n        :label=\"t('harvester.tab.advanced')\"\n        :weight=\"-99\"\n      >\n        <div class=\"row mb-20\">\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"runStrategy\"\n              label-key=\"harvester.virtualMachine.runStrategy\"\n              :options=\"RunStrategys\"\n              :mode=\"mode\"\n            />\n          </div>\n\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"osType\"\n              label-key=\"harvester.virtualMachine.osType\"\n              :mode=\"mode\"\n              :options=\"OS\"\n            />\n          </div>\n        </div>\n\n        <div class=\"row mb-20\">\n          <a\n            v-if=\"showAdvanced\"\n            v-t=\"'harvester.generic.showMore'\"\n            role=\"button\"\n            @click=\"toggleAdvanced\"\n          />\n          <a\n            v-else\n            v-t=\"'harvester.generic.showMore'\"\n            role=\"button\"\n            @click=\"toggleAdvanced\"\n          />\n        </div>\n\n        <div\n          v-if=\"showAdvanced\"\n          class=\"mb-20\"\n        >\n          <Reserved\n            :reserved-memory=\"reservedMemory\"\n            :mode=\"mode\"\n            @updateReserved=\"updateReserved\"\n          />\n        </div>\n\n        <CloudConfig\n          ref=\"yamlEditor\"\n          :mode=\"mode\"\n          :user-script=\"userScript\"\n          :namespace=\"templateValue.metadata.namespace\"\n          :network-script=\"networkScript\"\n          @updateUserData=\"updateUserData\"\n          @updateNetworkData=\"updateNetworkData\"\n        />\n\n        <div class=\"spacer\" />\n        <Checkbox\n          v-model=\"installUSBTablet\"\n          class=\"check\"\n          type=\"checkbox\"\n          :label=\"t('harvester.virtualMachine.enableUsb')\"\n          :mode=\"mode\"\n        />\n\n        <Checkbox\n          v-model=\"installAgent\"\n          class=\"check\"\n          type=\"checkbox\"\n          label-key=\"harvester.virtualMachine.installAgent\"\n          :mode=\"mode\"\n        />\n\n        <Checkbox\n          v-model=\"efiEnabled\"\n          class=\"check\"\n          type=\"checkbox\"\n          :label=\"t('harvester.virtualMachine.efiEnabled')\"\n          :mode=\"mode\"\n        />\n\n        <Checkbox\n          v-if=\"efiEnabled\"\n          v-model=\"secureBoot\"\n          class=\"check\"\n          type=\"checkbox\"\n          :label=\"t('harvester.virtualMachine.secureBoot')\"\n          :mode=\"mode\"\n        />\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.virtualmachinetemplateversion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.virtualmachinetemplateversion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./harvesterhci.io.virtualmachinetemplateversion.vue?vue&type=template&id=a3b9508a\"\nimport script from \"./harvesterhci.io.virtualmachinetemplateversion.vue?vue&type=script&lang=js\"\nexport * from \"./harvesterhci.io.virtualmachinetemplateversion.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-517188b9] .yaml-editor{flex:1;min-height:200px}[data-v-517188b9] .yaml-editor .code-mirror .CodeMirror{position:static;height:auto;min-height:200px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.spec)?_c('CruResource',{attrs:{\"id\":\"vm\",\"done-route\":_vm.doneRoute,\"resource\":_vm.value,\"mode\":_vm.mode,\"can-yaml\":_vm.isSingle ? true : false,\"errors\":_vm.errors,\"generate-yaml\":_vm.generateYaml,\"apply-hooks\":_vm.applyHooks},on:{\"finish\":_vm.saveVM}},[(_vm.isCreate)?_c('RadioGroup',{staticClass:\"mb-20 vm-radio-group\",attrs:{\"name\":\"createInstanceMode\",\"options\":[true,false],\"disabled\":\"\",\"labels\":[_vm.t('harvester.virtualMachine.instance.single.label'), _vm.t('harvester.virtualMachine.instance.multiple.label')]},model:{value:(_vm.isSingle),callback:function ($$v) {_vm.isSingle=$$v},expression:\"isSingle\"}}):_vm._e(),_c('NameNsDescription',{attrs:{\"mode\":_vm.mode,\"has-extra\":!_vm.isSingle,\"name-label\":_vm.nameLabel,\"namespaced\":true,\"name-placeholder\":_vm.isSingle ? 'nameNsDescription.name.placeholder' : 'harvester.virtualMachine.instance.multiple.nameNsDescription',\"extra-columns\":_vm.isSingle ? [] :['type']},scopedSlots:_vm._u([{key:\"type\",fn:function(){return [(!_vm.isSingle)?_c('LabeledInput',{directives:[{name:\"int-number\",rawName:\"v-int-number\"}],attrs:{\"type\":\"number\",\"label\":_vm.t('harvester.virtualMachine.instance.multiple.count'),\"required\":\"\"},on:{\"input\":_vm.validateCount},model:{value:(_vm.count),callback:function ($$v) {_vm.count=_vm._n($$v)},expression:\"count\"}}):_vm._e()]},proxy:true}],null,false,4082063570),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),(_vm.isCreate)?_c('Checkbox',{staticClass:\"check mb-20\",attrs:{\"type\":\"checkbox\",\"label-key\":\"harvester.virtualMachine.useTemplate.label\"},model:{value:(_vm.useTemplate),callback:function ($$v) {_vm.useTemplate=$$v},expression:\"useTemplate\"}}):_vm._e(),(_vm.useTemplate)?_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label-key\":\"harvester.virtualMachine.useTemplate.template.label\",\"options\":_vm.templateOptions},on:{\"input\":_vm.updateTemplateId},model:{value:(_vm.templateId),callback:function ($$v) {_vm.templateId=$$v},expression:\"templateId\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label-key\":\"harvester.virtualMachine.useTemplate.version.label\",\"options\":_vm.versionOptions},model:{value:(_vm.templateVersionId),callback:function ($$v) {_vm.templateVersionId=$$v},expression:\"templateVersionId\"}})],1)]):_vm._e(),_c('Tabbed',{attrs:{\"side-tabs\":true},on:{\"changed\":_vm.onTabChanged}},[_c('Tab',{attrs:{\"name\":\"basics\",\"label\":_vm.t('harvester.virtualMachine.detail.tabs.basics')}},[_c('CpuMemory',{attrs:{\"cpu\":_vm.cpu,\"memory\":_vm.memory,\"mode\":_vm.mode},on:{\"updateCpuMemory\":_vm.updateCpuMemory}}),_c('SSHKey',{staticClass:\"mb-20\",attrs:{\"namespace\":_vm.value.metadata.namespace,\"mode\":_vm.mode,\"disabled\":_vm.isWindows},on:{\"update:sshKey\":_vm.updateSSHKey,\"register-after-hook\":_vm.registerAfterHook},model:{value:(_vm.sshKey),callback:function ($$v) {_vm.sshKey=$$v},expression:\"sshKey\"}})],1),_c('Tab',{attrs:{\"name\":\"Volume\",\"label\":_vm.t('harvester.tab.volume'),\"weight\":-1}},[_c('Volume',{attrs:{\"mode\":_vm.mode,\"custom-volume-mode\":_vm.customVolumeMode,\"namespace\":_vm.value.metadata.namespace,\"resource-type\":_vm.value.type,\"vm\":_vm.value,\"validate-required\":true},model:{value:(_vm.diskRows),callback:function ($$v) {_vm.diskRows=$$v},expression:\"diskRows\"}})],1),_c('Tab',{attrs:{\"name\":\"Network\",\"label\":_vm.t('harvester.tab.network'),\"weight\":-2}},[_c('Network',{attrs:{\"namespace\":_vm.value.metadata.namespace,\"mode\":_vm.mode,\"is-single\":_vm.isSingle},model:{value:(_vm.networkRows),callback:function ($$v) {_vm.networkRows=$$v},expression:\"networkRows\"}})],1),_c('Tab',{attrs:{\"name\":\"nodeScheduling\",\"label\":_vm.t('workload.container.titles.nodeScheduling'),\"weight\":-3},scopedSlots:_vm._u([{key:\"default\",fn:function({active}){return [_c('NodeScheduling',{key:active,attrs:{\"mode\":_vm.mode,\"value\":_vm.spec.template.spec,\"nodes\":_vm.nodesIdOptions}})]}}],null,false,4193668642)}),_c('Tab',{attrs:{\"label\":_vm.t('harvester.tab.gpu'),\"name\":\"pciDevices\",\"weight\":-4}},[_c('PciDevices',{attrs:{\"mode\":_vm.mode,\"value\":_vm.spec.template.spec,\"vm\":_vm.value}})],1),(_vm.isEdit)?_c('Tab',{attrs:{\"label\":_vm.t('harvester.tab.accessCredentials'),\"name\":\"accessCredentials\",\"weight\":-5}},[_c('AccessCredentials',{attrs:{\"mode\":_vm.mode,\"resource\":_vm.value,\"is-qemu-installed\":_vm.isQemuInstalled},model:{value:(_vm.accessCredentials),callback:function ($$v) {_vm.accessCredentials=$$v},expression:\"accessCredentials\"}})],1):_vm._e(),_c('Tab',{attrs:{\"name\":\"advanced\",\"label\":_vm.t('harvester.tab.advanced'),\"weight\":-5}},[_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label-key\":\"harvester.virtualMachine.runStrategy\",\"options\":_vm.RunStrategys,\"mode\":_vm.mode},model:{value:(_vm.runStrategy),callback:function ($$v) {_vm.runStrategy=$$v},expression:\"runStrategy\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label-key\":\"harvester.virtualMachine.osType\",\"options\":_vm.OS,\"disabled\":!_vm.isCreate},model:{value:(_vm.osType),callback:function ($$v) {_vm.osType=$$v},expression:\"osType\"}})],1)]),_c('div',{staticClass:\"row mb-20\"},[(_vm.showAdvanced)?_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('harvester.generic.showMore'),expression:\"'harvester.generic.showMore'\"}],attrs:{\"role\":\"button\"},on:{\"click\":_vm.toggleAdvanced}}):_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('harvester.generic.showMore'),expression:\"'harvester.generic.showMore'\"}],attrs:{\"role\":\"button\"},on:{\"click\":_vm.toggleAdvanced}})]),(_vm.showAdvanced)?_c('div',{staticClass:\"mb-20\"},[_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{attrs:{\"label-key\":_vm.hostnameLabel,\"placeholder\":_vm.hostPlaceholder,\"mode\":_vm.mode},model:{value:(_vm.hostname),callback:function ($$v) {_vm.hostname=$$v},expression:\"hostname\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label-key\":\"harvester.virtualMachine.input.MachineType\",\"options\":_vm.machineTypeOptions,\"mode\":_vm.mode},model:{value:(_vm.machineType),callback:function ($$v) {_vm.machineType=$$v},expression:\"machineType\"}})],1)])]):_vm._e(),_c('CloudConfig',{ref:\"yamlEditor\",attrs:{\"user-script\":_vm.userScript,\"mode\":_vm.mode,\"view-code\":_vm.isWindows,\"namespace\":_vm.value.metadata.namespace,\"network-script\":_vm.networkScript},on:{\"updateUserData\":_vm.updateUserData,\"updateNetworkData\":_vm.updateNetworkData,\"updateDataTemplateId\":_vm.updateDataTemplateId}}),_c('Checkbox',{staticClass:\"check mt-20\",attrs:{\"type\":\"checkbox\",\"tooltip-key\":\"harvester.virtualMachine.usbTip\",\"label-key\":\"harvester.virtualMachine.enableUsb\",\"mode\":_vm.mode},model:{value:(_vm.installUSBTablet),callback:function ($$v) {_vm.installUSBTablet=$$v},expression:\"installUSBTablet\"}}),_c('Checkbox',{staticClass:\"check\",attrs:{\"type\":\"checkbox\",\"disabled\":_vm.isWindows,\"label-key\":\"harvester.virtualMachine.installAgent\",\"mode\":_vm.mode},on:{\"input\":_vm.updateAgent},model:{value:(_vm.installAgent),callback:function ($$v) {_vm.installAgent=$$v},expression:\"installAgent\"}}),_c('Checkbox',{staticClass:\"check\",attrs:{\"type\":\"checkbox\",\"label\":_vm.t('harvester.virtualMachine.efiEnabled'),\"mode\":_vm.mode},model:{value:(_vm.efiEnabled),callback:function ($$v) {_vm.efiEnabled=$$v},expression:\"efiEnabled\"}}),(_vm.efiEnabled)?_c('Checkbox',{staticClass:\"check\",attrs:{\"type\":\"checkbox\",\"label\":_vm.t('harvester.virtualMachine.secureBoot'),\"mode\":_vm.mode},model:{value:(_vm.secureBoot),callback:function ($$v) {_vm.secureBoot=$$v},expression:\"secureBoot\"}}):_vm._e()],1)],1),_c('RestartVMDialog',{ref:\"restartDialog\",attrs:{\"vm\":_vm.value}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.oldFormatDevices.length > 0)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12\"},[_c('Banner',{attrs:{\"color\":\"warning\"}},[_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.t('harvester.pci.oldFormatDevices.help', {oldFormatDevicesHTML: _vm.oldFormatDevicesHTML}, true))}})])],1)]):_c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12\"},[_c('Banner',{attrs:{\"color\":\"info\"}},[_c('t',{attrs:{\"k\":\"harvester.pci.howToUseDevice\"}})],1),(_vm.selectedDevices.length > 0)?_c('Banner',{attrs:{\"color\":\"info\"}},[_c('t',{attrs:{\"k\":\"harvester.pci.deviceInTheSameHost\"}})],1):_vm._e()],1)]),(_vm.enabledDevices.length)?[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label\":\"Available GPUs\",\"searchable\":\"\",\"multiple\":\"\",\"taggable\":\"\",\"options\":_vm.deviceOpts,\"mode\":_vm.mode},scopedSlots:_vm._u([{key:\"option\",fn:function(option){return [_c('span',[_vm._v(_vm._s(option.value)+\" \"),_c('span',{staticClass:\"text-label\"},[_vm._v(\"(\"+_vm._s(option.displayLabel)+\")\")])])]}}],null,false,975880344),model:{value:(_vm.selectedDevices),callback:function ($$v) {_vm.selectedDevices=$$v},expression:\"selectedDevices\"}})],1)]),(_vm.compatibleNodes.length && _vm.selectedDevices.length)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12 text-muted\"},[_vm._v(\" Compatible hosts: \"),_vm._l((_vm.compatibleNodes),function(node,idx){return _c('span',{key:node},[_vm._v(_vm._s(node)+_vm._s(idx < _vm.compatibleNodes.length-1 ? ', ' : ''))])})],2)]):(_vm.selectedDevices.length)?_c('div',{staticClass:\"text-error\"},[_vm._v(\" \"+_vm._s(_vm.t('harvester.pci.impossibleSelection'))+\" \")]):_vm._e(),(_vm.showMatrix)?_c('div',{staticClass:\"row mt-20\"},[_c('div',{staticClass:\"col span-12\"},[_c('CompatibilityMatrix',{attrs:{\"enabled-devices\":_vm.enabledDevices,\"devices-by-node\":_vm.devicesByNode,\"devices-in-use\":_vm.devicesInUse}})],1)]):_vm._e()]:_vm._e(),_c('div',{staticClass:\"row mt-20\"},[_c('div',{staticClass:\"col span-12\"},[_c('DeviceList',{attrs:{\"allgpu\":_vm.pciDevices,\"node\":_vm.node,\"schema\":_vm.pciDeviceSchema,\"rows\":_vm.filterByGroup},on:{\"submit\":function($event){$event.preventDefault();}}})],1)])],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"compat-matrix\"},[_c('div',{staticClass:\"device-col node-names\"},[_c('div',{staticClass:\"blank-corner\"},[_c('div',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm.t('harvester.pci.matrixDeviceClaimName'))+\" \")]),_c('div',[_vm._v(_vm._s(_vm.t('harvester.pci.matrixHostName')))])]),_vm._l((_vm.allNodeNames),function(nodeName){return _c('div',{key:nodeName,staticClass:\"node-label\"},[_c('span',[_vm._v(\" \"+_vm._s(nodeName))])])})],2),_vm._l((_vm.enabledDevices),function(deviceCRD){return _c('div',{key:deviceCRD.metadata.name,staticClass:\"device-col\"},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.deviceTooltip(deviceCRD)),expression:\"deviceTooltip(deviceCRD)\"}],staticClass:\"compat-cell device-label\",class:{'text-muted': _vm.noneAvailable(deviceCRD)}},[_vm._v(\" \"+_vm._s(deviceCRD.metadata.name)+\" \")]),_vm._l((_vm.allNodeNames),function(nodeName){return _c('div',{key:nodeName,staticClass:\"compat-cell\",class:{'has-device': _vm.nodeHasDevice(nodeName, deviceCRD)}})})],2)})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nexport default {\n  props: {\n    /**\n     * deviceId/vendorId is unique per type of device - there may be multiple pciDevice CRD objects for a given device\n     * {\n     *  [deviceId/vendorId]: {\n     *      nodes: array of devicecrd.status.nodeName's for given device,\n     *      deviceCRDs: array of all instances (pciDevice CRD) of given device\n     *      }\n     * }\n     */\n    enabledDevices: {\n      type:     Array,\n      required: true\n    },\n    /**\n * {\n *  [node name]: [devices]\n * }\n */\n    devicesByNode: {\n      type:     Object,\n      required: true\n    },\n\n    /**\n * {\n *  [deviceCRD.status.resourceName]: {\n *      count: number of this device in use by other vms\n *      usedBy: [names of all vms using this device]\n *    }\n * }\n */\n\n    devicesInUse: {\n      type:    Object,\n      default: () => {}\n    }\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n    allNodeNames() {\n      return Object.keys(this.devicesByNode);\n    },\n\n    allDeviceIds() {\n      return Object.keys(this.uniqueDevices);\n    }\n  },\n\n  methods: {\n    nodeNameFromId(id) {\n      return this.devicesByNode[id]?.name;\n    },\n\n    nodeHasDevice(nodeName, deviceCRD) {\n      return deviceCRD.status.nodeName === nodeName;\n    },\n\n    noneAvailable(deviceCRD) {\n      const name = deviceCRD.metadata?.name;\n\n      return !!this.devicesInUse[name];\n    },\n\n    deviceTooltip(deviceCRD) {\n      return `${ deviceCRD?.status?.resourceName }<br/>${ deviceCRD?.status?.description }`;\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"compat-matrix\">\n    <div class=\"device-col node-names\">\n      <div class=\"blank-corner\">\n        <div class=\"text-right\">\n          {{ t('harvester.pci.matrixDeviceClaimName') }}\n        </div>\n        <div>{{ t('harvester.pci.matrixHostName') }}</div>\n      </div>\n      <div\n        v-for=\"nodeName in allNodeNames\"\n        :key=\"nodeName\"\n        class=\"node-label\"\n      >\n        <span>  {{ nodeName }}</span>\n      </div>\n    </div>\n    <div\n      v-for=\"deviceCRD in enabledDevices\"\n      :key=\"deviceCRD.metadata.name\"\n      class=\"device-col\"\n    >\n      <div\n        v-tooltip=\"deviceTooltip(deviceCRD)\"\n        class=\"compat-cell device-label\"\n        :class=\"{'text-muted': noneAvailable(deviceCRD)}\"\n      >\n        {{ deviceCRD.metadata.name }}\n      </div>\n      <div\n        v-for=\"nodeName in allNodeNames\"\n        :key=\"nodeName\"\n        class=\"compat-cell\"\n        :class=\"{'has-device': nodeHasDevice(nodeName, deviceCRD)}\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang='scss'>\n.compat-matrix {\n    display: flex;\n}\n\n.device-col {\n    display: flex;\n    flex-direction: column;\n\n    border-right: 1px solid var(--border);\n\n    &>*{\n        border-bottom: 1px solid var(--border);\n    }\n}\n\n.compat-cell {\n    flex-basis: 1em;\n    padding: 0px 10px 0px 10px;\n\n    &.has-device {\n        background-color: var(--info-banner-bg);\n    }\n}\n\n.node-label, .device-label {\n    display: flex;\n    align-items: center;\n    color: var(--input-label);\n}\n\n.node-label{\n    padding: 0 10px;\n    justify-content: center;\n}\n\n.node-label, .device-label, .compat-cell, .blank-corner {\n    flex-basis: calc(2em + 10px);\n}\n\n.blank-corner {\n  background: linear-gradient(\n              to top right,\n              #fff 0%,\n              #fff calc(50% - 1px),\n                var(--body-text) 50%,\n              #fff calc(50% + 1px),\n              #fff 100%\n           );\n\n  DIV.text-right {\n    padding-left: 80px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CompatibilityMatrix.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CompatibilityMatrix.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CompatibilityMatrix.vue?vue&type=template&id=7b101210\"\nimport script from \"./CompatibilityMatrix.vue?vue&type=script&lang=js\"\nexport * from \"./CompatibilityMatrix.vue?vue&type=script&lang=js\"\nimport style0 from \"./CompatibilityMatrix.vue?vue&type=style&index=0&id=7b101210&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { _EDIT } from '@shell/config/query-params';\nimport { allHash } from '@shell/utils/promise';\nimport { HCI, PRODUCT_NAME } from '../../../types';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport Banner from '@components/Banner/Banner.vue';\nimport CompatibilityMatrix from './CompatibilityMatrix';\nimport DeviceList from './DeviceList';\n\nimport remove from 'lodash/remove';\nimport { get, set } from '@shell/utils/object';\n\nexport default {\n  name:       'VirtualMachinePCIDevices',\n  components: {\n    LabeledSelect,\n    DeviceList,\n    CompatibilityMatrix,\n    Banner\n  },\n  props: {\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n    // spec.template.spec\n    value: {\n      type:    Object,\n      default: () => {}\n    },\n\n    vm: {\n      type:    Object,\n      default: () => {}\n    }\n  },\n\n  async fetch() {\n    const hash = {\n      // claims fetched here so synchronous pciDevice model property works\n      pciDevices: this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.PCI_DEVICE }),\n      claims:     this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.PCI_CLAIM }),\n      vms:        this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM }),\n      node:       this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: 'node' })\n\n    };\n\n    const res = await allHash(hash);\n\n    for (const key in res) {\n      this[key] = res[key];\n    }\n\n    const selectedDevices = [];\n    const oldFormatDevices = [];\n\n    (this.value?.domain?.devices?.gpus || []).forEach(({ name, deviceName }) => {\n      const checkName = (deviceName || '').split('/')?.[1];\n\n      if (checkName && name.includes(checkName)) {\n        oldFormatDevices.push(name);\n      } else if (this.enabledDevices.find((device) => device?.metadata?.name === name)) {\n        selectedDevices.push(name);\n      }\n    });\n\n    if (oldFormatDevices.length > 0) {\n      this.oldFormatDevices = oldFormatDevices;\n    } else {\n      this.selectedDevices = selectedDevices;\n    }\n  },\n\n  data() {\n    return {\n      pciDevices:       [],\n      claims:           [],\n      vms:              [],\n      node:             [],\n      selectedDevices:  [],\n      pciDeviceSchema:  this.$store.getters[`${ PRODUCT_NAME }/schemaFor`](HCI.PCI_DEVICE),\n      showMatrix:       false,\n      oldFormatDevices: [],\n    };\n  },\n\n  watch: {\n    selectedDevices(neu) {\n      const formatted = neu.map((selectedDevice) => {\n        const deviceCRD = this.enabledDevices.find((device) => device.metadata.name === selectedDevice);\n        const deviceName = deviceCRD?.status?.resourceName;\n\n        return {\n          deviceName,\n          name: deviceCRD?.metadata.name,\n        };\n      });\n\n      set(this.value.domain.devices, 'gpus', formatted);\n    }\n  },\n\n  computed: {\n    // user can only select devices for whcih pci passthrough is enabled/claimed by them - determined by finding the associated passthrough CRD\n    enabledDevices() {\n      return this.filterByGroup.filter((device) => {\n        return device.isEnabled && device.claimedByMe;\n      }) || [];\n    },\n\n    // find devices in use by other VMs and sum the number of each device already in use\n    devicesInUse() {\n      const inUse = this.vms.reduce((inUse, vm) => {\n        // dont count devices in this vm as 'disabled' if they're just being used in the vm currently being edited\n        if (vm.metadata.name === this.vm?.metadata?.name) {\n          return inUse;\n        }\n        const devices = get(vm, 'spec.template.spec.domain.devices.hostDevices') || [];\n\n        devices.forEach((device) => {\n          inUse[device.name] = { usedBy: [vm.metadata.name] };\n        });\n\n        return inUse;\n      }, {});\n\n      return inUse;\n    },\n\n    devicesByNode() {\n      const out = {};\n\n      this.enabledDevices.forEach((deviceCRD) => {\n        const nodeName = deviceCRD.status?.nodeName;\n\n        if (!out[nodeName]) {\n          out[nodeName] = [deviceCRD];\n        } else {\n          out[nodeName].push(deviceCRD);\n        }\n      });\n\n      return out;\n    },\n\n    // determine which nodes contain all devices selected\n    compatibleNodes() {\n      const out = [...Object.keys(this.devicesByNode)];\n\n      this.selectedDevices.forEach((deviceUid) => {\n        remove(out, (nodeName) => {\n          const device = this.enabledDevices.find((deviceCRD) => deviceCRD.metadata.name === deviceUid);\n\n          return device.status.nodeName !== nodeName;\n        });\n      });\n\n      return out;\n    },\n\n    // Filter the first device of the GPU through the group\n    filterByGroup() {\n      const groupedData = {};\n      const minItemGroup = [];\n      const gpuNode = [];\n\n      this.node.forEach((node) => {\n        if (node.metadata.labels['gpu.infortrend.com/vm-gpu-mode'] === 'true') {\n          gpuNode.push(node.metadata.name);\n        }\n      });\n\n      // Sort by group\n      this.pciDevices.forEach((item) => {\n        if (item.status.vendorId === '10de') {\n          if (!groupedData[item.status.iommuGroup]) {\n            groupedData[item.status.iommuGroup] = [];\n          }\n          groupedData[item.status.iommuGroup].push(item);\n        }\n      });\n\n      for (const group in groupedData) {\n        const groupItems = groupedData[group];\n        const minItem = groupItems.reduce((min, item) => (item.status.address < min.status.address ? item : min), groupItems[0]);\n\n        minItemGroup.push(minItem);\n      }\n\n      const filterPciDevices = minItemGroup.filter((device) => {\n        return gpuNode.includes(device.status.nodeName);\n      }) || [];\n\n      return filterPciDevices;\n    },\n\n    // format an array of available devices for the dropdown\n    deviceOpts() {\n      const filteredOptions = this.enabledDevices.filter((deviceCRD) => {\n        if (this.selectedDevices.length > 0) {\n          const selectedDevice = this.enabledDevices.find((device) => device.metadata.name === this.selectedDevices[0]);\n\n          return !this.devicesInUse[deviceCRD?.metadata.name] && deviceCRD.status.nodeName === selectedDevice.status.nodeName;\n        }\n\n        return !this.devicesInUse[deviceCRD?.metadata.name];\n      });\n\n      return filteredOptions.map((deviceCRD) => {\n        return {\n          value:        deviceCRD?.metadata.name,\n          label:        deviceCRD?.metadata.name,\n          displayLabel: deviceCRD?.status?.resourceName,\n        };\n      });\n    },\n\n    oldFormatDevicesHTML() {\n      return this.oldFormatDevices.map((device) => {\n        return `<li>${ device }</li>`;\n      }).join('');\n    },\n  },\n\n  methods: {\n    nodeNameFromUid(uid) {\n      for (const deviceUid in this.uniqueDevices) {\n        const nodes = this.uniqueDevices[deviceUid].nodes;\n        const thisNode = nodes.find((node) => node.systemUUID === uid);\n\n        if (thisNode) {\n          return thisNode.name;\n        }\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div\n      v-if=\"oldFormatDevices.length > 0\"\n      class=\"row\"\n    >\n      <div class=\"col span-12\">\n        <Banner color=\"warning\">\n          <p v-html=\"t('harvester.pci.oldFormatDevices.help', {oldFormatDevicesHTML}, true)\" />\n        </Banner>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"row\">\n        <div class=\"col span-12\">\n          <Banner color=\"info\">\n            <t k=\"harvester.pci.howToUseDevice\" />\n          </Banner>\n          <Banner\n            v-if=\"selectedDevices.length > 0\"\n            color=\"info\"\n          >\n            <t k=\"harvester.pci.deviceInTheSameHost\" />\n          </Banner>\n        </div>\n      </div>\n      <template v-if=\"enabledDevices.length\">\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"selectedDevices\"\n              label=\"Available GPUs\"\n              searchable\n              multiple\n              taggable\n              :options=\"deviceOpts\"\n              :mode=\"mode\"\n            >\n              <template #option=\"option\">\n                <span>{{ option.value }} <span class=\"text-label\">({{ option.displayLabel }})</span></span>\n              </template>\n            </LabeledSelect>\n          </div>\n        </div>\n        <div\n          v-if=\"compatibleNodes.length && selectedDevices.length\"\n          class=\"row\"\n        >\n          <div class=\"col span-12 text-muted\">\n            Compatible hosts:\n            <!-- eslint-disable-next-line vue/no-parsing-error -->\n            <span\n              v-for=\"(node, idx) in compatibleNodes\"\n              :key=\"node\"\n            >{{ node }}{{ idx &lt; compatibleNodes.length-1 ? ', ' : '' }}</span>\n          </div>\n        </div>\n        <div\n          v-else-if=\"selectedDevices.length\"\n          class=\"text-error\"\n        >\n          {{ t('harvester.pci.impossibleSelection') }}\n        </div>\n        <!--<button\n          type=\"button\"\n          class=\"btn btn-sm role-link pl-0\"\n          @click=\"e=>{showMatrix = !showMatrix; e.target.blur()}\"\n        >\n          {{ showMatrix ? t('harvester.pci.hideCompatibility') : t('harvester.pci.showCompatibility') }}\n        </button>-->\n        <div\n          v-if=\"showMatrix\"\n          class=\"row mt-20\"\n        >\n          <div class=\"col span-12\">\n            <CompatibilityMatrix\n              :enabled-devices=\"enabledDevices\"\n              :devices-by-node=\"devicesByNode\"\n              :devices-in-use=\"devicesInUse\"\n            />\n          </div>\n        </div>\n      </template>\n      <div class=\"row mt-20\">\n        <div class=\"col span-12\">\n          <DeviceList\n            :allgpu=\"pciDevices\"\n            :node=\"node\"\n            :schema=\"pciDeviceSchema\"\n            :rows=\"filterByGroup\"\n            @submit.prevent\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6e24ecb0\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport isEqual from 'lodash/isEqual';\nimport { mapGetters } from 'vuex';\n\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport CruResource from '@shell/components/CruResource';\nimport { RadioGroup } from '@components/Form/Radio';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { STORAGE_CLASS } from '@shell/config/types';\n\n// import Reserved from './VirtualMachineReserved';\nimport SSHKey from './VirtualMachineSSHKey';\nimport Volume from './VirtualMachineVolume';\nimport Network from './VirtualMachineNetwork';\nimport CpuMemory from './VirtualMachineCpuMemory';\nimport CloudConfig from './VirtualMachineCloudConfig';\nimport NodeScheduling from '@shell/components/form/NodeScheduling';\nimport AccessCredentials from './VirtualMachineAccessCredentials';\nimport PciDevices from './VirtualMachinePciDevices/index';\nimport RestartVMDialog from '../../dialog/RestartVMDialog';\n\nimport { clear } from '@shell/utils/array';\nimport { clone } from '@shell/utils/object';\nimport { HCI, PRODUCT_NAME } from '../../types';\nimport { RunStrategys } from '../../config/harvester-map';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport { BEFORE_SAVE_HOOKS, AFTER_SAVE_HOOKS } from '@shell/mixins/child-hook';\n\nimport VM_MIXIN from '../../mixins/harvester-vm';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nexport default {\n  name: 'HarvesterEditVM',\n\n  components: {\n    Tab,\n    Tabbed,\n    Checkbox,\n    RadioGroup,\n    CruResource,\n    LabeledInput,\n    LabeledSelect,\n    NameNsDescription,\n    Volume,\n    SSHKey,\n    Network,\n    CpuMemory,\n    CloudConfig,\n    NodeScheduling,\n    AccessCredentials,\n    // Reserved,\n    PciDevices,\n    RestartVMDialog\n  },\n\n  mixins: [CreateEditView, VM_MIXIN],\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  data() {\n    const cloneVM = clone(this.value);\n    const isRestartImmediately = this.value.actualState === 'Running';\n\n    const hostname = this.value.spec.template.spec.hostname || '';\n    const allStorage = this.$store.getters[`${ PRODUCT_NAME }/all`](STORAGE_CLASS).find( (O) => O.isDefault);\n    const defaultStorage = allStorage?.metadata?.name || 'nfs-csi';\n\n    return {\n      cloneVM,\n      count:             2,\n      templateId:        '',\n      templateVersionId: '',\n      namePrefix:        '',\n      isSingle:          true,\n      useTemplate:       false,\n      hostname,\n      isRestartImmediately,\n      RunStrategys,\n      defaultStorage,\n    };\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    machineTypeOptions() {\n      return [{\n        label: 'None',\n        value: ''\n      }, {\n        label: 'q35',\n        value: 'q35'\n      }, {\n        label: 'pc',\n        value: 'pc'\n      }];\n    },\n\n    templateOptions() {\n      return this.templates.map( (T) => {\n        const isReady = this.hasAvailableVersion(T.id);\n\n        return {\n          label:    T.id,\n          value:    T.id,\n          disabled: !isReady\n        };\n      });\n    },\n\n    versionOptions() {\n      const defaultVersion = this.curTemplateResource?.defaultVersion;\n\n      return this.versions.filter( (O) => O.templateId === this.templateId).map( (T) => {\n        const version = T.version;\n\n        const label = defaultVersion === version ? `${ version } (${ this.t('generic.default') })` : version;\n        const value = T.id;\n\n        return {\n          label,\n          value,\n          disabled: !T.isReady\n        };\n      });\n    },\n\n    curTemplateResource() {\n      return this.templates.find( (O) => O.id === this.templateId);\n    },\n\n    nameLabel() {\n      return this.isSingle ? 'harvester.virtualMachine.instance.single.nameLabel' : 'harvester.virtualMachine.instance.multiple.nameLabel';\n    },\n\n    hostnameLabel() {\n      return this.isSingle ? 'harvester.virtualMachine.instance.single.host.label' : 'harvester.virtualMachine.instance.multiple.host.label';\n    },\n\n    hostPlaceholder() {\n      return this.isSingle ? this.t('harvester.virtualMachine.instance.single.host.placeholder') : this.t('harvester.virtualMachine.instance.multiple.host.placeholder');\n    },\n\n    secretNamePrefix() {\n      return this.value?.metadata?.name;\n    },\n\n    isQemuInstalled() {\n      return this.value.isQemuInstalled;\n    },\n\n    hasRestartAction() {\n      return this.value.hasAction('restart');\n    },\n\n    hasStartAction() {\n      return this.value.hasAction('start');\n    },\n  },\n\n  watch: {\n    templateId: {\n      async handler(id, old) {\n        if (!id) {\n          return;\n        }\n        if (id !== old && !this.templateVersionId) {\n          const templates = await this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM_TEMPLATE });\n\n          this.templateVersionId = templates.find( (O) => O.id === id)?.spec?.defaultVersionId;\n        }\n      },\n      immediate: false\n    },\n\n    templateVersionId: {\n      async handler(id) {\n        if (!id) {\n          return;\n        }\n        const versions = await this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM_VERSION });\n        const curVersion = versions.find( (V) => V.id === id);\n        const cloneVersionVM = clone(curVersion.spec.vm);\n\n        delete cloneVersionVM.spec?.template?.spec?.accessCredentials;\n        delete cloneVersionVM.spec?.template?.metadata?.annotations?.[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_NAMES];\n        delete cloneVersionVM.spec?.template?.metadata?.annotations?.[HCI_ANNOTATIONS.DYNAMIC_SSHKEYS_USERS];\n\n        const claimTemplate = this.getVolumeClaimTemplates(cloneVersionVM);\n\n        const deleteDataSource = claimTemplate.map((volume) => {\n          if (volume?.spec?.dataSource) {\n            delete volume.spec.dataSource;\n          }\n\n          return volume;\n        });\n\n        cloneVersionVM.metadata.annotations[HCI_ANNOTATIONS.VOLUME_CLAIM_TEMPLATE] = JSON.stringify(deleteDataSource);\n\n        this.getInitConfig({\n          value: cloneVersionVM, existUserData: true, fromTemplate: true\n        });\n        this.$set(this, 'hasCreateVolumes', []); // When using the template, all volume names need to be newly created\n        // const claimTemplate = this.getVolumeClaimTemplates(cloneVersionVM);\n        // this.value.metadata.annotations[HCI_ANNOTATIONS.VOLUME_CLAIM_TEMPLATE] = JSON.stringify(claimTemplate);\n      }\n    },\n\n    useTemplate(neu) {\n      if (neu === false) {\n        this.templateId = '';\n        this.templateVersionId = '';\n        this.value.applyDefaults();\n        this.getInitConfig({ value: this.value, init: this.isCreate });\n      }\n    },\n  },\n\n  created() {\n    this.registerAfterHook(async() => {\n      await this.restartVM();\n      const id = `${ this.value.metadata.namespace }/${ this.value.metadata.name }`;\n      const res = this.$store.getters[`${ PRODUCT_NAME }/byId`](HCI.VM, id);\n\n      try {\n        await this.saveSecret(res);\n        await this.saveAccessCredentials(res);\n      } catch (e) {\n        this.errors.push(...exceptionToErrorsArray(e));\n      }\n\n      if (!this.errors.length && this.isSingle) {\n        this.done();\n      }\n    });\n\n    if (this.registerBeforeHook) {\n      this.registerBeforeHook(this.updateBeforeSave);\n    }\n    const SCSetting = { name: this.defaultStorage };\n\n    this.value.metadata.annotations[HCI_ANNOTATIONS.SC_SETTING] = JSON.stringify(SCSetting);\n  },\n\n  mounted() {\n    this.imageId = this.$route.query?.image || this.imageId;\n\n    const diskRows = this.getDiskRows(this.value);\n\n    this.$set(this, 'diskRows', diskRows);\n    const templateId = this.$route.query.templateId;\n    const templateVersionId = this.$route.query.versionId;\n\n    if (templateId && templateVersionId) {\n      this.templateId = templateId;\n      this.templateVersionId = templateVersionId;\n      this.useTemplate = true;\n    }\n  },\n\n  methods: {\n    saveVM(buttonCb) {\n      clear(this.errors);\n\n      if (this.isSingle) {\n        this.saveSingle(buttonCb);\n      } else {\n        this.saveMultiple(buttonCb);\n      }\n    },\n\n    async saveSingle(buttonCb) {\n      this.parseVM();\n      this.value.spec.template.spec.hostname = this.hostname ? this.hostname : this.value.metadata.name;\n      await this._save(this.value, buttonCb);\n      if (!this.errors.length) {\n        buttonCb(true);\n      } else {\n        buttonCb(false);\n      }\n    },\n\n    async saveMultiple(buttonCb) {\n      this.namePrefix = this.value.metadata.name || '';\n      const join = this.namePrefix.endsWith('-') ? '' : '-';\n      const baseHostname = this.hostname ? this.hostname : this.namePrefix;\n\n      if (this.count < 1) {\n        this.errors = [this.t('harvester.virtualMachine.instance.multiple.countTip')];\n        buttonCb(false);\n\n        return;\n      }\n\n      if (!this.value.metadata.name) {\n        this.errors.push(this.t('validation.required', { key: this.t('generic.name') }, true));\n        buttonCb(false);\n\n        return;\n      }\n\n      const cloneValue = clone(this.value);\n      const cloneSpec = clone(this.spec);\n\n      for (let i = 1; i <= this.count; i++) {\n        this.$set(this.value, 'spec', cloneValue.spec);\n        this.$set(this, 'spec', cloneSpec);\n        const suffix = i < 10 ? `0${ i }` : i;\n\n        this.value.cleanForNew();\n        this.value.metadata.name = `${ this.namePrefix }${ join }${ suffix }`;\n        this.$set(this.value.spec.template.spec, 'hostname', `${ baseHostname }${ join }${ suffix }`);\n        this.secretName = '';\n        await this.parseVM();\n        const basicValue = await this.$store.dispatch(`${ PRODUCT_NAME }/clone`, { resource: this.value });\n\n        await this._save(basicValue, buttonCb);\n\n        if (i === this.count && !this.errors.length) {\n          buttonCb(true);\n          this.done();\n        } else if (i === this.count) {\n          this.value.metadata.name = this.namePrefix;\n          buttonCb(false);\n        }\n      }\n    },\n\n    async _save(value, buttonCb) {\n      try {\n        await this.applyHooks(BEFORE_SAVE_HOOKS);\n        await value.save();\n        await this.applyHooks(AFTER_SAVE_HOOKS);\n      } catch (e) {\n        this.errors.push(...exceptionToErrorsArray(e));\n        buttonCb(false);\n      }\n    },\n\n    restartVM() {\n      if (this.mode !== 'edit') {\n        return;\n      }\n      if (!this.value.isRunning) {\n        return;\n      }\n      const cloneDeepNewVM = clone(this.value);\n\n      delete cloneDeepNewVM?.metadata;\n      delete this.cloneVM?.metadata;\n      delete this.cloneVM?.__clone;\n\n      const oldVM = JSON.parse(JSON.stringify(this.cloneVM));\n      const newVM = JSON.parse(JSON.stringify(cloneDeepNewVM));\n\n      if (isEqual(oldVM, newVM)) {\n        return;\n      }\n\n      return new Promise((resolve) => {\n        this.$modal.show('restartDialog');\n        this.$refs.restartDialog.resolve = resolve;\n      });\n    },\n\n    updateBeforeSave() {\n      if (this.isSingle) {\n        if (!this.value.spec.template.spec.hostname) {\n          this.$set(this.value.spec.template.spec, 'hostname', this.value.metadata.name);\n        }\n      }\n\n      const errors = this.getAccessCredentialsValidation();\n\n      if (errors.length > 0) {\n        return Promise.reject(errors);\n      } else {\n        return Promise.resolve();\n      }\n    },\n\n    validateCount(count) {\n      if (count > 10) {\n        this.$set(this, 'count', 10);\n      }\n    },\n\n    updateTemplateId() {\n      this.templateVersionId = '';\n    },\n\n    onTabChanged({ tab }) {\n      if (tab.name === 'advanced') {\n        this.$refs.yamlEditor?.refresh();\n      }\n    },\n\n    hasAvailableVersion(templateId) {\n      let hasAvailableVersion = false;\n\n      this.versions.filter( (O) => O.templateId === templateId).find( (T) => {\n        if (T.isReady) {\n          hasAvailableVersion = true;\n        }\n      });\n\n      return hasAvailableVersion;\n    },\n\n    generateYaml() {\n      this.parseVM();\n      const out = saferDump(this.value);\n\n      return out;\n    },\n  },\n};\n</script>\n\n<template>\n  <CruResource\n    v-if=\"spec\"\n    id=\"vm\"\n    :done-route=\"doneRoute\"\n    :resource=\"value\"\n    :mode=\"mode\"\n    :can-yaml=\"isSingle ? true : false\"\n    :errors=\"errors\"\n    :generate-yaml=\"generateYaml\"\n    :apply-hooks=\"applyHooks\"\n    @finish=\"saveVM\"\n  >\n    <RadioGroup\n      v-if=\"isCreate\"\n      v-model=\"isSingle\"\n      class=\"mb-20 vm-radio-group\"\n      name=\"createInstanceMode\"\n      :options=\"[true,false]\"\n      disabled\n      :labels=\"[t('harvester.virtualMachine.instance.single.label'), t('harvester.virtualMachine.instance.multiple.label')]\"\n    />\n\n    <NameNsDescription\n      v-model=\"value\"\n      :mode=\"mode\"\n      :has-extra=\"!isSingle\"\n      :name-label=\"nameLabel\"\n      :namespaced=\"true\"\n      :name-placeholder=\"isSingle ? 'nameNsDescription.name.placeholder' : 'harvester.virtualMachine.instance.multiple.nameNsDescription'\"\n      :extra-columns=\"isSingle ? [] :['type']\"\n    >\n      <template v-slot:type>\n        <LabeledInput\n          v-if=\"!isSingle\"\n          v-model.number=\"count\"\n          v-int-number\n          type=\"number\"\n          :label=\"t('harvester.virtualMachine.instance.multiple.count')\"\n          required\n          @input=\"validateCount\"\n        />\n      </template>\n    </NameNsDescription>\n\n    <Checkbox\n      v-if=\"isCreate\"\n      v-model=\"useTemplate\"\n      class=\"check mb-20\"\n      type=\"checkbox\"\n      label-key=\"harvester.virtualMachine.useTemplate.label\"\n    />\n\n    <div\n      v-if=\"useTemplate\"\n      class=\"row mb-20\"\n    >\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model=\"templateId\"\n          label-key=\"harvester.virtualMachine.useTemplate.template.label\"\n          :options=\"templateOptions\"\n          @input=\"updateTemplateId\"\n        />\n      </div>\n\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model=\"templateVersionId\"\n          label-key=\"harvester.virtualMachine.useTemplate.version.label\"\n          :options=\"versionOptions\"\n        />\n      </div>\n    </div>\n\n    <Tabbed\n      :side-tabs=\"true\"\n      @changed=\"onTabChanged\"\n    >\n      <Tab\n        name=\"basics\"\n        :label=\"t('harvester.virtualMachine.detail.tabs.basics')\"\n      >\n        <CpuMemory\n          :cpu=\"cpu\"\n          :memory=\"memory\"\n          :mode=\"mode\"\n          @updateCpuMemory=\"updateCpuMemory\"\n        />\n\n        <SSHKey\n          v-model=\"sshKey\"\n          class=\"mb-20\"\n          :namespace=\"value.metadata.namespace\"\n          :mode=\"mode\"\n          :disabled=\"isWindows\"\n          @update:sshKey=\"updateSSHKey\"\n          @register-after-hook=\"registerAfterHook\"\n        />\n      </Tab>\n\n      <Tab\n        name=\"Volume\"\n        :label=\"t('harvester.tab.volume')\"\n        :weight=\"-1\"\n      >\n        <Volume\n          v-model=\"diskRows\"\n          :mode=\"mode\"\n          :custom-volume-mode=\"customVolumeMode\"\n          :namespace=\"value.metadata.namespace\"\n          :resource-type=\"value.type\"\n          :vm=\"value\"\n          :validate-required=\"true\"\n        />\n      </Tab>\n\n      <Tab\n        name=\"Network\"\n        :label=\"t('harvester.tab.network')\"\n        :weight=\"-2\"\n      >\n        <Network\n          v-model=\"networkRows\"\n          :namespace=\"value.metadata.namespace\"\n          :mode=\"mode\"\n          :is-single=\"isSingle\"\n        />\n      </Tab>\n\n      <Tab\n        name=\"nodeScheduling\"\n        :label=\"t('workload.container.titles.nodeScheduling')\"\n        :weight=\"-3\"\n      >\n        <template #default=\"{active}\">\n          <NodeScheduling\n            :key=\"active\"\n            :mode=\"mode\"\n            :value=\"spec.template.spec\"\n            :nodes=\"nodesIdOptions\"\n          />\n        </template>\n      </Tab>\n\n      <Tab\n        :label=\"t('harvester.tab.gpu')\"\n        name=\"pciDevices\"\n        :weight=\"-4\"\n      >\n        <PciDevices\n          :mode=\"mode\"\n          :value=\"spec.template.spec\"\n          :vm=\"value\"\n        />\n      </Tab>\n\n      <Tab\n        v-if=\"isEdit\"\n        :label=\"t('harvester.tab.accessCredentials')\"\n        name=\"accessCredentials\"\n        :weight=\"-5\"\n      >\n        <AccessCredentials\n          v-model=\"accessCredentials\"\n          :mode=\"mode\"\n          :resource=\"value\"\n          :is-qemu-installed=\"isQemuInstalled\"\n        />\n      </Tab>\n\n      <Tab\n        name=\"advanced\"\n        :label=\"t('harvester.tab.advanced')\"\n        :weight=\"-5\"\n      >\n        <div class=\"row mb-20\">\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"runStrategy\"\n              label-key=\"harvester.virtualMachine.runStrategy\"\n              :options=\"RunStrategys\"\n              :mode=\"mode\"\n            />\n          </div>\n\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"osType\"\n              label-key=\"harvester.virtualMachine.osType\"\n              :options=\"OS\"\n              :disabled=\"!isCreate\"\n            />\n          </div>\n        </div>\n\n        <div class=\"row mb-20\">\n          <a\n            v-if=\"showAdvanced\"\n            v-t=\"'harvester.generic.showMore'\"\n            role=\"button\"\n            @click=\"toggleAdvanced\"\n          />\n          <a\n            v-else\n            v-t=\"'harvester.generic.showMore'\"\n            role=\"button\"\n            @click=\"toggleAdvanced\"\n          />\n        </div>\n\n        <div\n          v-if=\"showAdvanced\"\n          class=\"mb-20\"\n        >\n          <div class=\"row mb-20\">\n            <div class=\"col span-6\">\n              <LabeledInput\n                v-model=\"hostname\"\n                :label-key=\"hostnameLabel\"\n                :placeholder=\"hostPlaceholder\"\n                :mode=\"mode\"\n              />\n            </div>\n\n            <div class=\"col span-6\">\n              <LabeledSelect\n                v-model=\"machineType\"\n                label-key=\"harvester.virtualMachine.input.MachineType\"\n                :options=\"machineTypeOptions\"\n                :mode=\"mode\"\n              />\n            </div>\n          </div>\n\n          <!-- <Reserved\n            :reserved-memory=\"reservedMemory\"\n            :mode=\"mode\"\n            @updateReserved=\"updateReserved\"\n          /> -->\n        </div>\n\n        <CloudConfig\n          ref=\"yamlEditor\"\n          :user-script=\"userScript\"\n          :mode=\"mode\"\n          :view-code=\"isWindows\"\n          :namespace=\"value.metadata.namespace\"\n          :network-script=\"networkScript\"\n          @updateUserData=\"updateUserData\"\n          @updateNetworkData=\"updateNetworkData\"\n          @updateDataTemplateId=\"updateDataTemplateId\"\n        />\n\n        <Checkbox\n          v-model=\"installUSBTablet\"\n          class=\"check mt-20\"\n          type=\"checkbox\"\n          tooltip-key=\"harvester.virtualMachine.usbTip\"\n          label-key=\"harvester.virtualMachine.enableUsb\"\n          :mode=\"mode\"\n        />\n\n        <Checkbox\n          v-model=\"installAgent\"\n          class=\"check\"\n          type=\"checkbox\"\n          :disabled=\"isWindows\"\n          label-key=\"harvester.virtualMachine.installAgent\"\n          :mode=\"mode\"\n          @input=\"updateAgent\"\n        />\n\n        <Checkbox\n          v-model=\"efiEnabled\"\n          class=\"check\"\n          type=\"checkbox\"\n          :label=\"t('harvester.virtualMachine.efiEnabled')\"\n          :mode=\"mode\"\n        />\n\n        <Checkbox\n          v-if=\"efiEnabled\"\n          v-model=\"secureBoot\"\n          class=\"check\"\n          type=\"checkbox\"\n          :label=\"t('harvester.virtualMachine.secureBoot')\"\n          :mode=\"mode\"\n        />\n      </Tab>\n    </Tabbed>\n\n    <RestartVMDialog\n      ref=\"restartDialog\"\n      :vm=\"value\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n#vm {\n  ::v-deep .vm-radio-group .radio-group {\n    display: flex;\n    .radio-container {\n      margin-right: 30px;\n    }\n  }\n\n  .restart {\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .banner-right {\n    width: auto;\n    display: flex;\n    justify-items: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=79036326&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=79036326&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79036326\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.volume.vue?vue&type=style&index=0&id=7aebdcbb&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"21ac19ff\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.isView)?_c('Banner',{attrs:{\"color\":\"info\",\"label-key\":\"harvester.virtualMachine.volume.dragTip\"}}):_vm._e(),_c('draggable',{attrs:{\"disabled\":_vm.isView},on:{\"end\":_vm.update},model:{value:(_vm.rows),callback:function ($$v) {_vm.rows=$$v},expression:\"rows\"}},[_c('transition-group',_vm._l((_vm.rows),function(volume,i){return _c('div',{key:volume.id},[_c('InfoBox',{staticClass:\"box\"},[(!_vm.isView)?_c('button',{staticClass:\"role-link btn btn-sm remove\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeVolume(volume)}}},[_c('i',{staticClass:\"icon icon-x\"})]):_vm._e(),(volume.hotpluggable && _vm.isView)?_c('button',{staticClass:\"role-link btn remove\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.unplugVolume(volume)}}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.unplug.detachVolume'))+\" \")]):_vm._e(),_c('h3',[(volume.to && _vm.isVirtualType)?_c('span',{staticClass:\"title\"},[_c('n-link',{attrs:{\"to\":volume.to}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.volume.edit'))+\" \"+_vm._s(_vm.headerFor(volume.source))+\" \")]),(volume.pvc)?_c('BadgeStateFormatter',{staticClass:\"ml-10 state\",attrs:{\"arbitrary\":true,\"row\":volume.pvc,\"value\":volume.pvc.state}}):_vm._e(),(_vm.dev && !!volume.pvc.resourceExternalLink)?_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t(volume.pvc.resourceExternalLink.tipsKey || 'generic.resourceExternalLinkTips')),expression:\"t(volume.pvc.resourceExternalLink.tipsKey || 'generic.resourceExternalLinkTips')\"}],staticClass:\"ml-5 resource-external\",attrs:{\"rel\":\"nofollow noopener noreferrer\",\"target\":\"_blank\",\"href\":volume.pvc.resourceExternalLink.url}},[_c('i',{staticClass:\"icon icon-external-link\"})]):_vm._e()],1):_c('span',[_vm._v(\" \"+_vm._s(_vm.headerFor(volume.source))+\" \")])]),_c('div',[_c(_vm.componentFor(volume.source),{tag:\"component\",attrs:{\"rows\":_vm.rows,\"namespace\":_vm.namespace,\"is-create\":_vm.isCreate,\"is-edit\":_vm.isEdit,\"is-view\":_vm.isView,\"is-virtual-type\":_vm.isVirtualType,\"mode\":_vm.mode,\"idx\":i,\"validate-required\":_vm.validateRequired},on:{\"update\":_vm.update},model:{value:(_vm.rows[i]),callback:function ($$v) {_vm.$set(_vm.rows, i, $$v)},expression:\"rows[i]\"}})],1),_c('div',{staticClass:\"bootOrder\"},[(!_vm.isView)?_c('div',{staticClass:\"mr-15\"},[_c('button',{staticClass:\"btn btn-sm role-primary\",attrs:{\"disabled\":i === 0},on:{\"click\":function($event){$event.preventDefault();return _vm.changeSort(i, false)}}},[_c('i',{staticClass:\"icon icon-lg icon-chevron-up\"})]),_c('button',{staticClass:\"btn btn-sm role-primary\",attrs:{\"disabled\":i === _vm.rows.length -1},on:{\"click\":function($event){$event.preventDefault();return _vm.changeSort(i, true)}}},[_c('i',{staticClass:\"icon icon-lg icon-chevron-down\"})])]):_vm._e(),_c('div',{staticClass:\"text-muted\"},[_vm._v(\" bootOrder: \"+_vm._s(i + 1)+\" \")])]),(volume.volumeStatus && !_vm.isCreate)?_c('Banner',{staticClass:\"mt-15 volume-status\",attrs:{\"color\":\"warning\",\"label\":volume.volumeStatus}}):_vm._e()],1)],1)}),0)],1),(_vm.showVolumeTip)?_c('Banner',{attrs:{\"color\":\"warning\",\"label\":_vm.t('harvester.virtualMachine.volume.volumeTip')}}):_vm._e(),(!_vm.isView)?_c('div',[_c('button',{staticClass:\"btn btn-sm bg-primary mr-15 mb-10\",attrs:{\"type\":\"button\",\"disabled\":_vm.rows.length === 0},on:{\"click\":function($event){return _vm.addVolume(_vm.SOURCE_TYPE.NEW)}}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.volume.addVolume'))+\" \")]),(!_vm.existingVolumeDisabled)?_c('button',{staticClass:\"btn btn-sm bg-primary mr-15 mb-10\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addVolume(_vm.SOURCE_TYPE.ATTACH_VOLUME)}}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.volume.addExistingVolume'))+\" \")]):_vm._e(),_c('button',{staticClass:\"btn btn-sm bg-primary mr-15 mb-10\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addVolume(_vm.SOURCE_TYPE.IMAGE)}}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.volume.addVmImage'))+\" \")]),_c('button',{staticClass:\"btn btn-sm bg-primary mb-10\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addVolume(_vm.SOURCE_TYPE.CONTAINER)}}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.volume.addContainer'))+\" \")])]):_vm._e(),_c('ModalWithCard',{ref:\"deleteTip\",attrs:{\"name\":\"deleteTip\",\"width\":400},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.volume.unmount.title'))+\" \")]},proxy:true},{key:\"content\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.t('harvester.virtualMachine.volume.unmount.message')))])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"btn role-secondary mr-20\",on:{\"click\":function($event){$event.preventDefault();return _vm.cancel.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.t('generic.no'))+\" \")]),_c('button',{staticClass:\"btn bg-primary mr-20\",on:{\"click\":function($event){$event.preventDefault();return _vm.deleteVolume.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.t('generic.yes'))+\" \")])])]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport draggable from 'vuedraggable';\nimport InfoBox from '@shell/components/InfoBox';\nimport { Banner } from '@components/Banner';\nimport BadgeStateFormatter from '@shell/components/formatter/BadgeStateFormatter';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport ModalWithCard from '@shell/components/ModalWithCard';\n\nimport { PVC, STORAGE_CLASS } from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../../../types';\nimport { clone } from '@shell/utils/object';\nimport { removeObject } from '@shell/utils/array';\nimport { randomStr } from '@shell/utils/string';\nimport { SOURCE_TYPE } from '../../../config/harvester-map';\nimport { _VIEW, _EDIT, _CREATE } from '@shell/config/query-params';\nimport { PRODUCT_NAME as HARVESTER_PRODUCT } from '../../../config/harvester';\nimport { PLUGIN_DEVELOPER, DEV } from '@shell/store/prefs';\n\nexport default {\n  components: {\n    Banner, BadgeStateFormatter, draggable, InfoBox, LabeledInput, UnitInput, LabeledSelect, ModalWithCard\n  },\n\n  props: {\n    vm: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    value: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    namespace: {\n      type:    String,\n      default: null\n    },\n\n    existingVolumeDisabled: {\n      type:    Boolean,\n      default: false\n    },\n\n    validateRequired: {\n      type:    Boolean,\n      default: false\n    },\n\n    customVolumeMode: {\n      type:    String,\n      default: 'Block'\n    },\n\n    customAccessMode: {\n      type:    String,\n      default: 'ReadWriteMany'\n    },\n\n    resourceType: {\n      type:    String,\n      default: ''\n    }\n  },\n\n  async fetch() {\n    await this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: PVC });\n  },\n\n  data() {\n    return {\n      SOURCE_TYPE,\n      rows:    clone(this.value),\n      nameIdx: 1,\n      vol:     null\n    };\n  },\n\n  computed: {\n    dev() {\n      try {\n        return this.$store.getters['prefs/get'](PLUGIN_DEVELOPER);\n      } catch {\n        return this.$store.getters['prefs/get'](DEV);\n      }\n    },\n\n    isVirtualType() {\n      return this.resourceType === HCI.VM;\n    },\n\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    showVolumeTip() {\n      const imageName = this.getImageDisplayName(this.rows[0]?.image);\n\n      if (this.rows.length === 1 && this.rows[0].type === 'cd-rom' && /.iso$/i.test(imageName)) {\n        return true;\n      }\n\n      return false;\n    },\n\n    pvcs() {\n      return this.$store.getters[`${ PRODUCT_NAME }/all`](PVC) || [];\n    },\n  },\n\n  watch: {\n    value: {\n      handler(neu) {\n        const rows = neu.map((V) => {\n          if (!this.isCreate && V.source !== SOURCE_TYPE.CONTAINER && !V.newCreateId) {\n            V.to = {\n              name:   `${ HARVESTER_PRODUCT }-c-cluster-resource-namespace-id`,\n              params: {\n                resource:  HCI.VOLUME,\n                namespace: this.namespace,\n                id:        V.realName\n              },\n              query: { mode: _EDIT }\n            };\n\n            V.pvc = this.pvcs.find((pvc) => pvc.metadata.name === V.realName);\n          }\n\n          return V;\n        });\n\n        this.$set(this, 'rows', rows);\n      },\n      deep:      true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    addVolume(type) {\n      const name = this.generateName();\n      const neu = {\n        id:          randomStr(5),\n        name,\n        source:      type,\n        size:        '10Gi',\n        type:        'disk',\n        accessMode:  this.customAccessMode,\n        volumeMode:  this.customVolumeMode,\n        volumeName:  '',\n        bus:         'virtio',\n        newCreateId: randomStr(10), // judge whether it is a disk that has been created\n      };\n\n      if (type === SOURCE_TYPE.NEW) {\n        // const inStore = this.$store.getters['currentProduct'].inStore;\n        const defaultStorage = this.$store.getters[`${ PRODUCT_NAME }/all`](STORAGE_CLASS).find( (O) => O.isDefault);\n\n        neu.storageClassName = defaultStorage?.metadata?.name || 'longhorn';\n      }\n\n      this.rows.push(neu);\n      this.update();\n    },\n\n    generateName() {\n      let name = '';\n      let hasName = true;\n\n      while (hasName) {\n        name = `disk-${ this.nameIdx }`;\n        hasName = this.rows.find((O) => O.name === name);\n        this.nameIdx++;\n      }\n\n      return name;\n    },\n\n    removeVolume(vol) {\n      this.vol = vol;\n      if (!vol.newCreateId && this.isEdit && this.isVirtualType) {\n        this.$refs.deleteTip.open();\n      } else {\n        removeObject(this.rows, vol);\n        this.update();\n      }\n    },\n\n    unplugVolume(volume) {\n      this.vm.unplugVolume(volume.name);\n    },\n\n    componentFor(type) {\n      switch (type) {\n      case SOURCE_TYPE.NEW:\n        return require(`./type/volume.vue`).default;\n      case SOURCE_TYPE.IMAGE:\n        return require(`./type/vmImage.vue`).default;\n      case SOURCE_TYPE.ATTACH_VOLUME:\n        return require(`./type/existing.vue`).default;\n      case SOURCE_TYPE.CONTAINER:\n        return require(`./type/container.vue`).default;\n      }\n    },\n\n    headerFor(type) {\n      return {\n        [SOURCE_TYPE.NEW]:           this.$store.getters['i18n/t']('harvester.virtualMachine.volume.title.volume'),\n        [SOURCE_TYPE.IMAGE]:         this.$store.getters['i18n/t']('harvester.virtualMachine.volume.title.vmImage'),\n        [SOURCE_TYPE.ATTACH_VOLUME]: this.$store.getters['i18n/t']('harvester.virtualMachine.volume.title.existingVolume'),\n        [SOURCE_TYPE.CONTAINER]:     this.$store.getters['i18n/t']('harvester.virtualMachine.volume.title.container'),\n      }[type];\n    },\n\n    update() {\n      this.$emit('input', this.rows);\n    },\n\n    deleteVolume() {\n      removeObject(this.rows, this.vol);\n      this.update();\n      this.cancel();\n    },\n\n    cancel() {\n      this.$refs.deleteTip.hide();\n    },\n\n    changeSort(idx, type) {\n      // true: down, false: up\n      this.rows.splice(type ? idx : idx - 1, 1, ...this.rows.splice(type ? idx + 1 : idx, 1, this.rows[type ? idx : idx - 1]));\n      this.update();\n    },\n\n    getImageDisplayName(id) {\n      return this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.IMAGE).find((image) => image.id === id)?.spec?.displayName;\n    }\n  },\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      v-if=\"!isView\"\n      color=\"info\"\n      label-key=\"harvester.virtualMachine.volume.dragTip\"\n    />\n    <draggable\n      v-model=\"rows\"\n      :disabled=\"isView\"\n      @end=\"update\"\n    >\n      <transition-group>\n        <div\n          v-for=\"(volume, i) in rows\"\n          :key=\"volume.id\"\n        >\n          <InfoBox class=\"box\">\n            <button\n              v-if=\"!isView\"\n              type=\"button\"\n              class=\"role-link btn btn-sm remove\"\n              @click=\"removeVolume(volume)\"\n            >\n              <i class=\"icon icon-x\" />\n            </button>\n            <button\n              v-if=\"volume.hotpluggable && isView\"\n              type=\"button\"\n              class=\"role-link btn remove\"\n              @click=\"unplugVolume(volume)\"\n            >\n              {{ t('harvester.virtualMachine.unplug.detachVolume') }}\n            </button>\n            <h3>\n              <span\n                v-if=\"volume.to && isVirtualType\"\n                class=\"title\"\n              >\n                <n-link :to=\"volume.to\">\n                  {{ t('harvester.virtualMachine.volume.edit') }} {{ headerFor(volume.source) }}\n                </n-link>\n\n                <BadgeStateFormatter\n                  v-if=\"volume.pvc\"\n                  class=\"ml-10 state\"\n                  :arbitrary=\"true\"\n                  :row=\"volume.pvc\"\n                  :value=\"volume.pvc.state\"\n                />\n                <a\n                  v-if=\"dev && !!volume.pvc.resourceExternalLink\"\n                  v-tooltip=\"t(volume.pvc.resourceExternalLink.tipsKey || 'generic.resourceExternalLinkTips')\"\n                  class=\"ml-5 resource-external\"\n                  rel=\"nofollow noopener noreferrer\"\n                  target=\"_blank\"\n                  :href=\"volume.pvc.resourceExternalLink.url\"\n                >\n                  <i class=\"icon icon-external-link\" />\n                </a>\n              </span>\n\n              <span v-else>\n                {{ headerFor(volume.source) }}\n              </span>\n            </h3>\n            <div>\n              <component\n                :is=\"componentFor(volume.source)\"\n                v-model=\"rows[i]\"\n                :rows=\"rows\"\n                :namespace=\"namespace\"\n                :is-create=\"isCreate\"\n                :is-edit=\"isEdit\"\n                :is-view=\"isView\"\n                :is-virtual-type=\"isVirtualType\"\n                :mode=\"mode\"\n                :idx=\"i\"\n                :validate-required=\"validateRequired\"\n                @update=\"update\"\n              />\n            </div>\n\n            <div class=\"bootOrder\">\n              <div\n                v-if=\"!isView\"\n                class=\"mr-15\"\n              >\n                <button\n                  :disabled=\"i === 0\"\n                  class=\"btn btn-sm role-primary\"\n                  @click.prevent=\"changeSort(i, false)\"\n                >\n                  <i class=\"icon icon-lg icon-chevron-up\" />\n                </button>\n\n                <button\n                  :disabled=\"i === rows.length -1\"\n                  class=\"btn btn-sm role-primary\"\n                  @click.prevent=\"changeSort(i, true)\"\n                >\n                  <i class=\"icon icon-lg icon-chevron-down\" />\n                </button>\n              </div>\n\n              <div class=\"text-muted\">\n                bootOrder: {{ i + 1 }}\n              </div>\n            </div>\n\n            <Banner\n              v-if=\"volume.volumeStatus && !isCreate\"\n              class=\"mt-15 volume-status\"\n              color=\"warning\"\n              :label=\"volume.volumeStatus\"\n            />\n          </InfoBox>\n        </div>\n      </transition-group>\n    </draggable>\n    <Banner\n      v-if=\"showVolumeTip\"\n      color=\"warning\"\n      :label=\"t('harvester.virtualMachine.volume.volumeTip')\"\n    />\n\n    <div v-if=\"!isView\">\n      <button\n        type=\"button\"\n        class=\"btn btn-sm bg-primary mr-15 mb-10\"\n        :disabled=\"rows.length === 0\"\n        @click=\"addVolume(SOURCE_TYPE.NEW)\"\n      >\n        {{ t('harvester.virtualMachine.volume.addVolume') }}\n      </button>\n\n      <button\n        v-if=\"!existingVolumeDisabled\"\n        type=\"button\"\n        class=\"btn btn-sm bg-primary mr-15 mb-10\"\n        @click=\"addVolume(SOURCE_TYPE.ATTACH_VOLUME)\"\n      >\n        {{ t('harvester.virtualMachine.volume.addExistingVolume') }}\n      </button>\n\n      <button\n        type=\"button\"\n        class=\"btn btn-sm bg-primary mr-15 mb-10\"\n        @click=\"addVolume(SOURCE_TYPE.IMAGE)\"\n      >\n        {{ t('harvester.virtualMachine.volume.addVmImage') }}\n      </button>\n\n      <button\n        type=\"button\"\n        class=\"btn btn-sm bg-primary mb-10\"\n        @click=\"addVolume(SOURCE_TYPE.CONTAINER)\"\n      >\n        {{ t('harvester.virtualMachine.volume.addContainer') }}\n      </button>\n    </div>\n\n    <ModalWithCard\n      ref=\"deleteTip\"\n      name=\"deleteTip\"\n      :width=\"400\"\n    >\n      <template #title>\n        {{ t('harvester.virtualMachine.volume.unmount.title') }}\n      </template>\n\n      <template #content>\n        <span>{{ t('harvester.virtualMachine.volume.unmount.message') }}</span>\n      </template>\n\n      <template #footer>\n        <div class=\"buttons\">\n          <button\n            class=\"btn role-secondary mr-20\"\n            @click.prevent=\"cancel\"\n          >\n            {{ t('generic.no') }}\n          </button>\n\n          <button\n            class=\"btn bg-primary mr-20\"\n            @click.prevent=\"deleteVolume\"\n          >\n            {{ t('generic.yes') }}\n          </button>\n        </div>\n      </template>\n    </ModalWithCard>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n  .box {\n    position: relative;\n  }\n\n  .title {\n    display: flex;\n\n    .state {\n      font-size: 16px;\n    }\n  }\n\n  .remove {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    padding: 0px;\n  }\n\n  .bootOrder {\n    display: flex;\n    align-items: center;\n  }\n\n  .buttons {\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .volume-status:first-letter {\n    text-transform: uppercase;\n  }\n\n  .resource-external {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0f12bd93&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0f12bd93&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f12bd93\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('CruResource',{attrs:{\"done-route\":_vm.doneRoute,\"mode\":_vm.mode,\"resource\":_vm.value,\"subtypes\":[],\"validation-passed\":true,\"errors\":_vm.errors},on:{\"error\":e=>_vm.errors = e,\"finish\":_vm.save,\"cancel\":_vm.done}},[_c('NameNsDescription',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode,\"register-before-hook\":_vm.registerBeforeHook,\"namespaced\":true}}),_c('ResourceTabs',{attrs:{\"mode\":_vm.mode,\"side-tabs\":true,\"default-tab\":_vm.defaultTab},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('Tab',{attrs:{\"name\":\"volumeclaim\",\"label\":_vm.t('persistentVolumeClaim.volumeClaim.label'),\"weight\":4}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-6\"},[_c('RadioGroup',{attrs:{\"name\":\"source\",\"mode\":_vm.immutableMode,\"label\":_vm.t('persistentVolumeClaim.source.label'),\"options\":_vm.sourceOptions},on:{\"input\":_vm.updateDefaults},model:{value:(_vm.source),callback:function ($$v) {_vm.source=$$v},expression:\"source\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('div',{staticClass:\"row\"},[(_vm.source === 'new')?_c('div',{staticClass:\"col span-12\"},[(_vm.canListStorageClasses)?_c('LabeledSelect',{attrs:{\"options\":_vm.storageClassOptions,\"label\":_vm.t('persistentVolumeClaim.volumeClaim.storageClass'),\"mode\":_vm.immutableMode},model:{value:(_vm.value.spec.storageClassName),callback:function ($$v) {_vm.$set(_vm.value.spec, \"storageClassName\", $$v)},expression:\"value.spec.storageClassName\"}}):_c('LabeledInput',{attrs:{\"label\":_vm.t('persistentVolumeClaim.volumeClaim.storageClass'),\"mode\":_vm.immutableMode,\"tooltip\":_vm.t('persistentVolumeClaim.volumeClaim.tooltips.noStorageClass')},model:{value:(_vm.value.spec.storageClassName),callback:function ($$v) {_vm.$set(_vm.value.spec, \"storageClassName\", $$v)},expression:\"value.spec.storageClassName\"}})],1):_c('div',{staticClass:\"col span-12\"},[(_vm.canListPersistentVolumes)?_c('LabeledSelect',{attrs:{\"options\":_vm.persistentVolumeOptions,\"label\":_vm.t('persistentVolumeClaim.volumeClaim.persistentVolume'),\"selectable\":_vm.isPersistentVolumeSelectable,\"mode\":_vm.immutableMode,\"loading\":_vm.isLoadingSecondaryResources},model:{value:(_vm.persistentVolume),callback:function ($$v) {_vm.persistentVolume=$$v},expression:\"persistentVolume\"}}):_c('LabeledInput',{attrs:{\"label\":_vm.t('persistentVolumeClaim.volumeClaim.persistentVolume'),\"mode\":_vm.immutableMode,\"tooltip\":_vm.t('persistentVolumeClaim.volumeClaim.tooltips.noPersistentVolume')},model:{value:(_vm.persistentVolume),callback:function ($$v) {_vm.persistentVolume=$$v},expression:\"persistentVolume\"}})],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12 mt-10\"},[_c('UnitInput',{ref:\"volumeSize\",attrs:{\"label\":_vm.t('persistentVolumeClaim.volumeClaim.requestStorage'),\"mode\":_vm.storageAmountMode,\"input-exponent\":3,\"output-modifier\":true,\"increment\":1024,\"min\":10,\"required\":true},model:{value:(_vm.value.spec.resources.requests.storage),callback:function ($$v) {_vm.$set(_vm.value.spec.resources.requests, \"storage\", $$v)},expression:\"value.spec.resources.requests.storage\"}}),(_vm.isEdit && !_vm.value.expandable)?_c('Banner',{staticClass:\"mt-10\",attrs:{\"color\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.t('persistentVolumeClaim.expand.notSupported'))+\" \")]):(_vm.isEdit && !_vm.value.bound)?_c('Banner',{staticClass:\"mt-10\",attrs:{\"color\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.t('persistentVolumeClaim.expand.notBound'))+\" \")]):_vm._e()],1)])])])]),_c('Tab',{attrs:{\"name\":\"customize\",\"label\":_vm.t('persistentVolumeClaim.customize.label'),\"weight\":3}},[_c('div',{staticClass:\"access\"},[_c('h3',[_vm._v(_vm._s(_vm.t('persistentVolumeClaim.accessModes')))]),_c('span',{staticClass:\"text-error\"},[_vm._v(\"*\")])]),_c('div',[_c('Checkbox',{attrs:{\"label\":_vm.t('persistentVolumeClaim.customize.accessModes.readWriteOnce'),\"mode\":_vm.immutableMode},model:{value:(_vm.readWriteOnce),callback:function ($$v) {_vm.readWriteOnce=$$v},expression:\"readWriteOnce\"}})],1),_c('div',[_c('Checkbox',{attrs:{\"label\":_vm.t('persistentVolumeClaim.customize.accessModes.readOnlyMany'),\"mode\":_vm.immutableMode},model:{value:(_vm.readOnlyMany),callback:function ($$v) {_vm.readOnlyMany=$$v},expression:\"readOnlyMany\"}})],1),_c('div',[_c('Checkbox',{attrs:{\"label\":_vm.t('persistentVolumeClaim.customize.accessModes.readWriteMany'),\"mode\":_vm.immutableMode},model:{value:(_vm.readWriteMany),callback:function ($$v) {_vm.readWriteMany=$$v},expression:\"readWriteMany\"}})],1)]),(_vm.isView)?_c('Tab',{attrs:{\"name\":\"status\",\"label\":_vm.t('persistentVolumeClaim.status.label'),\"weight\":2}},[_c('StatusTable',{attrs:{\"resource\":_vm.value}})],1):_vm._e(),_c('Tab',{attrs:{\"name\":\"labels-and-annotations\",\"label-key\":\"generic.labelsAndAnnotations\",\"weight\":-1}},[_c('Labels',{attrs:{\"default-container-class\":\"labels-and-annotations-container\",\"value\":_vm.value,\"mode\":_vm.mode,\"display-side-by-side\":false}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { Checkbox } from '@components/Form/Checkbox';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { RadioGroup } from '@components/Form/Radio';\nimport LabeledInput from '@components/Form/LabeledInput/LabeledInput.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport uniq from 'lodash/uniq';\nimport { _CREATE, _EDIT, FOCUS, _VIEW } from '@shell/config/query-params';\nimport { STORAGE_CLASS, PV } from '@shell/config/types';\nimport StatusTable from '@shell/components/StatusTable';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport Labels from '@shell/components/form/Labels';\nimport { Banner } from '@components/Banner';\nimport ResourceManager from '@shell/mixins/resource-manager';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\n\nconst DEFAULT_STORAGE = '10Gi';\n\nexport default {\n  name: 'PersistentVolumeClaim',\n\n  components: {\n    Banner,\n    Checkbox,\n    CruResource,\n    LabeledInput,\n    LabeledSelect,\n    Labels,\n    NameNsDescription,\n    RadioGroup,\n    ResourceTabs,\n    StatusTable,\n    Tab,\n    UnitInput,\n  },\n\n  mixins: [CreateEditView, ResourceManager],\n  async fetch() {\n    const volumeType = { type: 'disk' };\n\n    this.value.metadata.annotations[HCI_ANNOTATIONS.VOLUME_VM] = JSON.stringify(volumeType);\n\n    const storageClasses = await this.$store.dispatch('cluster/findAll', { type: STORAGE_CLASS });\n\n    if (this.$store.getters['cluster/canList'](PV)) {\n      this.resourceManagerFetchSecondaryResources(this.secondaryResourceData);\n    }\n\n    this.storageClassOptions = storageClasses.map((s) => s.name).sort();\n    this.storageClassOptions.unshift(this.t('persistentVolumeClaim.useDefault'));\n\n    this.$set(this.value.spec, 'storageClassName', this.value.spec.storageClassName || this.storageClassOptions[0]);\n  },\n  data() {\n    const canListPersistentVolumes = this.$store.getters['cluster/canList'](PV);\n    const canListStorageClasses = this.$store.getters['cluster/canList'](STORAGE_CLASS);\n    const sourceOptions = [\n      {\n        label: this.t('persistentVolumeClaim.source.options.new'),\n        value: 'new'\n      },\n      {\n        label: this.t('persistentVolumeClaim.source.options.existing'),\n        value: 'existing'\n      }\n    ];\n\n    const defaultAccessModes = ['ReadWriteOnce'];\n\n    this.$set(this.value, 'spec', this.value.spec || {});\n    this.$set(this.value.spec, 'resources', this.value.spec.resources || {});\n    this.$set(this.value.spec.resources, 'requests', this.value.spec.resources.requests || {});\n    this.$set(this.value.spec.resources.requests, 'storage', this.value.spec.resources.requests.storage || DEFAULT_STORAGE);\n    if (this.realMode === _CREATE) {\n      this.$set(this.value.spec, 'accessModes', defaultAccessModes);\n    }\n\n    const defaultTab = this.$route.query[FOCUS] || null;\n\n    return {\n      secondaryResourceData:   this.secondaryResourceDataConfig(),\n      sourceOptions,\n      source:                  this.value.spec.volumeName ? sourceOptions[1].value : sourceOptions[0].value,\n      immutableMode:           this.realMode === _CREATE ? _CREATE : _VIEW,\n      persistentVolumeOptions: [],\n      persistentVolumes:       [],\n      storageClassOptions:     [],\n      defaultTab,\n      canListPersistentVolumes,\n      canListStorageClasses,\n    };\n  },\n  computed: {\n    readWriteOnce: {\n      get() {\n        return this.value.spec.accessModes.includes('ReadWriteOnce');\n      },\n      set(value) {\n        this.checkboxSetter('ReadWriteOnce', value);\n      }\n    },\n    readOnlyMany: {\n      get() {\n        return this.value.spec.accessModes.includes('ReadOnlyMany');\n      },\n      set(value) {\n        this.checkboxSetter('ReadOnlyMany', value);\n      }\n    },\n    readWriteMany: {\n      get() {\n        return this.value.spec.accessModes.includes('ReadWriteMany');\n      },\n      set(value) {\n        this.checkboxSetter('ReadWriteMany', value);\n      }\n    },\n    persistentVolume: {\n      get() {\n        return this.value.spec.volumeName;\n      },\n      set(value) {\n        const persistentVolume = this.persistentVolumes.find((pv) => pv.metadata.name === value);\n\n        this.$set(this.value.spec, 'storageClassName', '');\n\n        if (persistentVolume) {\n          this.$set(this.value.spec.resources.requests, 'storage', persistentVolume.spec.capacity?.storage);\n          if (persistentVolume.spec?.storageClassName) {\n            this.$set(this.value.spec, 'storageClassName', persistentVolume.spec?.storageClassName );\n          }\n        }\n\n        this.$set(this.value.spec, 'volumeName', value);\n      }\n    },\n    storageAmountMode() {\n      if (this.isCreate) {\n        return _CREATE;\n      } else if (this.isEdit && this.value.expandable && this.value.bound) {\n        return _EDIT;\n      }\n\n      return _VIEW;\n    }\n  },\n  created() {\n    this.registerBeforeHook(this.willSave, 'willSave');\n  },\n  mounted() {\n    const focus = this.$refs.volumeSize?.focus;\n\n    if (this.defaultTab === 'volumeclaim' && focus) {\n      setTimeout(() => focus());\n    }\n  },\n  methods: {\n\n    secondaryResourceDataConfig() {\n      return {\n        namespace: this.value?.metadata?.namespace || null,\n        data:      {\n          [PV]: {\n            applyTo: [\n              { var: 'persistentVolumes' },\n              {\n                var:         'persistentVolumeOptions',\n                parsingFunc: (data) => {\n                  return data\n                    .map((s) => {\n                      const status = s.status.phase === 'Available' ? '' : ` (${ s.status.phase })`;\n\n                      return {\n                        label: `${ s.metadata.name }${ status }`,\n                        value: s.metadata.name\n                      };\n                    })\n                    .sort((l, r) => l.label.localeCompare(r.label));\n                }\n              }\n            ]\n          },\n        }\n      };\n    },\n    checkboxSetter(key, value) {\n      if (value) {\n        this.value.spec.accessModes.push(key);\n        this.$set(this.value, 'accessModes', uniq(this.value.spec.accessModes));\n      } else {\n        const indexOf = this.value.spec.accessModes.indexOf(key);\n\n        if (indexOf >= 0) {\n          this.value.spec.accessModes.splice(indexOf, 1);\n        }\n      }\n    },\n    isPersistentVolumeSelectable(option) {\n      const persistentVolume = this.persistentVolumes.find((pv) => pv.metadata.name === option.value);\n\n      return persistentVolume.status.phase === 'Available';\n    },\n    updateDefaults(source) {\n      if (source === 'new') {\n        this.$set(this.value.spec.resources.requests, 'storage', DEFAULT_STORAGE);\n      }\n\n      this.$set(this, 'persistentVolume', null);\n    },\n    willSave() {\n      if (this.value.spec.storageClassName === this.t('persistentVolumeClaim.useDefault')) {\n        this.$delete(this.value.spec, 'storageClassName');\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :validation-passed=\"true\"\n    :errors=\"errors\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      :value=\"value\"\n      :mode=\"mode\"\n      :register-before-hook=\"registerBeforeHook\"\n      :namespaced=\"true\"\n    />\n\n    <ResourceTabs\n      v-model=\"value\"\n      :mode=\"mode\"\n      :side-tabs=\"true\"\n      :default-tab=\"defaultTab\"\n    >\n      <Tab\n        name=\"volumeclaim\"\n        :label=\"t('persistentVolumeClaim.volumeClaim.label')\"\n        :weight=\"4\"\n      >\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <RadioGroup\n              v-model=\"source\"\n              name=\"source\"\n              :mode=\"immutableMode\"\n              :label=\"t('persistentVolumeClaim.source.label')\"\n              :options=\"sourceOptions\"\n              @input=\"updateDefaults\"\n            />\n          </div>\n          <div class=\"col span-6\">\n            <div class=\"row\">\n              <div\n                v-if=\"source === 'new'\"\n                class=\"col span-12\"\n              >\n                <LabeledSelect\n                  v-if=\"canListStorageClasses\"\n                  v-model=\"value.spec.storageClassName\"\n                  :options=\"storageClassOptions\"\n                  :label=\"t('persistentVolumeClaim.volumeClaim.storageClass')\"\n                  :mode=\"immutableMode\"\n                />\n                <LabeledInput\n                  v-else\n                  v-model=\"value.spec.storageClassName\"\n                  :label=\"t('persistentVolumeClaim.volumeClaim.storageClass')\"\n                  :mode=\"immutableMode\"\n                  :tooltip=\"t('persistentVolumeClaim.volumeClaim.tooltips.noStorageClass')\"\n                />\n              </div>\n              <div\n                v-else\n                class=\"col span-12\"\n              >\n                <LabeledSelect\n                  v-if=\"canListPersistentVolumes\"\n                  v-model=\"persistentVolume\"\n                  :options=\"persistentVolumeOptions\"\n                  :label=\"t('persistentVolumeClaim.volumeClaim.persistentVolume')\"\n                  :selectable=\"isPersistentVolumeSelectable\"\n                  :mode=\"immutableMode\"\n                  :loading=\"isLoadingSecondaryResources\"\n                />\n                <LabeledInput\n                  v-else\n                  v-model=\"persistentVolume\"\n                  :label=\"t('persistentVolumeClaim.volumeClaim.persistentVolume')\"\n                  :mode=\"immutableMode\"\n                  :tooltip=\"t('persistentVolumeClaim.volumeClaim.tooltips.noPersistentVolume')\"\n                />\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col span-12 mt-10\">\n                <UnitInput\n                  ref=\"volumeSize\"\n                  v-model=\"value.spec.resources.requests.storage\"\n                  :label=\"t('persistentVolumeClaim.volumeClaim.requestStorage')\"\n                  :mode=\"storageAmountMode\"\n                  :input-exponent=\"3\"\n                  :output-modifier=\"true\"\n                  :increment=\"1024\"\n                  :min=\"10\"\n                  :required=\"true\"\n                />\n                <Banner\n                  v-if=\"isEdit && !value.expandable\"\n                  color=\"info\"\n                  class=\"mt-10\"\n                >\n                  {{ t('persistentVolumeClaim.expand.notSupported') }}\n                </Banner>\n                <Banner\n                  v-else-if=\"isEdit && !value.bound\"\n                  color=\"info\"\n                  class=\"mt-10\"\n                >\n                  {{ t('persistentVolumeClaim.expand.notBound') }}\n                </Banner>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Tab>\n      <Tab\n        name=\"customize\"\n        :label=\"t('persistentVolumeClaim.customize.label')\"\n        :weight=\"3\"\n      >\n        <div class=\"access\">\n          <h3>{{ t('persistentVolumeClaim.accessModes') }}</h3>\n          <span class=\"text-error\">*</span>\n        </div>\n        <div>\n          <Checkbox\n            v-model=\"readWriteOnce\"\n            :label=\"t('persistentVolumeClaim.customize.accessModes.readWriteOnce')\"\n            :mode=\"immutableMode\"\n          />\n        </div>\n        <div>\n          <Checkbox\n            v-model=\"readOnlyMany\"\n            :label=\"t('persistentVolumeClaim.customize.accessModes.readOnlyMany')\"\n            :mode=\"immutableMode\"\n          />\n        </div>\n        <div>\n          <Checkbox\n            v-model=\"readWriteMany\"\n            :label=\"t('persistentVolumeClaim.customize.accessModes.readWriteMany')\"\n            :mode=\"immutableMode\"\n          />\n        </div>\n      </Tab>\n      <Tab\n        v-if=\"isView\"\n        name=\"status\"\n        :label=\"t('persistentVolumeClaim.status.label')\"\n        :weight=\"2\"\n      >\n        <StatusTable :resource=\"value\" />\n      </Tab>\n      <Tab\n        name=\"labels-and-annotations\"\n        label-key=\"generic.labelsAndAnnotations\"\n        :weight=\"-1\"\n      >\n        <Labels\n          default-container-class=\"labels-and-annotations-container\"\n          :value=\"value\"\n          :mode=\"mode\"\n          :display-side-by-side=\"false\"\n        />\n      </Tab>\n    </ResourceTabs>\n  </CruResource>\n</template>\n\n<style lang='scss' scoped>\n.access {\n  display: flex;\n  flex-direction: row;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.volume.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.volume.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./harvesterhci.io.volume.vue?vue&type=template&id=7aebdcbb&scoped=true\"\nimport script from \"./harvesterhci.io.volume.vue?vue&type=script&lang=js\"\nexport * from \"./harvesterhci.io.volume.vue?vue&type=script&lang=js\"\nimport style0 from \"./harvesterhci.io.volume.vue?vue&type=style&index=0&id=7aebdcbb&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7aebdcbb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ResourceTable',{attrs:{\"headers\":_vm.headers,\"schema\":_vm.schema,\"rows\":_vm.rows},scopedSlots:_vm._u([{key:\"group-by\",fn:function({group}){return [_c('div',{directives:[{name:\"trim-whitespace\",rawName:\"v-trim-whitespace\"}],ref:group.key,staticClass:\"group-tab\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(group.key)}})])]}},{key:\"cell:claimed\",fn:function({row}){return [(row.isEnabled)?_c('span',[_vm._v(_vm._s(row.claimedBy))]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\")])]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport { HCI, PRODUCT_NAME } from '../../../types';\nimport { STATE, SIMPLE_NAME } from '@shell/config/table-headers';\nexport default {\n  name: 'ListPciDevices',\n\n  components: { ResourceTable },\n\n  props: {\n    schema: {\n      type:     Object,\n      required: true,\n    },\n\n    rows: {\n      type:     Array,\n      required: true,\n    },\n\n    allgpu: {\n      type:     Array,\n      required: true,\n    },\n\n    node: {\n      type:     Array,\n      required: true,\n    },\n\n  },\n  async fetch() {\n    // const inStore = this.$store.getters['currentProduct'].inStore;\n\n    await this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.PCI_CLAIM });\n  },\n\n  data() {\n    const isSingleProduct = this.$store.getters['isSingleProduct'];\n    const headers = [\n      { ...STATE },\n      SIMPLE_NAME,\n      {\n        name:      'description',\n        labelKey:  'tableHeaders.description',\n        value:     'id',\n        formatter: 'GpuDescription',\n        sort:      ['status.description']\n      },\n      {\n        name:     'node',\n        labelKey: 'tableHeaders.node',\n        value:    'status.nodeName',\n        sort:     ['status.nodeName']\n      },\n      // {\n      //   name:  'address',\n      //   label: 'Address',\n      //   value: 'status.address',\n      //   sort:  ['status.address']\n      // },\n      // {\n      //   name:  'vendorid',\n      //   label: 'Vendor ID',\n      //   value: 'status.vendorId',\n      //   sort:  ['status.vendorId', 'status.deviceId']\n      // },\n      // {\n      //   name:  'deviceid',\n      //   label: 'Device ID',\n      //   value: 'status.deviceId',\n      //   sort:  ['status.deviceId', 'status.vendorId']\n      // },\n\n    ];\n\n    if (!isSingleProduct) {\n      headers.push( {\n        name:  'claimed',\n        label: 'Claimed By',\n        value: 'passthroughClaim.userName',\n        sort:  ['passthroughClaim.userName'],\n\n      });\n    }\n\n    return { headers };\n  },\n\n  methods: {\n    enableGroup(rows = []) {\n      const iommuGroup = rows[0].status.iommuGroup;\n      const groupRows = this.filterByGroup(iommuGroup);\n\n      const row = groupRows[0];\n\n      if (row) {\n        row.enablePassthroughBulk(groupRows);\n      }\n    },\n    disableGroup(rows = []) {\n      const iommuGroup = rows[0].status.iommuGroup;\n      const row = this.filterByGroup(iommuGroup);\n\n      row.forEach((row) => {\n        if (row.passthroughClaim) {\n          row.disablePassthrough();\n        }\n      });\n    },\n    groupIsAllEnabled(rows = []) {\n      return !rows.find((device) => !device.passthroughClaim);\n    },\n    filterByGroup(iommuGroup) {\n      const gpuNode = [];\n\n      this.node.forEach((node) => {\n        if (node.metadata.labels['gpu.infortrend.com/vm-gpu-mode'] === 'true') {\n          gpuNode.push(node.metadata.name);\n        }\n      });\n      const filterPciDevices = this.allgpu.filter((device) => {\n        return device.status.vendorId === '10de' && gpuNode.includes(device.status.nodeName) && device.status.iommuGroup === iommuGroup;\n      }) || [];\n\n      return filterPciDevices;\n    }\n  }\n};\n</script>\n\n<template>\n  <ResourceTable\n    :headers=\"headers\"\n    :schema=\"schema\"\n    :rows=\"rows\"\n  >\n    <template #group-by=\"{group}\">\n      <div\n        :ref=\"group.key\"\n        v-trim-whitespace\n        class=\"group-tab\"\n      >\n        <!-- <button\n          v-if=\"groupIsAllEnabled(group.rows)\"\n          type=\"button\"\n          class=\"btn btn-sm role-secondary mr-5\"\n          @click=\"e=>{disableGroup(group.rows); e.target.blur()}\"\n        >\n          {{ t('harvester.pci.disableGroup') }}\n        </button>\n        <button\n          v-else\n          type=\"button\"\n          class=\"btn btn-sm role-secondary mr-5\"\n          @click=\"e=>{enableGroup(group.rows); e.target.blur()}\"\n        >\n          {{ t('harvester.pci.enableGroup') }}\n        </button> -->\n        <span v-html=\"group.key\" />\n      </div>\n    </template>\n    <template #cell:claimed=\"{row}\">\n      <span v-if=\"row.isEnabled\">{{ row.claimedBy }}</span>\n      <span\n        v-else\n        class=\"text-muted\"\n      >&mdash;</span>\n    </template>\n  </ResourceTable>\n</template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DeviceList.vue?vue&type=template&id=0012b568\"\nimport script from \"./DeviceList.vue?vue&type=script&lang=js\"\nexport * from \"./DeviceList.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6386f148&prod&lang=scss&scoped=true\"","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0f12bd93&prod&lang=scss&scoped=true\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".yaml[data-v-6a2ca441]{height:350px;overflow:auto}[data-v-6a2ca441] .resource-yaml{flex:1;display:flex;flex-direction:column}[data-v-6a2ca441] .resource-yaml .yaml-editor{flex:1;min-height:350px}[data-v-6a2ca441] .resource-yaml .yaml-editor .code-mirror .CodeMirror{min-height:350px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.cloudtemplate.vue?vue&type=style&index=0&id=517188b9&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('CruResource',{attrs:{\"done-route\":_vm.doneRoute,\"mode\":_vm.mode,\"resource\":_vm.value,\"errors\":_vm.errors,\"apply-hooks\":_vm.applyHooks},on:{\"finish\":_vm.save,\"cancel\":_vm.done}},[_c('NameNsDescription',{attrs:{\"mode\":_vm.mode,\"namespaced\":true},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('Tabbed',{attrs:{\"side-tabs\":true}},[_c('Tab',{attrs:{\"name\":\"basics\",\"label\":_vm.t('harvester.host.tabs.basics'),\"weight\":1}},[_c('div',{staticClass:\"mb-20\"},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.cloudTemplate.templateType'),\"disabled\":!_vm.isCreate,\"options\":_vm.types},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}})],1),_c('div',{staticClass:\"resource-yaml\"},[_c('YamlEditor',{ref:\"yamlUser\",staticClass:\"yaml-editor\",attrs:{\"editor-mode\":_vm.mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'},on:{\"onChanges\":_vm.update},model:{value:(_vm.config),callback:function ($$v) {_vm.config=$$v},expression:\"config\"}})],1)])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport CruResource from '@shell/components/CruResource';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport YamlEditor from '@shell/components/YamlEditor';\n\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { HCI } from '@pkg/harvester-ift/config/labels-annotations';\n\nexport default {\n  name: 'HarvesterEditCloudTemplate',\n\n  components: {\n    Tab,\n    Tabbed,\n    YamlEditor,\n    CruResource,\n    LabeledSelect,\n    NameNsDescription,\n  },\n\n  mixins: [CreateEditView],\n\n  data() {\n    return {\n      config: this.value.data?.cloudInit || '',\n      type:   this.value?.metadata?.labels?.[HCI.CLOUD_INIT] || 'user',\n    };\n  },\n\n  computed: {\n    types() {\n      return [{\n        label: 'User Data',\n        value: 'user'\n      }, {\n        label: 'Network Data',\n        value: 'network'\n      }];\n    },\n  },\n\n  created() {\n    if (this.registerBeforeHook) {\n      this.registerBeforeHook(this.updateBeforeSave);\n    }\n  },\n\n  methods: {\n    update() {\n      this.value.data = { cloudInit: this.config };\n    },\n\n    updateBeforeSave() {\n      if (this.isCreate) {\n        this.value.metadata.labels = {\n          ...this.value.metadata.labels,\n          [HCI.CLOUD_INIT]: this.type,\n        };\n\n        this.value.data = { cloudInit: this.config };\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :errors=\"errors\"\n    :apply-hooks=\"applyHooks\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      v-model=\"value\"\n      :mode=\"mode\"\n      :namespaced=\"true\"\n    />\n\n    <Tabbed :side-tabs=\"true\">\n      <Tab\n        name=\"basics\"\n        :label=\"t('harvester.host.tabs.basics')\"\n        :weight=\"1\"\n      >\n        <div class=\"mb-20\">\n          <LabeledSelect\n            v-model=\"type\"\n            :label=\"t('harvester.cloudTemplate.templateType')\"\n            :disabled=\"!isCreate\"\n            :options=\"types\"\n          />\n        </div>\n\n        <div class=\"resource-yaml\">\n          <YamlEditor\n            ref=\"yamlUser\"\n            v-model=\"config\"\n            class=\"yaml-editor\"\n            :editor-mode=\"mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'\"\n            @onChanges=\"update\"\n          />\n        </div>\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n  $yaml-height: 200px;\n\n  ::v-deep .yaml-editor{\n    flex: 1;\n    min-height: $yaml-height;\n    & .code-mirror .CodeMirror {\n      position: initial;\n      height: auto;\n      min-height: $yaml-height;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.cloudtemplate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.cloudtemplate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./harvesterhci.io.cloudtemplate.vue?vue&type=template&id=517188b9&scoped=true\"\nimport script from \"./harvesterhci.io.cloudtemplate.vue?vue&type=script&lang=js\"\nexport * from \"./harvesterhci.io.cloudtemplate.vue?vue&type=script&lang=js\"\nimport style0 from \"./harvesterhci.io.cloudtemplate.vue?vue&type=style&index=0&id=517188b9&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"517188b9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('CruResource',{attrs:{\"done-route\":_vm.doneRoute,\"resource\":_vm.value,\"mode\":_vm.mode,\"errors\":_vm.errors,\"can-yaml\":_vm.showEditAsYaml ? true : false,\"apply-hooks\":_vm.applyHooks},on:{\"finish\":_vm.saveImage}},[_c('NameNsDescription',{ref:\"nd\",attrs:{\"mode\":_vm.mode,\"label\":_vm.t('generic.name'),\"name-key\":\"spec.displayName\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('Tabbed',_vm._b({staticClass:\"mt-15\",attrs:{\"side-tabs\":true}},'Tabbed',_vm.$attrs,false),[_c('Tab',{staticClass:\"bordered-table\",attrs:{\"name\":\"basic\",\"label\":_vm.t('harvester.image.tabs.basics'),\"weight\":99}},[(_vm.isCreate)?_c('RadioGroup',{attrs:{\"name\":\"model\",\"options\":[\n          'download',\n          'upload',\n        ],\"labels\":[\n          _vm.t('harvester.image.sourceType.download'),\n          _vm.t('harvester.image.sourceType.upload'),\n        ],\"mode\":_vm.mode},model:{value:(_vm.value.spec.sourceType),callback:function ($$v) {_vm.$set(_vm.value.spec, \"sourceType\", $$v)},expression:\"value.spec.sourceType\"}}):_vm._e(),_c('div',{staticClass:\"row mb-20 mt-20\"},[_c('div',{staticClass:\"col span-12\"},[(!_vm.isCreate)?_c('LabeledInput',{staticClass:\"mb-20\",attrs:{\"mode\":_vm.mode,\"disabled\":_vm.isEdit,\"label-key\":\"harvester.image.source\"},model:{value:(_vm.value.spec.sourceType),callback:function ($$v) {_vm.$set(_vm.value.spec, \"sourceType\", $$v)},expression:\"value.spec.sourceType\"}}):_vm._e(),(_vm.value.spec.sourceType === 'download')?_c('LabeledInput',{staticClass:\"labeled-input--tooltip\",attrs:{\"mode\":_vm.mode,\"disabled\":_vm.isEdit,\"required\":\"\",\"label-key\":\"harvester.image.url\",\"tooltip\":_vm.t('harvester.image.urlTip', {}, true)},model:{value:(_vm.value.spec.url),callback:function ($$v) {_vm.$set(_vm.value.spec, \"url\", $$v)},expression:\"value.spec.url\"}}):_c('div',[(_vm.isView)?_c('LabeledInput',{staticClass:\"mt-20\",attrs:{\"mode\":_vm.mode,\"label-key\":\"harvester.image.fileName\"},model:{value:(_vm.imageName),callback:function ($$v) {_vm.imageName=$$v},expression:\"imageName\"}}):_vm._e(),(_vm.isCreate)?_c('button',{staticClass:\"btn role-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.selectFile}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.t('harvester.image.uploadFile'))+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"file\",attrs:{\"id\":\"file\",\"type\":\"file\",\"accept\":\".qcow, .qcow2, .raw, .img, .iso\"},on:{\"change\":function($event){return _vm.handleFileUpload()}}})]):_vm._e(),(_vm.uploadFileName)?_c('div',{staticClass:\"fileName mt-5\"},[_c('span',{staticClass:\"icon icon-file\"}),_vm._v(\" \"+_vm._s(_vm.uploadFileName)+\" \")]):_vm._e()],1)],1)])],1),_c('Tab',{staticClass:\"bordered-table\",attrs:{\"name\":\"labels\",\"label\":_vm.t('labels.labels.title'),\"weight\":2}},[_c('KeyValue',{key:\"labels\",ref:\"labels\",attrs:{\"value\":_vm.value.labels,\"add-label\":_vm.t('labels.addLabel'),\"mode\":_vm.mode,\"pad-left\":false,\"read-allowed\":false},on:{\"focusKey\":_vm.focusKey,\"input\":function($event){return _vm.value.setLabels($event)}},scopedSlots:_vm._u([{key:\"key\",fn:function({ row, keyName, queueUpdate}){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row[keyName]),expression:\"row[keyName]\"}],ref:\"key\",attrs:{\"placeholder\":_vm.t('keyValue.keyPlaceholder')},domProps:{\"value\":(row[keyName])},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(row, keyName, $event.target.value)},queueUpdate]}})]}},{key:\"value\",fn:function({row, keyName, valueName, queueUpdate}){return [(_vm.internalAnnotations(row))?_c('Select',{attrs:{\"searchable\":true,\"clearable\":false,\"options\":_vm.calculateOptions(row[keyName])},on:{\"input\":queueUpdate},model:{value:(row[valueName]),callback:function ($$v) {_vm.$set(row, valueName, $$v)},expression:\"row[valueName]\"}}):(('text')==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row[valueName]),expression:\"row[valueName]\"}],attrs:{\"disabled\":_vm.isView,\"placeholder\":_vm.t('keyValue.valuePlaceholder'),\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(row[valueName])?_vm._i(row[valueName],null)>-1:(row[valueName])},on:{\"input\":queueUpdate,\"change\":function($event){var $$a=row[valueName],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(row, valueName, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(row, valueName, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(row, valueName, $$c)}}}}):(('text')==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row[valueName]),expression:\"row[valueName]\"}],attrs:{\"disabled\":_vm.isView,\"placeholder\":_vm.t('keyValue.valuePlaceholder'),\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\",\"type\":\"radio\"},domProps:{\"checked\":_vm._q(row[valueName],null)},on:{\"input\":queueUpdate,\"change\":function($event){return _vm.$set(row, valueName, null)}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row[valueName]),expression:\"row[valueName]\"}],attrs:{\"disabled\":_vm.isView,\"placeholder\":_vm.t('keyValue.valuePlaceholder'),\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\",\"type\":'text'},domProps:{\"value\":(row[valueName])},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(row, valueName, $event.target.value)},queueUpdate]}})]}}])})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport CruResource from '@shell/components/CruResource';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { RadioGroup } from '@components/Form/Radio';\nimport Select from '@shell/components/form/Select';\n// import LabeledSelect from '@shell/components/form/LabeledSelect';\n\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { OS } from '../mixins/harvester-vm';\nimport { VM_IMAGE_FILE_FORMAT } from '../validators/vm-image';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { allHash } from '@shell/utils/promise';\nimport { STORAGE_CLASS } from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../types';\n\nconst DOWNLOAD = 'download';\nconst UPLOAD = 'upload';\nconst rawORqcow2 = 'raw_qcow2';\n\nexport default {\n  name: 'EditImage',\n\n  components: {\n    Tab,\n    Tabbed,\n    KeyValue,\n    Select,\n    CruResource,\n    LabeledInput,\n    NameNsDescription,\n    RadioGroup,\n    // LabeledSelect,\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  async fetch() {\n    // const inStore = this.$store.getters['currentProduct'].inStore;\n    await allHash({\n      images:         this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.IMAGE }),\n      storageClasses: this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: STORAGE_CLASS }),\n    });\n    if (this?.value?.metadata?.annotations?.[HCI_ANNOTATIONS.KOPF_LAST_HANDLED]) {\n      delete this.value.metadata.annotations[HCI_ANNOTATIONS.KOPF_LAST_HANDLED];\n    }\n    const defaultStorage = this.$store.getters[`${ PRODUCT_NAME }/all`](STORAGE_CLASS).find((s) => s.isDefault);\n\n    this.$set(this, 'storageClassName', this.storageClassName || defaultStorage?.metadata?.name || 'nfs-csi');\n  },\n\n  data() {\n    if ( !this.value.spec ) {\n      this.$set(this.value, 'spec', { sourceType: DOWNLOAD });\n    }\n\n    if (!this.value.metadata.name) {\n      this.value.metadata.generateName = 'image-';\n    }\n\n    return {\n      url:      this.value.spec.url,\n      files:    [],\n      resource: '',\n      headers:  {},\n      fileUrl:  '',\n      file:     '',\n    };\n  },\n\n  computed: {\n    uploadFileName() {\n      return this.file?.name || '';\n    },\n\n    imageName() {\n      return this.value?.metadata?.annotations?.[HCI_ANNOTATIONS.IMAGE_NAME] || '-';\n    },\n\n    isCreateEdit() {\n      return this.isCreate || this.isEdit;\n    },\n\n    showEditAsYaml() {\n      return this.value.spec.sourceType === DOWNLOAD;\n    },\n\n    storageClassOptions() {\n      // const inStore = this.$store.getters['currentProduct'].inStore;\n      const storages = this.$store.getters[`${ PRODUCT_NAME }/all`](STORAGE_CLASS);\n\n      const out = storages.filter((s) => !s.parameters?.backingImage).map((s) => {\n        const label = s.isDefault ? `${ s.name } (${ this.t('generic.default') })` : s.name;\n\n        return {\n          label,\n          value: s.name,\n        };\n      }) || [];\n\n      return out;\n    },\n\n    storageClassName: {\n      get() {\n        return this.value.metadata.annotations[HCI_ANNOTATIONS.STORAGE_CLASS];\n      },\n\n      set(nue) {\n        this.value.metadata.annotations[HCI_ANNOTATIONS.STORAGE_CLASS] = nue;\n      }\n    },\n  },\n\n  watch: {\n    'value.spec.url'(neu) {\n      const url = neu.trim();\n\n      this.setImageLabels(url);\n    },\n\n    'value.spec.sourceType'() {\n      this.$set(this, 'file', null);\n      this.url = '';\n\n      if (this.$refs?.file?.value) {\n        this.$refs.file.value = null;\n      }\n    },\n  },\n\n  methods: {\n    async saveImage(buttonCb) {\n      this.value.spec.displayName = (this.value.spec.displayName || '').trim();\n\n      if (this.value.spec.sourceType === UPLOAD && this.isCreate) {\n        try {\n          this.value.spec.url = '';\n\n          const file = this.file;\n\n          this.value.metadata.annotations[HCI_ANNOTATIONS.IMAGE_NAME] = file?.name;\n\n          const res = await this.value.save();\n\n          res.uploadImage(file);\n\n          buttonCb(true);\n          this.done();\n        } catch (e) {\n          this.errors = exceptionToErrorsArray(e);\n          buttonCb(false);\n        }\n      } else {\n        this.save(buttonCb);\n      }\n    },\n\n    setImageLabels(str) {\n      const suffixName = str?.split('/')?.pop() || str;\n\n      const fileSuffix = suffixName?.split('.')?.pop()?.toLowerCase();\n\n      if (VM_IMAGE_FILE_FORMAT.includes(fileSuffix)) {\n        const labelValue = fileSuffix === 'iso' ? fileSuffix : rawORqcow2;\n\n        this.addLabel(HCI_ANNOTATIONS.IMAGE_SUFFIX, labelValue);\n\n        if (!this.value.spec.displayName) {\n          this.$refs.nd.changeNameAndNamespace({\n            text:     suffixName,\n            selected: this.value.metadata.namespace,\n          });\n        }\n      }\n\n      const os = this.getOSType(str);\n\n      if (os) {\n        this.addLabel(HCI_ANNOTATIONS.OS_TYPE, os.value);\n      }\n    },\n\n    addLabel(labelKey, value) {\n      const rows = this.$refs.labels.rows;\n\n      rows.map((label, idx) => {\n        if (label.key === labelKey) {\n          this.$refs.labels.remove(idx);\n        }\n      });\n      this.$refs.labels.add(labelKey, value);\n    },\n\n    handleFileUpload() {\n      const file = this.$refs.file.files[0];\n\n      this.file = file;\n\n      this.setImageLabels(file?.name);\n\n      if (!this.value.spec.displayName) {\n        this.$refs.nd.changeNameAndNamespace({\n          text:     file?.name,\n          selected: this.value.metadata.namespace,\n        });\n      }\n\n      this.setImageLabels();\n    },\n\n    selectFile() {\n      // Clear the value so the user can reselect the same file again\n      this.$refs.file.value = null;\n      this.$refs.file.click();\n    },\n\n    internalAnnotations(option) {\n      const optionKeys = [HCI_ANNOTATIONS.OS_TYPE, HCI_ANNOTATIONS.IMAGE_SUFFIX];\n\n      return optionKeys.find((O) => O === option.key);\n    },\n\n    calculateOptions(keyName) {\n      if (keyName === HCI_ANNOTATIONS.OS_TYPE) {\n        return OS;\n      } else if (keyName === HCI_ANNOTATIONS.IMAGE_SUFFIX) {\n        return [{\n          label: 'ISO',\n          value: 'iso'\n        }, {\n          label: 'raw/qcow2',\n          value: rawORqcow2\n        }];\n      }\n\n      return [];\n    },\n\n    focusKey() {\n      this.$refs.key.focus();\n    },\n\n    getOSType(str) {\n      if (!str) {\n        return;\n      }\n\n      return OS.find( (os) => {\n        if (os.match) {\n          return os.match.find((matchValue) => str.toLowerCase().includes(matchValue)) ? os.value : false;\n        } else {\n          return str.toLowerCase().includes(os.value.toLowerCase()) ? os.value : false;\n        }\n      });\n    }\n  },\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :resource=\"value\"\n    :mode=\"mode\"\n    :errors=\"errors\"\n    :can-yaml=\"showEditAsYaml ? true : false\"\n    :apply-hooks=\"applyHooks\"\n    @finish=\"saveImage\"\n  >\n    <NameNsDescription\n      ref=\"nd\"\n      v-model=\"value\"\n      :mode=\"mode\"\n      :label=\"t('generic.name')\"\n      name-key=\"spec.displayName\"\n    />\n\n    <Tabbed\n      v-bind=\"$attrs\"\n      class=\"mt-15\"\n      :side-tabs=\"true\"\n    >\n      <Tab\n        name=\"basic\"\n        :label=\"t('harvester.image.tabs.basics')\"\n        :weight=\"99\"\n        class=\"bordered-table\"\n      >\n        <RadioGroup\n          v-if=\"isCreate\"\n          v-model=\"value.spec.sourceType\"\n          name=\"model\"\n          :options=\"[\n            'download',\n            'upload',\n          ]\"\n          :labels=\"[\n            t('harvester.image.sourceType.download'),\n            t('harvester.image.sourceType.upload'),\n          ]\"\n          :mode=\"mode\"\n        />\n        <div class=\"row mb-20 mt-20\">\n          <div class=\"col span-12\">\n            <LabeledInput\n              v-if=\"!isCreate\"\n              v-model=\"value.spec.sourceType\"\n              :mode=\"mode\"\n              class=\"mb-20\"\n              :disabled=\"isEdit\"\n              label-key=\"harvester.image.source\"\n            />\n\n            <LabeledInput\n              v-if=\"value.spec.sourceType === 'download'\"\n              v-model=\"value.spec.url\"\n              :mode=\"mode\"\n              :disabled=\"isEdit\"\n              class=\"labeled-input--tooltip\"\n              required\n              label-key=\"harvester.image.url\"\n              :tooltip=\"t('harvester.image.urlTip', {}, true)\"\n            />\n\n            <div v-else>\n              <LabeledInput\n                v-if=\"isView\"\n                v-model=\"imageName\"\n                :mode=\"mode\"\n                class=\"mt-20\"\n                label-key=\"harvester.image.fileName\"\n              />\n\n              <button\n                v-if=\"isCreate\"\n                type=\"button\"\n                class=\"btn role-primary\"\n                @click=\"selectFile\"\n              >\n                <span>\n                  {{ t('harvester.image.uploadFile') }}\n                </span>\n                <input\n                  v-show=\"false\"\n                  id=\"file\"\n                  ref=\"file\"\n                  type=\"file\"\n                  accept=\".qcow, .qcow2, .raw, .img, .iso\"\n                  @change=\"handleFileUpload()\"\n                >\n              </button>\n\n              <div\n                v-if=\"uploadFileName\"\n                class=\"fileName mt-5\"\n              >\n                <span class=\"icon icon-file\" />\n                {{ uploadFileName }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Tab>\n\n      <!-- <Tab\n        name=\"storage\"\n        :label=\"t('harvester.storage.label')\"\n        :weight=\"89\"\n        class=\"bordered-table\"\n      >\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"storageClassName\"\n              :options=\"storageClassOptions\"\n              :label=\"t('harvester.storage.storageClass.label')\"\n              :mode=\"mode\"\n              :disabled=\"isEdit\"\n              class=\"mb-20\"\n            />\n          </div>\n        </div>\n      </Tab> -->\n\n      <Tab\n        name=\"labels\"\n        :label=\"t('labels.labels.title')\"\n        :weight=\"2\"\n        class=\"bordered-table\"\n      >\n        <KeyValue\n          key=\"labels\"\n          ref=\"labels\"\n          :value=\"value.labels\"\n          :add-label=\"t('labels.addLabel')\"\n          :mode=\"mode\"\n          :pad-left=\"false\"\n          :read-allowed=\"false\"\n          @focusKey=\"focusKey\"\n          @input=\"value.setLabels($event)\"\n        >\n          <template #key=\"{ row, keyName, queueUpdate}\">\n            <input\n              ref=\"key\"\n              v-model=\"row[keyName]\"\n              :placeholder=\"t('keyValue.keyPlaceholder')\"\n              @input=\"queueUpdate\"\n            >\n          </template>\n\n          <template #value=\"{row, keyName, valueName, queueUpdate}\">\n            <Select\n              v-if=\"internalAnnotations(row)\"\n              v-model=\"row[valueName]\"\n              :searchable=\"true\"\n              :clearable=\"false\"\n              :options=\"calculateOptions(row[keyName])\"\n              @input=\"queueUpdate\"\n            />\n            <input\n              v-else\n              v-model=\"row[valueName]\"\n              :disabled=\"isView\"\n              :type=\"'text'\"\n              :placeholder=\"t('keyValue.valuePlaceholder')\"\n              autocorrect=\"off\"\n              autocapitalize=\"off\"\n              spellcheck=\"false\"\n              @input=\"queueUpdate\"\n            >\n          </template>\n        </KeyValue>\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n.kv-item.value > .unlabeled-select {\n  height: 40px;\n  line-height: 1;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.virtualmachineimage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.virtualmachineimage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./harvesterhci.io.virtualmachineimage.vue?vue&type=template&id=703b18f1&scoped=true\"\nimport script from \"./harvesterhci.io.virtualmachineimage.vue?vue&type=script&lang=js\"\nexport * from \"./harvesterhci.io.virtualmachineimage.vue?vue&type=script&lang=js\"\nimport style0 from \"./harvesterhci.io.virtualmachineimage.vue?vue&type=style&index=0&id=703b18f1&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"703b18f1\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTemplate.vue?vue&type=style&index=0&id=7d491695&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('CruResource',{attrs:{\"done-route\":_vm.doneRoute,\"resource\":_vm.value,\"mode\":_vm.mode,\"errors\":_vm.errors,\"apply-hooks\":_vm.applyHooks},on:{\"finish\":_vm.save}},[_c('div',{staticClass:\"header mb-20\"},[(_vm.isCreate)?_c('FileSelector',{staticClass:\"btn btn-sm bg-primary mt-10\",attrs:{\"label\":_vm.t('generic.readFromFile'),\"accept\":\".pub\"},on:{\"selected\":_vm.onKeySelected}}):_vm._e()],1),_c('NameNsDescription',{key:_vm.randomString,ref:\"nd\",attrs:{\"mode\":_vm.mode},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('Tabbed',_vm._b({staticClass:\"mt-15\",attrs:{\"side-tabs\":true}},'Tabbed',_vm.$attrs,false),[_c('Tab',{staticClass:\"bordered-table\",attrs:{\"name\":\"basic\",\"label\":_vm.t('harvester.sshKey.tabs.basics'),\"weight\":1}},[_c('LabeledInput',{attrs:{\"type\":\"multiline\",\"mode\":_vm.mode,\"min-height\":160,\"label\":_vm.t('harvester.sshKey.keypair'),\"required\":\"\"},model:{value:(_vm.publicKey),callback:function ($$v) {_vm.publicKey=$$v},expression:\"publicKey\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport CruResource from '@shell/components/CruResource';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport FileSelector, { createOnSelected } from '@shell/components/form/FileSelector';\n\nimport { randomStr } from '@shell/utils/string';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nexport default {\n  name: 'HarvesterEditKeypair',\n\n  components: {\n    Tab,\n    Tabbed,\n    CruResource,\n    LabeledInput,\n    FileSelector,\n    NameNsDescription\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    }\n  },\n\n  data() {\n    if ( !this.value.spec ) {\n      this.value.spec = {};\n      this.value.metadata = { name: '' };\n    }\n\n    return {\n      publicKey:    this.value.spec.publicKey || '',\n      randomString: '',\n    };\n  },\n\n  watch: {\n    publicKey(neu) {\n      this.value.spec.publicKey = neu;\n\n      const splitSSH = neu.split(/\\s+/);\n\n      if (splitSSH.length === 3) {\n        if (splitSSH[2].includes('@') && !this.value.metadata.name) {\n          this.value.metadata.name = splitSSH[2].split('@')[0];\n          this.randomString = randomStr(10).toLowerCase();\n        }\n      }\n    }\n  },\n\n  methods: { onKeySelected: createOnSelected('publicKey') },\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :resource=\"value\"\n    :mode=\"mode\"\n    :errors=\"errors\"\n    :apply-hooks=\"applyHooks\"\n    @finish=\"save\"\n  >\n    <div class=\"header mb-20\">\n      <FileSelector\n        v-if=\"isCreate\"\n        class=\"btn btn-sm bg-primary mt-10\"\n        :label=\"t('generic.readFromFile')\"\n        accept=\".pub\"\n        @selected=\"onKeySelected\"\n      />\n    </div>\n\n    <NameNsDescription\n      ref=\"nd\"\n      :key=\"randomString\"\n      v-model=\"value\"\n      :mode=\"mode\"\n    />\n\n    <Tabbed\n      v-bind=\"$attrs\"\n      class=\"mt-15\"\n      :side-tabs=\"true\"\n    >\n      <Tab\n        name=\"basic\"\n        :label=\"t('harvester.sshKey.tabs.basics')\"\n        :weight=\"1\"\n        class=\"bordered-table\"\n      >\n        <LabeledInput\n          v-model=\"publicKey\"\n          type=\"multiline\"\n          :mode=\"mode\"\n          :min-height=\"160\"\n          :label=\"t('harvester.sshKey.keypair')\"\n          required\n        />\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n.header {\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.keypair.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.keypair.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./harvesterhci.io.keypair.vue?vue&type=template&id=0f630528&scoped=true\"\nimport script from \"./harvesterhci.io.keypair.vue?vue&type=script&lang=js\"\nexport * from \"./harvesterhci.io.keypair.vue?vue&type=script&lang=js\"\nimport style0 from \"./harvesterhci.io.keypair.vue?vue&type=style&index=0&id=0f630528&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f630528\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".vm__credentials-users .hasUsers.labeled-select.edit.taggable .labeled-tooltip .icon.status-icon{top:30px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('CruResource',{attrs:{\"done-route\":_vm.doneRoute,\"resource\":_vm.value,\"mode\":_vm.mode,\"errors\":_vm.errors,\"apply-hooks\":_vm.applyHooks},on:{\"finish\":_vm.saveNetwork}},[_c('NameNsDescription',{ref:\"nd\",attrs:{\"mode\":_vm.mode},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('Tabbed',_vm._b({staticClass:\"mt-15\",attrs:{\"side-tabs\":true}},'Tabbed',_vm.$attrs,false),[_c('Tab',{staticClass:\"bordered-table\",attrs:{\"name\":\"basics\",\"label\":_vm.t('harvester.network.tabs.basics'),\"weight\":99}},[_c('LabeledSelect',{staticClass:\"mb-20\",attrs:{\"options\":_vm.networkType,\"mode\":_vm.mode,\"label\":_vm.t('harvester.fields.type'),\"required\":\"\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport CruResource from '@shell/components/CruResource';\n// import { LabeledInput } from '@components/Form/LabeledInput';\n// import { RadioGroup } from '@components/Form/Radio';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nimport { HCI as HCI_LABELS_ANNOTATIONS } from '@pkg/harvester-ift/config/labels-annotations';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n// import { allHash } from '@shell/utils/promise';\nimport { HCI } from '../types';\nimport { PRODUCT_NAME } from '../config/harvester';\n\nconst AUTO = 'auto';\nconst MANUAL = 'manual';\n\nexport default {\n  components: {\n    Tab,\n    Tabbed,\n    CruResource,\n    // LabeledInput,\n    NameNsDescription,\n    // RadioGroup,\n    LabeledSelect,\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    }\n  },\n\n  data() {\n    const config = JSON.parse(this.value.spec.config);\n\n    // const annotations = this.value?.metadata?.annotations || {};\n    // const layer3Network = JSON.parse(annotations[HCI_LABELS_ANNOTATIONS.NETWORK_ROUTE] || '{}');\n    if ((config.bridge || '').endsWith('-br')) {\n      config.bridge = config.bridge.slice(0, -3);\n    }\n\n    // const type = this.value.vlanType || 'L2VlanNetwork' ;\n    const type = 'macvtap';\n\n    config.type = type;\n\n    if (this?.value?.metadata?.annotations?.[HCI_LABELS_ANNOTATIONS.KOPF_LAST_HANDLED]) {\n      delete this.value.metadata.annotations[HCI_LABELS_ANNOTATIONS.KOPF_LAST_HANDLED];\n    }\n\n    return {\n      config,\n      type,\n      resourceName: 'macvtap.network.kubevirt.io/dataplane',\n      // layer3Network: {\n      //   mode:         layer3Network.mode || AUTO,\n      //   serverIPAddr: layer3Network.serverIPAddr || '',\n      //   cidr:         layer3Network.cidr || '',\n      //   gateway:      layer3Network.gateway || '',\n      // },\n    };\n  },\n\n  // async fetch() {\n  //   // const inStore = this.$store.getters['currentProduct'].inStore;\n  //   const inStore = PRODUCT_NAME;\n\n  //   await allHash({ clusterNetworks: this.$store.dispatch(`${ inStore }/findAll`, { type: HCI.CLUSTER_NETWORK }) });\n  // },\n\n  created() {\n    this.value.setAnnotation(HCI_LABELS_ANNOTATIONS.NETWORK_ROUTE, this.resourceName);\n    if (this.registerBeforeHook) {\n      this.registerBeforeHook(this.updateBeforeSave);\n    }\n  },\n\n  computed: {\n    modeOptions() {\n      return [{\n        label: this.t('harvester.network.layer3Network.mode.auto'),\n        value: AUTO,\n      }, {\n        label: this.t('harvester.network.layer3Network.mode.manual'),\n        value: MANUAL,\n      }];\n    },\n\n    clusterNetworkOptions() {\n    //   const inStore = this.$store.getters['currentProduct'].inStore;\n      const inStore = PRODUCT_NAME;\n      const clusterNetworks = this.$store.getters[`${ inStore }/all`](HCI.CLUSTER_NETWORK) || [];\n\n      return clusterNetworks.map((n) => {\n        const disabled = !n.isReady;\n\n        return {\n          label: disabled ? `${ n.id } (${ this.t('generic.notReady') })` : n.id,\n          value: n.id,\n          disabled,\n        };\n      });\n    },\n\n    networkType() {\n      // return ['L2VlanNetwork', 'UntaggedNetwork'];\n      return ['macvtap'];\n    },\n\n    isUntaggedNetwork() {\n      if (this.isView) {\n        return this.value.vlanType === 'UntaggedNetwork';\n      }\n\n      return this.type === 'UntaggedNetwork';\n    }\n  },\n\n  methods: {\n    async saveNetwork(buttonCb) {\n      const errors = [];\n\n      // if (!this.config.vlan && !this.isUntaggedNetwork) {\n      //   errors.push(this.$store.getters['i18n/t']('validation.required', { key: this.t('tableHeaders.networkVlan') }));\n      // }\n\n      // if (!this.config.bridge) {\n      //   errors.push(this.$store.getters['i18n/t']('validation.required', { key: this.t('harvester.network.clusterNetwork.label') }));\n      // }\n\n      // if (this.layer3Network.mode === MANUAL) {\n      //   if (!this.layer3Network.gateway) {\n      //     errors.push(this.$store.getters['i18n/t']('validation.required', { key: this.t('harvester.network.layer3Network.gateway.label') }));\n      //   }\n      //   if (!this.layer3Network.cidr) {\n      //     errors.push(this.$store.getters['i18n/t']('validation.required', { key: this.t('harvester.network.layer3Network.cidr.label') }));\n      //   }\n      // }\n\n      if (errors.length > 0) {\n        buttonCb(false);\n        this.errors = errors;\n\n        return false;\n      }\n\n      // this.value.setAnnotation(HCI_LABELS_ANNOTATIONS.NETWORK_ROUTE, JSON.stringify(this.layer3Network));\n      // this.value.setAnnotation(HCI_LABELS_ANNOTATIONS.NETWORK_ROUTE, this.resourceName);\n\n      await this.save(buttonCb);\n    },\n\n    input(neu) {\n      const pattern = /^([1-9]|[1-9][0-9]{1,2}|[1-3][0-9]{3}|40[0-9][0-4])$/;\n\n      if (!pattern.test(neu) && neu !== '') {\n        this.config.vlan = neu > 4094 ? 4094 : 1;\n      }\n    },\n\n    updateBeforeSave() {\n      this.config.name = this.value.metadata.name;\n\n      if (this.isUntaggedNetwork) {\n        delete this.config.vlan;\n      }\n\n      this.value.spec.config = JSON.stringify({\n        ...this.config,\n        // bridge: `${ this.config.bridge }-br`,\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :resource=\"value\"\n    :mode=\"mode\"\n    :errors=\"errors\"\n    :apply-hooks=\"applyHooks\"\n    @finish=\"saveNetwork\"\n  >\n    <NameNsDescription\n      ref=\"nd\"\n      v-model=\"value\"\n      :mode=\"mode\"\n    />\n    <Tabbed\n      v-bind=\"$attrs\"\n      class=\"mt-15\"\n      :side-tabs=\"true\"\n    >\n      <Tab\n        name=\"basics\"\n        :label=\"t('harvester.network.tabs.basics')\"\n        :weight=\"99\"\n        class=\"bordered-table\"\n      >\n        <LabeledSelect\n          v-model=\"type\"\n          class=\"mb-20\"\n          :options=\"networkType\"\n          :mode=\"mode\"\n          :label=\"t('harvester.fields.type')\"\n          required\n        />\n\n        <!-- <LabeledInput\n          v-if=\"!isUntaggedNetwork\"\n          v-model.number=\"config.vlan\"\n          v-int-number\n          class=\"mb-20\"\n          required\n          type=\"number\"\n          placeholder=\"e.g. 1-4094\"\n          :label=\"t('tableHeaders.networkVlan')\"\n          :mode=\"mode\"\n          @input=\"input\"\n        />\n\n        <div class=\"row\">\n          <div\n            class=\"col span-12\"\n          >\n            <LabeledSelect\n              v-model=\"config.bridge\"\n              class=\"mb-20\"\n              :label=\"t('harvester.network.clusterNetwork.label')\"\n              required\n              :options=\"clusterNetworkOptions\"\n              :mode=\"mode\"\n              :placeholder=\"t('harvester.network.clusterNetwork.selectPlaceholder')\"\n            />\n          </div>\n        </div> -->\n      </Tab>\n      <!-- <Tab\n        v-if=\"!isUntaggedNetwork\"\n        name=\"layer3Network\"\n        :label=\"t('harvester.network.tabs.layer3Network')\"\n        :weight=\"98\"\n        class=\"bordered-table\"\n      >\n        <div class=\"row mt-10\">\n          <div class=\"col span-6\">\n            <RadioGroup\n              v-model=\"layer3Network.mode\"\n              name=\"layer3NetworkMode\"\n              :label=\"t('harvester.network.layer3Network.mode.label')\"\n              :mode=\"mode\"\n              :options=\"modeOptions\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"layer3Network.mode === 'auto'\"\n          class=\"row mt-10\"\n        >\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"layer3Network.serverIPAddr\"\n              class=\"mb-20\"\n              :label=\"t('harvester.network.layer3Network.serverIPAddr.label')\"\n              :mode=\"mode\"\n            />\n          </div>\n        </div>\n        <div\n          v-else\n          class=\"row mt-10\"\n        >\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"layer3Network.cidr\"\n              class=\"mb-20\"\n              :label=\"t('harvester.network.layer3Network.cidr.label')\"\n              :placeholder=\"t('harvester.network.layer3Network.cidr.placeholder')\"\n              :mode=\"mode\"\n              required\n            />\n          </div>\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"layer3Network.gateway\"\n              class=\"mb-20\"\n              :label=\"t('harvester.network.layer3Network.gateway.label')\"\n              :placeholder=\"t('harvester.network.layer3Network.gateway.placeholder')\"\n              :mode=\"mode\"\n              required\n            />\n          </div>\n        </div>\n      </Tab> -->\n    </Tabbed>\n  </CruResource>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./k8s.cni.cncf.io.networkattachmentdefinition.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./k8s.cni.cncf.io.networkattachmentdefinition.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./k8s.cni.cncf.io.networkattachmentdefinition.vue?vue&type=template&id=5c9f5f2d\"\nimport script from \"./k8s.cni.cncf.io.networkattachmentdefinition.vue?vue&type=script&lang=js\"\nexport * from \"./k8s.cni.cncf.io.networkattachmentdefinition.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b57c60be&prod&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b57c60be&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1450dfef\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".volume-source[data-v-6386f148]{position:relative}.remove-vol[data-v-6386f148]{position:absolute;top:10px;right:10px;padding:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.volume.vue?vue&type=style&index=0&id=7aebdcbb&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"columns row\"},[_c('div',{staticClass:\"col span-6\"},[_c('AccessCredentialsUsers',{attrs:{\"resource\":_vm.resource,\"user-options\":_vm.userOptions,\"mode\":_vm.mode,\"multiple\":true},on:{\"update:user\":_vm.updateUser,\"update:newUser\":_vm.updateNewUser},model:{value:(_vm.value.users),callback:function ($$v) {_vm.$set(_vm.value, \"users\", $$v)},expression:\"value.users\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('SSHKey',{staticClass:\"mb-20\",attrs:{\"namespace\":_vm.resource.metadata.namespace,\"mode\":_vm.mode,\"searchable\":false},on:{\"update:sshKey\":_vm.updateSSH},model:{value:(_vm.value.sshkeys),callback:function ($$v) {_vm.$set(_vm.value, \"sshkeys\", $$v)},expression:\"value.sshkeys\"}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport SSHKey from '../../VirtualMachineSSHKey';\nimport AccessCredentialsUsers from '../AccessCredentialsUsers';\n\nexport default {\n  name:       'HarvesterEditVolume',\n  components: { SSHKey, AccessCredentialsUsers },\n\n  props: {\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    resource: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    userOptions: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n  },\n\n  methods: {\n    update() {\n      this.$emit('update');\n    },\n\n    updateUser(neu) {\n      this.$set(this.value, 'users', neu);\n      this.update();\n    },\n\n    updateSSH(neu) {\n      this.$set(this.value, 'sshkeys', neu);\n      this.update();\n    },\n\n    updateNewUser(neu) {\n      this.$emit('update:newUser', neu);\n    }\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"columns row\">\n      <div class=\"col span-6\">\n        <AccessCredentialsUsers\n          v-model=\"value.users\"\n          :resource=\"resource\"\n          :user-options=\"userOptions\"\n          :mode=\"mode\"\n          :multiple=\"true\"\n          @update:user=\"updateUser\"\n          @update:newUser=\"updateNewUser\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <SSHKey\n          v-model=\"value.sshkeys\"\n          class=\"mb-20\"\n          :namespace=\"resource.metadata.namespace\"\n          :mode=\"mode\"\n          :searchable=\"false\"\n          @update:sshKey=\"updateSSH\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./sshkey.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./sshkey.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./sshkey.vue?vue&type=template&id=67a06816\"\nimport script from \"./sshkey.vue?vue&type=script&lang=js\"\nexport * from \"./sshkey.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.cloudtemplate.vue?vue&type=style&index=0&id=517188b9&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"322704a2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hevi-name\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.name'),\"value\":_vm.value.name,\"mode\":_vm.mode}},[_c('LabeledInput',{attrs:{\"label\":_vm.t('harvester.fields.name'),\"required\":\"\",\"mode\":_vm.mode},on:{\"input\":_vm.update},model:{value:(_vm.value.name),callback:function ($$v) {_vm.$set(_vm.value, \"name\", $$v)},expression:\"value.name\"}})],1)],1),_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hevi-type\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.type'),\"value\":_vm.value.type,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.fields.type'),\"options\":_vm.VOLUME_TYPE,\"mode\":_vm.mode},on:{\"input\":_vm.update},model:{value:(_vm.value.type),callback:function ($$v) {_vm.$set(_vm.value, \"type\", $$v)},expression:\"value.type\"}})],1)],1)]),_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hevi-image\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.image'),\"value\":_vm.imageName,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"disabled\":_vm.idx === 0 && !_vm.isCreate && !_vm.value.newCreateId && _vm.isVirtualType,\"label\":_vm.t('harvester.fields.image'),\"options\":_vm.imagesOption,\"mode\":_vm.mode,\"searchable\":true,\"required\":_vm.validateRequired},on:{\"input\":_vm.onImageChange},model:{value:(_vm.value.image),callback:function ($$v) {_vm.$set(_vm.value, \"image\", $$v)},expression:\"value.image\"}})],1)],1),_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hevi-size\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.size'),\"value\":_vm.value.size,\"mode\":_vm.mode}},[_c('UnitInput',{attrs:{\"output-modifier\":true,\"increment\":1024,\"input-exponent\":3,\"label\":_vm.t('harvester.fields.size'),\"mode\":_vm.mode,\"min\":10,\"required\":_vm.validateRequired,\"suffix\":\"GiB\"},on:{\"input\":_vm.update},model:{value:(_vm.value.size),callback:function ($$v) {_vm.$set(_vm.value, \"size\", $$v)},expression:\"value.size\"}})],1)],1)]),_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-3\",attrs:{\"data-testid\":\"input-hevi-bus\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.virtualMachine.volume.bus'),\"value\":_vm.value.bus,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.virtualMachine.volume.bus'),\"mode\":_vm.mode,\"options\":_vm.InterfaceOption},on:{\"input\":_vm.update},model:{value:(_vm.value.bus),callback:function ($$v) {_vm.$set(_vm.value, \"bus\", $$v)},expression:\"value.bus\"}})],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { findBy } from '@shell/utils/array';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport InputOrDisplay from '@shell/components/InputOrDisplay';\nimport { PVC } from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../../../../types';\nimport { formatSi, parseSi } from '@shell/utils/units';\nimport { VOLUME_TYPE, InterfaceOption } from '../../../../config/harvester-map';\n\nexport default {\n  name: 'HarvesterEditVMImage',\n\n  components: {\n    UnitInput, LabeledInput, LabeledSelect, InputOrDisplay\n  },\n\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    namespace: {\n      type:    String,\n      default: null\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    idx: {\n      type:     Number,\n      required: true\n    },\n\n    isCreate: {\n      type:    Boolean,\n      default: true\n    },\n    isEdit: {\n      type:    Boolean,\n      default: false\n    },\n\n    validateRequired: {\n      type:     Boolean,\n      required: true\n    },\n\n    isVirtualType: {\n      type:    Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      VOLUME_TYPE,\n      InterfaceOption,\n      loading: false,\n      images:  [],\n    };\n  },\n\n  fetch() {\n    this.images = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.IMAGE);\n  },\n\n  computed: {\n    imagesOption() {\n      return this.images.filter((c) => c.isReady).sort((a, b) => a.creationTimestamp > b.creationTimestamp ? -1 : 1).map( (I) => {\n        return {\n          label: `${ I.metadata.namespace }/${ I.spec.displayName }`,\n          value: I.id\n        };\n      });\n    },\n\n    imageName() {\n      const image = this.imagesOption.find((I) => I.value === this.value.image);\n\n      return image ? image.label : '-';\n    },\n\n    pvcsResource() {\n      const allPVCs = this.$store.getters[`${ PRODUCT_NAME }/all`](PVC) || [];\n\n      return allPVCs.find((P) => {\n        return this.namespace ? P.id === `${ this.namespace }/${ this.value.volumeName }` : true;\n      });\n    }\n  },\n\n  watch: {\n    'value.type'(neu) {\n      if (neu === 'cd-rom') {\n        this.$set(this.value, 'bus', 'sata');\n        this.update();\n      }\n    },\n\n    'value.image'(neu) {\n      this.checkImageExists(neu);\n    },\n\n    imagesOption() {\n      this.checkImageExists(this.value.image);\n    },\n\n    pvcsResource: {\n      handler(pvc) {\n        if (pvc?.spec?.resources?.requests?.storage && this.isVirtualType) {\n          const parseValue = parseSi(pvc.spec.resources.requests.storage);\n\n          const formatSize = formatSi(parseValue, {\n            increment:   1024,\n            addSuffix:   false,\n            maxExponent: 3,\n            minExponent: 3,\n          });\n\n          this.value.size = `${ formatSize }Gi`;\n        }\n      },\n      deep:      true,\n      immediate: true\n    },\n  },\n\n  methods: {\n    update() {\n      this.$emit('update');\n    },\n\n    onImageChange() {\n      const imageResource = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.IMAGE)?.find( (I) => this.value.image === I.id);\n\n      if (this.idx === 0) {\n        if (/iso$/i.test(imageResource?.imageSuffix)) {\n          this.$set(this.value, 'type', 'cd-rom');\n          this.$set(this.value, 'bus', 'sata');\n        } else {\n          this.$set(this.value, 'type', 'disk');\n          this.$set(this.value, 'bus', 'virtio');\n        }\n      }\n\n      this.update();\n    },\n\n    onOpen() {\n      this.images = this.$store.getters[`${ PRODUCT_NAME }/all`](HCI.IMAGE);\n    },\n\n    checkImageExists(imageId) {\n      if (!!imageId && this.imagesOption.length > 0 && !findBy(this.imagesOption, 'value', imageId)) {\n        this.$store.dispatch('growl/error', {\n          title:   this.$store.getters['i18n/t']('harvester.vmTemplate.tips.notExistImage.title', { name: imageId }),\n          message: this.$store.getters['i18n/t']('harvester.vmTemplate.tips.notExistImage.message')\n        }, { root: true });\n\n        this.$set(this.value, 'image', '');\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hevi-name\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.name')\"\n          :value=\"value.name\"\n          :mode=\"mode\"\n        >\n          <LabeledInput\n            v-model=\"value.name\"\n            :label=\"t('harvester.fields.name')\"\n            required\n            :mode=\"mode\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <div\n        data-testid=\"input-hevi-type\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.type')\"\n          :value=\"value.type\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.type\"\n            :label=\"t('harvester.fields.type')\"\n            :options=\"VOLUME_TYPE\"\n            :mode=\"mode\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hevi-image\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.image')\"\n          :value=\"imageName\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.image\"\n            :disabled=\"idx === 0 && !isCreate && !value.newCreateId && isVirtualType\"\n            :label=\"t('harvester.fields.image')\"\n            :options=\"imagesOption\"\n            :mode=\"mode\"\n            :searchable=\"true\"\n            :required=\"validateRequired\"\n            @input=\"onImageChange\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <div\n        data-testid=\"input-hevi-size\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.size')\"\n          :value=\"value.size\"\n          :mode=\"mode\"\n        >\n          <UnitInput\n            v-model=\"value.size\"\n            :output-modifier=\"true\"\n            :increment=\"1024\"\n            :input-exponent=\"3\"\n            :label=\"t('harvester.fields.size')\"\n            :mode=\"mode\"\n            :min=\"10\"\n            :required=\"validateRequired\"\n            suffix=\"GiB\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hevi-bus\"\n        class=\"col span-3\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.virtualMachine.volume.bus')\"\n          :value=\"value.bus\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.bus\"\n            :label=\"t('harvester.virtualMachine.volume.bus')\"\n            :mode=\"mode\"\n            :options=\"InterfaceOption\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./vmImage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./vmImage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./vmImage.vue?vue&type=template&id=cd3657e8\"\nimport script from \"./vmImage.vue?vue&type=script&lang=js\"\nexport * from \"./vmImage.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-6\"},[_c('InputOrDisplay',{staticClass:\"mb-20\",attrs:{\"name\":\"CPU\",\"value\":_vm.cupDisplay,\"mode\":_vm.mode}},[_c('UnitInput',{directives:[{name:\"int-number\",rawName:\"v-int-number\"}],staticClass:\"mb-20\",attrs:{\"label\":\"CPU\",\"suffix\":\"C\",\"delay\":0,\"required\":\"\",\"disabled\":_vm.disabled,\"mode\":_vm.mode},on:{\"input\":_vm.change},model:{value:(_vm.localCpu),callback:function ($$v) {_vm.localCpu=$$v},expression:\"localCpu\"}})],1)],1),_c('div',{staticClass:\"col span-6\"},[_c('InputOrDisplay',{staticClass:\"mb-20\",attrs:{\"name\":_vm.t('harvester.virtualMachine.input.memory'),\"value\":_vm.memoryDisplay,\"mode\":_vm.mode}},[_c('UnitInput',{directives:[{name:\"int-number\",rawName:\"v-int-number\"}],staticClass:\"mb-20\",attrs:{\"label\":_vm.t('harvester.virtualMachine.input.memory'),\"mode\":_vm.mode,\"input-exponent\":3,\"delay\":0,\"increment\":1024,\"output-modifier\":true,\"disabled\":_vm.disabled,\"required\":\"\"},on:{\"input\":_vm.change},model:{value:(_vm.localMemory),callback:function ($$v) {_vm.localMemory=$$v},expression:\"localMemory\"}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport UnitInput from '@shell/components/form/UnitInput';\nimport InputOrDisplay from '@shell/components/InputOrDisplay';\n\nexport default {\n  name:       'HarvesterEditCpuMemory',\n  components: { UnitInput, InputOrDisplay },\n\n  props: {\n    cpu: {\n      type:    Number,\n      default: null\n    },\n    memory: {\n      type:    String,\n      default: null\n    },\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n    disabled: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      localCpu:    this.cpu,\n      localMemory: this.memory\n    };\n  },\n\n  computed: {\n    cupDisplay() {\n      return `${ this.localCpu } C`;\n    },\n\n    memoryDisplay() {\n      return `${ this.localMemory } GiB`;\n    }\n  },\n\n  watch: {\n    cpu(neu) {\n      this.localCpu = neu;\n    },\n    memory(neu) {\n      if (neu && !neu.includes('null')) {\n        this.localMemory = neu;\n      }\n    }\n  },\n\n  methods: {\n    change() {\n      let memory = '';\n\n      if (String(this.localMemory).includes('Gi')) {\n        memory = this.localMemory;\n      } else {\n        memory = `${ this.localMemory }Gi`;\n      }\n      if (memory.includes('null')) {\n        memory = null;\n      }\n      this.$emit('updateCpuMemory', this.localCpu, memory);\n    },\n\n  }\n};\n</script>\n\n<template>\n  <div class=\"row\">\n    <div class=\"col span-6\">\n      <InputOrDisplay\n        name=\"CPU\"\n        :value=\"cupDisplay\"\n        :mode=\"mode\"\n        class=\"mb-20\"\n      >\n        <UnitInput\n          v-model=\"localCpu\"\n          v-int-number\n          label=\"CPU\"\n          suffix=\"C\"\n          :delay=\"0\"\n          required\n          :disabled=\"disabled\"\n          :mode=\"mode\"\n          class=\"mb-20\"\n          @input=\"change\"\n        />\n      </InputOrDisplay>\n    </div>\n\n    <div class=\"col span-6\">\n      <InputOrDisplay\n        :name=\"t('harvester.virtualMachine.input.memory')\"\n        :value=\"memoryDisplay\"\n        :mode=\"mode\"\n        class=\"mb-20\"\n      >\n        <UnitInput\n          v-model=\"localMemory\"\n          v-int-number\n          :label=\"t('harvester.virtualMachine.input.memory')\"\n          :mode=\"mode\"\n          :input-exponent=\"3\"\n          :delay=\"0\"\n          :increment=\"1024\"\n          :output-modifier=\"true\"\n          :disabled=\"disabled\"\n          required\n          class=\"mb-20\"\n          @input=\"change\"\n        />\n      </InputOrDisplay>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualMachineCpuMemory.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualMachineCpuMemory.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./VirtualMachineCpuMemory.vue?vue&type=template&id=816f2e1e\"\nimport script from \"./VirtualMachineCpuMemory.vue?vue&type=script&lang=js\"\nexport * from \"./VirtualMachineCpuMemory.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row\",on:{\"input\":_vm.update}},[_c('div',{staticClass:\"col span-6\"},[_c('AccessCredentialsUsers',{attrs:{\"resource\":_vm.resource,\"user-options\":_vm.userOptions,\"multiple\":false,\"mode\":_vm.mode},on:{\"update:user\":_vm.updateUser,\"update:newUser\":_vm.updateNewUser},model:{value:(_vm.value.username),callback:function ($$v) {_vm.$set(_vm.value, \"username\", $$v)},expression:\"value.username\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('Password',{ref:\"password\",attrs:{\"mode\":_vm.mode,\"disabled\":_vm.mode !== 'edit',\"label\":_vm.t('harvester.virtualMachine.input.password'),\"required\":\"\"},model:{value:(_vm.value.newPassword),callback:function ($$v) {_vm.$set(_vm.value, \"newPassword\", $$v)},expression:\"value.newPassword\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Password from '@shell/components/form/Password';\nimport AccessCredentialsUsers from '../AccessCredentialsUsers';\n\nexport default {\n  name:       'HarvesterEditVolume',\n  components: { Password, AccessCredentialsUsers },\n\n  props: {\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    resource: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    userOptions: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n  },\n\n  data() {\n    return {\n      defaultPwdValue: {\n        username:    '',\n        newPassword: ''\n      }\n    };\n  },\n\n  methods: {\n    update() {\n      this.$emit('update');\n    },\n\n    updateUser(neu) {\n      this.$set(this.value, 'username', neu);\n      this.update();\n    },\n\n    updateNewUser(neu) {\n      this.$emit('update:newUser', neu);\n    }\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"row\"\n    @input=\"update\"\n  >\n    <div class=\"col span-6\">\n      <AccessCredentialsUsers\n        v-model=\"value.username\"\n        :resource=\"resource\"\n        :user-options=\"userOptions\"\n        :multiple=\"false\"\n        :mode=\"mode\"\n        @update:user=\"updateUser\"\n        @update:newUser=\"updateNewUser\"\n      />\n    </div>\n    <div class=\"col span-6\">\n      <Password\n        ref=\"password\"\n        v-model=\"value.newPassword\"\n        :mode=\"mode\"\n        :disabled=\"mode !== 'edit'\"\n        :label=\"t('harvester.virtualMachine.input.password')\"\n        required\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.action {\n  display: flex;\n  flex-direction: row-reverse;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./basicAuth.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./basicAuth.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./basicAuth.vue?vue&type=template&id=4ed320b6&scoped=true\"\nimport script from \"./basicAuth.vue?vue&type=script&lang=js\"\nexport * from \"./basicAuth.vue?vue&type=script&lang=js\"\nimport style0 from \"./basicAuth.vue?vue&type=style&index=0&id=4ed320b6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ed320b6\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.virtualmachineimage.vue?vue&type=style&index=0&id=703b18f1&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4ca3ebaf\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"restore\"}},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"mb-20\"},[_c('RadioGroup',{attrs:{\"name\":\"model\",\"options\":[true,false],\"labels\":[_vm.t('harvester.backup.restore.createNew'), _vm.t('harvester.backup.restore.replaceExisting')],\"disabled\":_vm.disableExisting,\"mode\":_vm.mode},model:{value:(_vm.restoreNewVm),callback:function ($$v) {_vm.restoreNewVm=$$v},expression:\"restoreNewVm\"}})],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"disabled\":true,\"label\":_vm.t('nameNsDescription.namespace.label'),\"options\":_vm.namespaces},model:{value:(_vm.namespace),callback:function ($$v) {_vm.namespace=$$v},expression:\"namespace\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{staticClass:\"mb-20\",attrs:{\"disabled\":!_vm.restoreNewVm,\"label\":_vm.t('harvester.backup.restore.virtualMachineName'),\"placeholder\":_vm.t('nameNsDescription.name.placeholder')},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)]),_c('LabeledSelect',{staticClass:\"mb-20\",attrs:{\"label\":_vm.t('harvester.vmSnapshot.snapshot'),\"options\":_vm.snapshotOption},model:{value:(_vm.snapshotName),callback:function ($$v) {_vm.snapshotName=$$v},expression:\"snapshotName\"}}),(!_vm.restoreNewVm)?_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.backup.restore.deletePreviousVolumes'),\"options\":_vm.deletionPolicyOption},model:{value:(_vm.deletionPolicy),callback:function ($$v) {_vm.deletionPolicy=$$v},expression:\"deletionPolicy\"}}):_vm._e()],1),_c('Footer',{staticClass:\"footer\",attrs:{\"mode\":\"create\",\"errors\":_vm.errors},on:{\"save\":_vm.saveRestore,\"done\":_vm.done}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Footer from '@shell/components/form/Footer';\nimport { RadioGroup } from '@components/Form/Radio';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { allHash } from '@shell/utils/promise';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { NAMESPACE } from '@shell/config/types';\nimport { HCI, PRODUCT_NAME } from '../types';\nimport { sortBy } from '@shell/utils/sort';\nimport { clone } from '@shell/utils/object';\n\nconst createObject = {\n  apiVersion: 'snapshot.kubevirt.io/v1alpha1',\n  kind:       'VirtualMachineRestore',\n  metadata:   { name: '', namespace: '' },\n  type:       HCI.RESTORE,\n  spec:       {\n    target: {\n      apiGroup: 'kubevirt.io',\n      kind:     'VirtualMachine',\n      name:     ''\n    },\n    virtualMachineSnapshotName: '',\n    newVM:                      true,\n    deletionPolicy:             'retain'\n  }\n};\n\nexport default {\n  name:       'CreateRestore',\n  components: {\n    Footer,\n    RadioGroup,\n    LabeledInput,\n    LabeledSelect,\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    await allHash({\n      backups: this.$store.dispatch(`cluster/findAll`, { type: HCI.VM_SNAPSHOT }),\n      vms:     this.$store.dispatch(`${ PRODUCT_NAME }/findAll`, { type: HCI.VM }),\n    });\n  },\n\n  data() {\n    const restoreMode = this.$route.query?.restoreMode;\n    const snapshotName = this.$route.query?.resourceName;\n\n    const restoreResource = clone(createObject);\n\n    const restoreNewVm = restoreMode === 'new' || restoreMode === undefined;\n\n    return {\n      snapshotName,\n      restoreNewVm,\n      restoreResource,\n      name:           '',\n      description:    '',\n      deletionPolicy: 'retain',\n      namespace:      ''\n    };\n  },\n\n  computed: {\n    snapshotOption() {\n      const choices = this.$store.getters[`cluster/all`](HCI.VM_SNAPSHOT);\n\n      return choices.filter( (T) => {\n        const hasVM = this.restoreNewVm || T.attachVmExisting;\n\n        // return hasVM && T?.status?.readyToUse && T.spec?.type === 'snapshot';\n        return hasVM && T?.status?.readyToUse;\n      }).map( (T) => {\n        return {\n          label: T.metadata.name,\n          value: T.metadata.name\n        };\n      });\n    },\n\n    deletionPolicyOption() {\n      return [{\n        value: 'retain',\n        label: 'Retain'\n      }];\n    },\n\n    currentBackupResource() {\n      const name = this.snapshotName;\n\n      const backupList = this.$store.getters[`cluster/all`](HCI.VM_SNAPSHOT);\n\n      return backupList.find( (O) => O.name === name);\n    },\n\n    disableExisting() {\n      return !this.currentBackupResource?.attachVmExisting;\n    },\n\n    snapshotNamespace() {\n      const backupList = this.$store.getters[`cluster/all`](HCI.VM_SNAPSHOT);\n\n      return backupList.find( (B) => B.metadata.name === this.snapshotName)?.metadata?.namespace;\n    },\n\n    namespaces() {\n    //   const inStore = this.$store.getters['currentStore'](NAMESPACE);\n      const choices = this.$store.getters[`cluster/all`](NAMESPACE);\n      const systemNamespaces = this.$store.getters['systemNamespaces'];\n\n      const out = sortBy(\n        choices.filter((N) => !systemNamespaces.includes(N.metadata.name)).map((obj) => {\n          return {\n            label: obj.nameDisplay,\n            value: obj.id,\n          };\n        }),\n        'label'\n      );\n\n      return out;\n    },\n  },\n\n  watch: {\n    snapshotName: {\n      handler(neu) {\n        if (this.currentBackupResource) {\n          if (!this.restoreNewVm) {\n            this.name = this?.currentBackupResource?.attachVM;\n          }\n        }\n\n        this.restoreResource.spec.virtualMachineSnapshotName = neu;\n      },\n      immediate: true\n    },\n\n    restoreNewVm(neu) {\n      if (neu) {\n        this.name = '';\n      } else {\n        this.name = this?.currentBackupResource?.attachVM;\n      }\n    },\n\n    snapshotNamespace: {\n      handler(neu) {\n        this.namespace = neu;\n      },\n      immediate: true\n    }\n  },\n\n  methods: {\n    async saveRestore(buttonCb) {\n      this.update();\n\n      const proxyResource = await this.$store.dispatch(`cluster/create`, this.restoreResource);\n\n      proxyResource.metadata.namespace = this.namespace;\n      // proxyResource.spec.virtualMachineBackupNamespace = this.snapshotNamespace;\n      try {\n        await proxyResource.save();\n        buttonCb(true);\n\n        this.$router.push({\n          name:   this.doneRoute,\n          params: { resource: HCI.VM }\n        });\n      } catch (err) {\n        this.errors = exceptionToErrorsArray(err) || err;\n        buttonCb(false);\n      }\n    },\n\n    update() {\n      this.restoreResource.metadata.generateName = `restore-${ this.snapshotName }-`;\n      if (this.name) {\n        this.restoreResource.spec.target.name = this.name;\n      }\n\n      if (this.restoreNewVm) {\n        delete this.restoreResource.spec.deletionPolicy;\n        this.restoreResource.spec.newVM = true;\n      } else {\n        this.restoreResource.spec.deletionPolicy = this.deletionPolicy;\n        delete this.restoreResource.spec.newVM;\n      }\n    }\n  },\n\n  componentTitle() {\n    return 'restoreVM';\n  }\n};\n</script>\n\n<template>\n  <div id=\"restore\">\n    <div class=\"content\">\n      <div class=\"mb-20\">\n        <RadioGroup\n          v-model=\"restoreNewVm\"\n          name=\"model\"\n          :options=\"[true,false]\"\n          :labels=\"[t('harvester.backup.restore.createNew'), t('harvester.backup.restore.replaceExisting')]\"\n          :disabled=\"disableExisting\"\n          :mode=\"mode\"\n        />\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"namespace\"\n            :disabled=\"true\"\n            :label=\"t('nameNsDescription.namespace.label')\"\n            :options=\"namespaces\"\n          />\n        </div>\n\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"name\"\n            :disabled=\"!restoreNewVm\"\n            :label=\"t('harvester.backup.restore.virtualMachineName')\"\n            :placeholder=\"t('nameNsDescription.name.placeholder')\"\n            class=\"mb-20\"\n          />\n        </div>\n      </div>\n\n      <LabeledSelect\n        v-model=\"snapshotName\"\n        class=\"mb-20\"\n        :label=\"t('harvester.vmSnapshot.snapshot')\"\n        :options=\"snapshotOption\"\n      />\n\n      <LabeledSelect\n        v-if=\"!restoreNewVm\"\n        v-model=\"deletionPolicy\"\n        :label=\"t('harvester.backup.restore.deletePreviousVolumes')\"\n        :options=\"deletionPolicyOption\"\n      />\n    </div>\n\n    <Footer\n      mode=\"create\"\n      class=\"footer\"\n      :errors=\"errors\"\n      @save=\"saveRestore\"\n      @done=\"done\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n#restore {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n\n  ::v-deep .radio-group {\n    display: flex;\n    .radio-container {\n      margin-right: 30px;\n    }\n  }\n\n  .content {\n    flex-grow: 1\n  }\n\n  .footer {\n    border-top: var(--header-border-size) solid var(--header-border);\n\n    // Overrides outlet padding\n    margin-left: -$space-m;\n    margin-right: -$space-m;\n    margin-bottom: -$space-m;\n    padding: $space-s $space-m;\n\n    ::v-deep .spacer-small {\n      padding: 0px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./snapshot.kubevirt.io.virtualmachinesnapshot.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./snapshot.kubevirt.io.virtualmachinesnapshot.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./snapshot.kubevirt.io.virtualmachinesnapshot.vue?vue&type=template&id=6db19d83&scoped=true\"\nimport script from \"./snapshot.kubevirt.io.virtualmachinesnapshot.vue?vue&type=script&lang=js\"\nexport * from \"./snapshot.kubevirt.io.virtualmachinesnapshot.vue?vue&type=script&lang=js\"\nimport style0 from \"./snapshot.kubevirt.io.virtualmachinesnapshot.vue?vue&type=style&index=0&id=6db19d83&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6db19d83\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.keypair.vue?vue&type=style&index=0&id=0f630528&prod&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./snapshot.kubevirt.io.virtualmachinesnapshot.vue?vue&type=style&index=0&id=6db19d83&prod&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./snapshot.kubevirt.io.virtualmachinesnapshot.vue?vue&type=style&index=0&id=6db19d83&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"04ddae78\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CompatibilityMatrix.vue?vue&type=style&index=0&id=7b101210&prod&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"50b5c9bf\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AccessCredentialsUsers.vue?vue&type=style&index=0&id=7eba9340&prod&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"058ecdf6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvesterhci.io.keypair.vue?vue&type=style&index=0&id=0f630528&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2491b5d3\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#restore[data-v-6db19d83]{flex-grow:1;flex-direction:column}#restore[data-v-6db19d83],#restore[data-v-6db19d83] .radio-group{display:flex}#restore[data-v-6db19d83] .radio-group .radio-container{margin-right:30px}#restore .content[data-v-6db19d83]{flex-grow:1}#restore .footer[data-v-6db19d83]{border-top:var(--header-border-size) solid var(--header-border);margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}#restore .footer[data-v-6db19d83] .spacer-small{padding:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.rows),function(row,i){return _c('InfoBox',{key:i,staticClass:\"infoBox\"},[(!_vm.isView)?_c('button',{staticClass:\"role-link remove-vol\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.remove(row)}}},[_c('i',{staticClass:\"icon icon-x\"})]):_vm._e(),_c('h3',[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.network.title'))+\" \")]),_c('Base',{key:_vm.rows[i].rowKeyId,attrs:{\"rows\":_vm.rows,\"mode\":_vm.mode,\"namespace\":_vm.namespace,\"is-single\":_vm.isSingle,\"network-option\":_vm.networkOption},on:{\"update\":_vm.update},model:{value:(_vm.rows[i]),callback:function ($$v) {_vm.$set(_vm.rows, i, $$v)},expression:\"rows[i]\"}})],1)}),(!_vm.isView)?_c('button',{staticClass:\"btn btn-sm bg-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.add}},[_vm._v(\" \"+_vm._s(_vm.t('harvester.virtualMachine.network.addNetwork'))+\" \")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hen-name\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.name'),\"value\":_vm.value.name,\"mode\":_vm.mode}},[_c('LabeledInput',{attrs:{\"label\":_vm.t('harvester.fields.name'),\"required\":\"\",\"mode\":_vm.mode,\"disabled\":_vm.isDisabled},on:{\"input\":_vm.update},model:{value:(_vm.value.name),callback:function ($$v) {_vm.$set(_vm.value, \"name\", $$v)},expression:\"value.name\"}})],1)],1),_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hen-model\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.model'),\"value\":_vm.value.model,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.fields.model'),\"disabled\":_vm.isDisabled,\"options\":_vm.modelOption,\"mode\":_vm.mode,\"required\":\"\"},on:{\"input\":_vm.update},model:{value:(_vm.value.model),callback:function ($$v) {_vm.$set(_vm.value, \"model\", $$v)},expression:\"value.model\"}})],1)],1)]),_c('div',{staticClass:\"row\",class:{'mb-20': !_vm.isMasquerade}},[_c('div',{staticClass:\"col span-6\",attrs:{\"data-testid\":\"input-hen-networkName\"}},[_c('InputOrDisplay',{attrs:{\"name\":_vm.t('harvester.fields.network'),\"value\":_vm.value.networkName,\"mode\":_vm.mode}},[_c('LabeledSelect',{attrs:{\"label\":_vm.t('harvester.fields.network'),\"options\":_vm.allNetworkOption,\"mode\":_vm.mode,\"required\":\"\",\"disabled\":_vm.isDisabled},on:{\"input\":_vm.updateNetworkName},model:{value:(_vm.value.networkName),callback:function ($$v) {_vm.$set(_vm.value, \"networkName\", $$v)},expression:\"value.networkName\"}})],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport InputOrDisplay from '@shell/components/InputOrDisplay';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nimport { clone } from '@shell/utils/object';\nimport { _CREATE, _VIEW } from '@shell/config/query-params';\nimport { MANAGEMENT_NETWORK } from '../../../mixins/harvester-vm';\n\nconst MODEL = [{\n  label: 'virtio',\n  value: 'virtio'\n}, {\n  label: 'e1000',\n  value: 'e1000'\n// }, {\n//   label: 'e1000e',\n//   value: 'e1000e'\n// }, {\n//   label: 'ne2k_pci',\n//   value: 'ne2k_pci'\n// }, {\n//   label: 'pcnet',\n//   value: 'pcnet'\n// }, {\n//   label: 'rtl8139',\n//   value: 'rtl8139'\n}];\n\nexport default {\n  name:       'HarvesterEditNetwork',\n  components: {\n    LabeledInput, LabeledSelect, InputOrDisplay\n  },\n\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    networkOption: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    rows: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    isSingle: {\n      type:    Boolean,\n      default: true\n    },\n\n    namespace: {\n      type:    String,\n      default: null\n    },\n  },\n\n  data() {\n    const isMasquerade = this.value.isPod;\n\n    if (isMasquerade) {\n      this.value.networkName = MANAGEMENT_NETWORK;\n    }\n\n    return {\n      isMasquerade,\n      hasManagementNetwork: false,\n      showAdvanced:         false,\n    };\n  },\n\n  computed: {\n    isDisabled() {\n      return this.value.name === 'podnet' ? true : this.isMasquerade && !this.value.newCreateId && !this.isCreate;\n    },\n\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    modelOption() {\n      return MODEL;\n    },\n\n    allNetworkOption() {\n      const vlanNetwork = clone(this.networkOption).filter((a) => a.label.includes(this.namespace));\n      const managementNetwork = [{\n        label: MANAGEMENT_NETWORK,\n        value: MANAGEMENT_NETWORK\n      }];\n\n      if (this.value.newCreateId && this.hasManagementNetwork) {\n        return vlanNetwork;\n      // } else if (this.value.newCreateId && !this.hasManagementNetwork) {\n      //   return [...managementNetwork, ...vlanNetwork];\n      } else if (this.isMasquerade) {\n        return managementNetwork;\n      } else {\n        return vlanNetwork;\n      }\n    },\n\n    // typeOption() {\n    //   // const masquerade = [{\n    //   //   label: 'masquerade',\n    //   //   value: 'masquerade'\n    //   // }, {\n    //   //   label: 'bridge',\n    //   //   value: 'bridge'\n    //   // }];\n\n    //   // const other = [{\n    //   //   label: 'bridge',\n    //   //   value: 'bridge'\n    //   // }];\n    //   // return this.isMasquerade ? masquerade : other;\n\n    //   const macvtap = [{\n    //     label: 'macvtap',\n    //     value: 'macvtap'\n    //   }];\n\n    //   return macvtap;\n    // }\n  },\n\n  watch: {\n    rows: {\n      handler(neu) {\n        const hasManagementNetwork = !!neu.some((N) => N.isPod);\n\n        this.$set(this, 'hasManagementNetwork', hasManagementNetwork);\n      },\n      immediate: true,\n      deep:      true\n    },\n\n    isSingle(neu) {\n      if (!neu) {\n        this.$set(this.value, 'macAddress', '');\n        this.update();\n      }\n    }\n  },\n\n  methods: {\n    /**\n     * Patch k8s value based on type of network\n     */\n    updateNetworkName(neu) {\n      if (neu === MANAGEMENT_NETWORK) {\n        this.value.isPod = true;\n        this.value.macAddress = '';\n      } else {\n        this.value.isPod = false;\n      }\n\n      this.$set(this, 'isMasquerade', this.value.isPod);\n\n      if (this.value.isPod) {\n        this.value.type = 'masquerade';\n      } else {\n        // this.value.type = 'bridge';\n        this.value.type = 'macvtap';\n      }\n      this.update();\n    },\n\n    update() {\n      this.$emit('update');\n    },\n\n    toggleAdvanced() {\n      this.showAdvanced = !this.showAdvanced;\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-20\">\n      <div\n        data-testid=\"input-hen-name\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.name')\"\n          :value=\"value.name\"\n          :mode=\"mode\"\n        >\n          <LabeledInput\n            v-model=\"value.name\"\n            :label=\"t('harvester.fields.name')\"\n            required\n            :mode=\"mode\"\n            :disabled=\"isDisabled\"\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <div\n        data-testid=\"input-hen-model\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.model')\"\n          :value=\"value.model\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.model\"\n            :label=\"t('harvester.fields.model')\"\n            :disabled=\"isDisabled\"\n            :options=\"modelOption\"\n            :mode=\"mode\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div>\n    </div>\n\n    <div\n      class=\"row\"\n      :class=\"{'mb-20': !isMasquerade}\"\n    >\n      <div\n        data-testid=\"input-hen-networkName\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.network')\"\n          :value=\"value.networkName\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.networkName\"\n            :label=\"t('harvester.fields.network')\"\n            :options=\"allNetworkOption\"\n            :mode=\"mode\"\n            required\n            :disabled=\"isDisabled\"\n            @input=\"updateNetworkName\"\n          />\n        </InputOrDisplay>\n      </div>\n\n      <!-- <div\n        data-testid=\"input-hen-type\"\n        class=\"col span-6\"\n      >\n        <InputOrDisplay\n          :name=\"t('harvester.fields.type')\"\n          :value=\"value.type\"\n          :mode=\"mode\"\n        >\n          <LabeledSelect\n            v-model=\"value.type\"\n            :label=\"t('harvester.fields.type')\"\n            :options=\"typeOption\"\n            :mode=\"mode\"\n            required\n            @input=\"update\"\n          />\n        </InputOrDisplay>\n      </div> -->\n    </div>\n\n    <!-- <div v-if=\"!isMasquerade && isSingle\">\n      <div class=\"row mb-20\">\n        <a\n          role=\"button\"\n          @click=\"toggleAdvanced\"\n        >\n          {{ showAdvanced ? t('harvester.generic.hideMore') : t('harvester.generic.showMore') }}\n        </a>\n      </div>\n\n      <div class=\"row\">\n        <div\n          v-if=\"showAdvanced\"\n          data-testid=\"input-hen-macAddress\"\n          class=\"col span-6\"\n        >\n          <InputOrDisplay\n            :name=\"t('harvester.fields.macAddress')\"\n            :value=\"value.macAddress\"\n            :mode=\"mode\"\n          >\n            <LabeledInput\n              v-model=\"value.macAddress\"\n              label-key=\"harvester.fields.macAddress\"\n              :mode=\"mode\"\n              :tooltip=\"t('harvester.virtualMachine.volume.macTip')\"\n              @input=\"update\"\n            />\n          </InputOrDisplay>\n        </div>\n      </div>\n    </div> -->\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./base.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./base.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./base.vue?vue&type=template&id=0d3672b4\"\nimport script from \"./base.vue?vue&type=script&lang=js\"\nexport * from \"./base.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport InfoBox from '@shell/components/InfoBox';\nimport Base from './base';\n\nimport { NETWORK_ATTACHMENT } from '@shell/config/types';\nimport { HCI as HCI_ANNOTATIONS } from '../../../config/labels-annotations';\nimport { sortBy } from '@shell/utils/sort';\nimport { clone } from '@shell/utils/object';\nimport { randomStr } from '@shell/utils/string';\nimport { removeObject } from '@shell/utils/array';\nimport { _VIEW } from '@shell/config/query-params';\n\nimport { PRODUCT_NAME } from '../../../types';\n\nexport default {\n  components: { InfoBox, Base },\n\n  props: {\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    value: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    namespace: {\n      type:    String,\n      default: null\n    },\n\n    isSingle: {\n      type:    Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      rows:    this.addKeyId(clone(this.value)),\n      nameIdx: 1\n    };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    networkOption() {\n      const choices = this.$store.getters[`${ PRODUCT_NAME }/all`](NETWORK_ATTACHMENT).filter((row) => {\n        return !row.metadata?.annotations?.[HCI_ANNOTATIONS.STORAGE_NETWORK];\n      });\n\n      const out = sortBy(\n        choices.map((N) => {\n          // const label = N.isNotReady ? `${ N.id } (${ this.t('generic.notReady') })` : N.id;\n          const label = N.id;\n\n          return {\n            label,\n            value: N.metadata.name,\n            // disabled: N.isNotReady,\n          };\n        }),\n        'label'\n      );\n\n      return out;\n    },\n  },\n\n  watch: {\n    value(neu) {\n      this.rows = neu;\n    },\n  },\n\n  methods: {\n    add(type) {\n      const name = this.generateName();\n\n      const neu = {\n        name,\n        networkName: '',\n        model:       'virtio',\n        type:        'bridge',\n        newCreateId: randomStr(10),\n        rowKeyId:    randomStr(10)\n      };\n\n      this.rows.push(neu);\n      this.update();\n    },\n\n    remove(vol) {\n      removeObject(this.rows, vol);\n      this.update();\n    },\n\n    addKeyId(row) {\n      return row.map((R) => {\n        return {\n          ...R,\n          rowKeyId: randomStr(10)\n        };\n      });\n    },\n\n    generateName() {\n      let name = '';\n      let hasUsed = true;\n\n      while (hasUsed) {\n        name = `nic-${ this.nameIdx }`;\n        hasUsed = this.rows.find( (O) => O.name === name);\n        this.nameIdx++;\n      }\n\n      return name;\n    },\n\n    update() {\n      this.$emit('input', this.rows);\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <InfoBox\n      v-for=\"(row, i) in rows\"\n      :key=\"i\"\n      class=\"infoBox\"\n    >\n      <button\n        v-if=\"!isView\"\n        type=\"button\"\n        class=\"role-link remove-vol\"\n        @click=\"remove(row)\"\n      >\n        <i class=\"icon icon-x\" />\n      </button>\n\n      <h3> {{ t('harvester.virtualMachine.network.title') }} </h3>\n\n      <Base\n        :key=\"rows[i].rowKeyId\"\n        v-model=\"rows[i]\"\n        :rows=\"rows\"\n        :mode=\"mode\"\n        :namespace=\"namespace\"\n        :is-single=\"isSingle\"\n        :network-option=\"networkOption\"\n        @update=\"update\"\n      />\n    </InfoBox>\n\n    <button\n      v-if=\"!isView\"\n      type=\"button\"\n      class=\"btn btn-sm bg-primary\"\n      @click=\"add\"\n    >\n      {{ t('harvester.virtualMachine.network.addNetwork') }}\n    </button>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.infoBox{\n  position: relative;\n}\n\n.remove-vol {\n  position: absolute;\n  top: 10px;\n  right: 16px;\n  padding:0px;\n  max-height: 28px;\n  min-height: 28px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b57c60be&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b57c60be&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b57c60be\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./basicAuth.vue?vue&type=style&index=0&id=4ed320b6&prod&lang=scss&scoped=true\""],"sourceRoot":""}